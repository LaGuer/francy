{"version":3,"sources":["francy.bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","requireDomNode","el","obj","HTMLElement","SVGElement","isElement","isExternal","url","lastIndexOf","window","location","host","styles","options","cssLoadedCallback","processFontQueue","queue","processNext","font","transferFailed","console","warn","css","text","oReq","XMLHttpRequest","addEventListener","fontInBase64","buffer","binary","bytes","Uint8Array","len","byteLength","String","fromCharCode","btoa","arrayBufferToBase64","response","dataUrl","format","replace","fontUrlRegexp","setTimeout","updateFontStyle","open","responseType","send","pop","selectorRemap","modifyStyle","fontsQueue","sheets","document","styleSheets","rules","cssRules","href","match","j","rule","selectorText","err","querySelector","parentNode","selector","cssText","style","fontUrlMatch","externalFontUrl","startsWith","push","fontUrl","supportedFormats","woff2","woff","otf","ttf","eot","sfnt","svg","extensions","Object","keys","extension","indexOf","error","getFontMimeTypeFromUrl","getDimension","clone","dim","v","viewBox","baseVal","getAttribute","parseInt","getBoundingClientRect","getComputedStyle","getPropertyValue","isNaN","parseFloat","uriToBlob","uri","byteString","atob","split","mimeString","ArrayBuffer","intArray","charCodeAt","Blob","type","out$","define","this","prepareSvg","cb","scale","responsive","xmlns","callback","images","querySelectorAll","left","checkDone","image","getAttributeNS","value","canvas","createElement","ctx","getContext","img","Image","crossOrigin","src","onload","width","height","drawImage","setAttributeNS","toDataURL","onerror","log","inlineImages","outer","cloneNode","tagName","getBBox","box","x","y","setAttribute","createElementNS","appendChild","removeAttribute","top","join","fos","innerHTML","defs","insertBefore","firstChild","outHtml","svgAsDataUri","data","encodeURIComponent","p1","c","decodeURIComponent","reEncode","svgAsPngUri","encoderType","encoderOptions","convertToPng","w","h","context","canvg","backgroundColor","globalCompositeOperation","fillStyle","fillRect","png","SecurityError","name","slice","download","navigator","msSaveOrOpenBlob","saveLink","display","body","blob","URL","createObjectURL","onclick","requestAnimationFrame","revokeObjectURL","click","removeChild","saveSvg","saveSvgAsPng","2","defineProperty","dontExecuteIfNoData","props","target","descriptor","oldValue","Array","values","hasData","propertyPath","tmp","properties","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","property","hasOwnProperty","return","getProperty","apply","arguments","logger","debug","3","_interopRequireDefault","__esModule","default","_createClass","defineProperties","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_frame2","_renderer2","ALL_CANVAS","Francy","_Renderer","_ref","_ref$verbose","verbose","appendTo","callbackHandler","instance","TypeError","_classCallCheck","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","d3","subClass","superClass","create","constructor","setPrototypeOf","_inherits","frame","load","render","id","element","node","oldResize","onresize","forEach","zoomToFit","./render/frame","./render/renderer","4","_logger2","_jsonUtils2","Base","settings","_ref2","json","partial","parse","get","../util/json-utils","../util/logger","5","_dec","_class","_base2","_modalRequired2","CallbackHandler","_Base","_this2","requiredArgs","calbackObj","_execute","JSON","stringify","decorators","desc","initializer","reverse","reduce","decorator","getOwnPropertyDescriptor","../decorator/data","./base","./modal-required","6","_composite2","_graph2","_chart2","Canvas","_Composite","graph","chart","add","zoomed","content","attr","event","transform","parent","canvasId","select","append","zoom","on","defaultPrevented","stopPropagation","bounds","clientBounds","fullWidth","right","fullHeight","bottom","midX","midY","Math","max","translateX","translateY","transition","duration","zoomIdentity","translate","updateZoom","renderChildren","./chart","./composite","./graph","7","_tooltip2","BarChart","tooltip","axis","datasets","datasetNames","margin","scaleBand","range","padding","domain","scaleLinear","concat","d","domainRange","barsGroup","selectAll","index","bar","exit","remove","enter","colors","bandwidth","unrender","merge","xAxisGroup","axisBottom","title","yAxisGroup","axisLeft","legendGroup","legend","./renderer","./tooltip","8","LineChart","linesGroup","valueLine","line","9","ScatterChart","scatterGroup","scatter","10","_chartBar2","_chartLine2","_chartScatter2","Chart","dataset","A","B","from","_","map","scaleSequential","interpolator","interpolateRainbow","./chart-bar","./chart-line","./chart-scatter","11","Composite","renderers","renderer","12","_canvas2","_menuMain2","_message2","Frame","menu","messages","frameId","./canvas","./menu-main","./message","13","_menuContext2","_callback2","Graph","symbolCircle","symbolCross","symbolDiamond","symbolSquare","symbolTriangle","symbolStar","symbolWye","ticked","link","source","label","sqrt","size","each","alpha","quadTree","quadtree","canvasNodes","rb","nx1","nx2","ny1","ny2","visit","quad","x1","y1","x2","y2","point","collide","connectedNodes","neighboring","b","linkedByIndex","preventDefault","toggle","__data__","dragstarted","active","simulation","alphaTarget","restart","fx","fy","dragged","dragended","executeCallback","callbacks","trigger","execute","dataChanged","contextMenu","nodes","canvasLinks","links","linkGroup","nodeGroup","symbol","getSymbol","layer","highlight","menus","drag","labelGroup","centerForce","forceCenter","manyForce","forceManyBody","strength","linkForce","forceLink","distance","collideForce","forceCollide","forceX","forceY","forceSimulation","force","./callback","./menu-context","14","_menu2","ContextMenu","_Menu","HTMLParent","pos","mouse","SVGParent","menusIterator","traverse","./menu","15","_modalAbout2","SvgToPng","newObj","_interopRequireWildcard","MainMenu","aboutModal","menuId","html","entry","getElementById","../../node_modules/save-svg-as-png/saveSvgAsPng","./modal-about","16","Menu","hasNext","menuItem","action","subMenusIterator","array","nextIndex","17","Message","alertsId","row","18","AboutModal","modalId","overlay","holder","form","version","syntaxHighlight","Jupyter","keyboard_manager","register_events","cls","test","19","RequiredArgsModal","headerTitle","arg","input","onchange","checked","footer","checkValidity","focus","20","Renderer","toUpperCase","21","Tooltip","table","22","JsonUtils","exec","mime","MIME","23","Logger","message","_format","info","_error","level","Date","toISOString"],"mappings":"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","file":"../francy.bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function() {\n  var out$ = typeof exports != 'undefined' && exports || typeof define != 'undefined' && {} || this;\n\n  var doctype = '<?xml version=\"1.0\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\" [<!ENTITY nbsp \"&#160;\">]>';\n\n  function isElement(obj) {\n    return obj instanceof HTMLElement || obj instanceof SVGElement;\n  }\n\n  function requireDomNode(el) {\n    if (!isElement(el)) {\n      throw new Error('an HTMLElement or SVGElement is required; got ' + el);\n    }\n  }\n\n  function isExternal(url) {\n    return url && url.lastIndexOf('http',0) == 0 && url.lastIndexOf(window.location.host) == -1;\n  }\n\n  function inlineImages(el, callback) {\n    requireDomNode(el);\n\n    var images = el.querySelectorAll('image'),\n        left = images.length,\n        checkDone = function() {\n          if (left === 0) {\n            callback();\n          }\n        };\n\n    checkDone();\n    for (var i = 0; i < images.length; i++) {\n      (function(image) {\n        var href = image.getAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\");\n        if (href) {\n          if (isExternal(href.value)) {\n            console.warn(\"Cannot render embedded images linking to external hosts: \"+href.value);\n            return;\n          }\n        }\n        var canvas = document.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        var img = new Image();\n        img.crossOrigin=\"anonymous\";\n        href = href || image.getAttribute('href');\n        if (href) {\n          img.src = href;\n          img.onload = function() {\n            canvas.width = img.width;\n            canvas.height = img.height;\n            ctx.drawImage(img, 0, 0);\n            image.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", canvas.toDataURL('image/png'));\n            left--;\n            checkDone();\n          }\n          img.onerror = function() {\n            console.log(\"Could not load \"+href);\n            left--;\n            checkDone();\n          }\n        } else {\n          left--;\n          checkDone();\n        }\n      })(images[i]);\n    }\n  }\n\n  function styles(el, options, cssLoadedCallback) {\n    var selectorRemap = options.selectorRemap;\n    var modifyStyle = options.modifyStyle;\n    var css = \"\";\n    // each font that has extranl link is saved into queue, and processed\n    // asynchronously\n    var fontsQueue = [];\n    var sheets = document.styleSheets;\n    for (var i = 0; i < sheets.length; i++) {\n      try {\n        var rules = sheets[i].cssRules;\n      } catch (e) {\n        console.warn(\"Stylesheet could not be loaded: \"+sheets[i].href);\n        continue;\n      }\n\n      if (rules != null) {\n        for (var j = 0, match; j < rules.length; j++, match = null) {\n          var rule = rules[j];\n          if (typeof(rule.style) != \"undefined\") {\n            var selectorText;\n\n            try {\n              selectorText = rule.selectorText;\n            } catch(err) {\n              console.warn('The following CSS rule has an invalid selector: \"' + rule + '\"', err);\n            }\n\n            try {\n              if (selectorText) {\n                match = el.querySelector(selectorText) || el.parentNode.querySelector(selectorText);\n              }\n            } catch(err) {\n              console.warn('Invalid CSS selector \"' + selectorText + '\"', err);\n            }\n\n            if (match) {\n              var selector = selectorRemap ? selectorRemap(rule.selectorText) : rule.selectorText;\n              var cssText = modifyStyle ? modifyStyle(rule.style.cssText) : rule.style.cssText;\n              css += selector + \" { \" + cssText + \" }\\n\";\n            } else if(rule.cssText.match(/^@font-face/)) {\n              // below we are trying to find matches to external link. E.g.\n              // @font-face {\n              //   // ...\n              //   src: local('Abel'), url(https://fonts.gstatic.com/s/abel/v6/UzN-iejR1VoXU2Oc-7LsbvesZW2xOQ-xsNqO47m55DA.woff2);\n              // }\n              //\n              // This regex will save extrnal link into first capture group\n              var fontUrlRegexp = /url\\([\"']?(.+?)[\"']?\\)/;\n              // TODO: This needs to be changed to support multiple url declarations per font.\n              var fontUrlMatch = rule.cssText.match(fontUrlRegexp);\n\n              var externalFontUrl = (fontUrlMatch && fontUrlMatch[1]) || '';\n              var fontUrlIsDataURI = externalFontUrl.match(/^data:/);\n              if (fontUrlIsDataURI) {\n                // We should ignore data uri - they are already embedded\n                externalFontUrl = '';\n              }\n\n              if (externalFontUrl) {\n                // okay, we are lucky. We can fetch this font later\n\n                //handle url if relative\n                if (externalFontUrl.startsWith('../')) {\n                  externalFontUrl = sheets[i].href + '/../' + externalFontUrl\n                } else if (externalFontUrl.startsWith('./')) {\n                  externalFontUrl = sheets[i].href + '/.' + externalFontUrl\n                }\n\n                fontsQueue.push({\n                  text: rule.cssText,\n                  // Pass url regex, so that once font is downladed, we can run `replace()` on it\n                  fontUrlRegexp: fontUrlRegexp,\n                  format: getFontMimeTypeFromUrl(externalFontUrl),\n                  url: externalFontUrl\n                });\n              } else {\n                // otherwise, use previous logic\n                css += rule.cssText + '\\n';\n              }\n            }\n          }\n        }\n      }\n    }\n\n    // Now all css is processed, it's time to handle scheduled fonts\n    processFontQueue(fontsQueue);\n\n    function getFontMimeTypeFromUrl(fontUrl) {\n      var supportedFormats = {\n        'woff2': 'font/woff2',\n        'woff': 'font/woff',\n        'otf': 'application/x-font-opentype',\n        'ttf': 'application/x-font-ttf',\n        'eot': 'application/vnd.ms-fontobject',\n        'sfnt': 'application/font-sfnt',\n        'svg': 'image/svg+xml'\n      };\n      var extensions = Object.keys(supportedFormats);\n      for (var i = 0; i < extensions.length; ++i) {\n        var extension = extensions[i];\n        // TODO: This is not bullet proof, it needs to handle edge cases...\n        if (fontUrl.indexOf('.' + extension) > 0) {\n          return supportedFormats[extension];\n        }\n      }\n\n      // If you see this error message, you probably need to update code above.\n      console.error('Unknown font format for ' + fontUrl+ '; Fonts may not be working correctly');\n      return 'application/octet-stream';\n    }\n\n    function processFontQueue(queue) {\n      if (queue.length > 0) {\n        // load fonts one by one until we have anything in the queue:\n        var font = queue.pop();\n        processNext(font);\n      } else {\n        // no more fonts to load.\n        cssLoadedCallback(css);\n      }\n\n      function processNext(font) {\n        // TODO: This could benefit from caching.\n        var oReq = new XMLHttpRequest();\n        oReq.addEventListener('load', fontLoaded);\n        oReq.addEventListener('error', transferFailed);\n        oReq.addEventListener('abort', transferFailed);\n        oReq.open('GET', font.url);\n        oReq.responseType = 'arraybuffer';\n        oReq.send();\n\n        function fontLoaded() {\n          // TODO: it may be also worth to wait until fonts are fully loaded before\n          // attempting to rasterize them. (e.g. use https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet )\n          var fontBits = oReq.response;\n          var fontInBase64 = arrayBufferToBase64(fontBits);\n          updateFontStyle(font, fontInBase64);\n        }\n\n        function transferFailed(e) {\n          console.warn('Failed to load font from: ' + font.url);\n          console.warn(e)\n          css += font.text + '\\n';\n          processFontQueue();\n        }\n\n        function updateFontStyle(font, fontInBase64) {\n          var dataUrl = 'url(\"data:' + font.format + ';base64,' + fontInBase64 + '\")';\n          css += font.text.replace(font.fontUrlRegexp, dataUrl) + '\\n';\n\n          // schedule next font download on next tick.\n          setTimeout(function() {\n            processFontQueue(queue)\n          }, 0);\n        }\n\n      }\n    }\n\n    function arrayBufferToBase64(buffer) {\n      var binary = '';\n      var bytes = new Uint8Array(buffer);\n      var len = bytes.byteLength;\n\n      for (var i = 0; i < len; i++) {\n          binary += String.fromCharCode(bytes[i]);\n      }\n\n      return window.btoa(binary);\n    }\n  }\n\n  function getDimension(el, clone, dim) {\n    var v = (el.viewBox && el.viewBox.baseVal && el.viewBox.baseVal[dim]) ||\n      (clone.getAttribute(dim) !== null && !clone.getAttribute(dim).match(/%$/) && parseInt(clone.getAttribute(dim))) ||\n      el.getBoundingClientRect()[dim] ||\n      parseInt(clone.style[dim]) ||\n      parseInt(window.getComputedStyle(el).getPropertyValue(dim));\n    return (typeof v === 'undefined' || v === null || isNaN(parseFloat(v))) ? 0 : v;\n  }\n\n  function reEncode(data) {\n    data = encodeURIComponent(data);\n    data = data.replace(/%([0-9A-F]{2})/g, function(match, p1) {\n      var c = String.fromCharCode('0x'+p1);\n      return c === '%' ? '%25' : c;\n    });\n    return decodeURIComponent(data);\n  }\n\n  out$.prepareSvg = function(el, options, cb) {\n    requireDomNode(el);\n\n    options = options || {};\n    options.scale = options.scale || 1;\n    options.responsive = options.responsive || false;\n    var xmlns = \"http://www.w3.org/2000/xmlns/\";\n\n    inlineImages(el, function() {\n      var outer = document.createElement(\"div\");\n      var clone = el.cloneNode(true);\n      var width, height;\n      if(el.tagName == 'svg') {\n        width = options.width || getDimension(el, clone, 'width');\n        height = options.height || getDimension(el, clone, 'height');\n      } else if(el.getBBox) {\n        var box = el.getBBox();\n        width = box.x + box.width;\n        height = box.y + box.height;\n        clone.setAttribute('transform', clone.getAttribute('transform').replace(/translate\\(.*?\\)/, ''));\n\n        var svg = document.createElementNS('http://www.w3.org/2000/svg','svg')\n        svg.appendChild(clone)\n        clone = svg;\n      } else {\n        console.error('Attempted to render non-SVG element', el);\n        return;\n      }\n\n      clone.setAttribute(\"version\", \"1.1\");\n      if (!clone.getAttribute('xmlns')) {\n        clone.setAttributeNS(xmlns, \"xmlns\", \"http://www.w3.org/2000/svg\");\n      }\n      if (!clone.getAttribute('xmlns:xlink')) {\n        clone.setAttributeNS(xmlns, \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n      }\n\n      if (options.responsive) {\n        clone.removeAttribute('width');\n        clone.removeAttribute('height');\n        clone.setAttribute('preserveAspectRatio', 'xMinYMin meet');\n      } else {\n        clone.setAttribute(\"width\", width * options.scale);\n        clone.setAttribute(\"height\", height * options.scale);\n      }\n\n      clone.setAttribute(\"viewBox\", [\n        options.left || 0,\n        options.top || 0,\n        width,\n        height\n      ].join(\" \"));\n\n      var fos = clone.querySelectorAll('foreignObject > *');\n      for (var i = 0; i < fos.length; i++) {\n        if (!fos[i].getAttribute('xmlns')) {\n          fos[i].setAttributeNS(xmlns, \"xmlns\", \"http://www.w3.org/1999/xhtml\");\n        }\n      }\n\n      outer.appendChild(clone);\n\n      // In case of custom fonts we need to fetch font first, and then inline\n      // its url into data-uri format (encode as base64). That's why style\n      // processing is done asynchonously. Once all inlining is finshed\n      // cssLoadedCallback() is called.\n      styles(el, options, cssLoadedCallback);\n\n      function cssLoadedCallback(css) {\n        // here all fonts are inlined, so that we can render them properly.\n        var s = document.createElement('style');\n        s.setAttribute('type', 'text/css');\n        s.innerHTML = \"<![CDATA[\\n\" + css + \"\\n]]>\";\n        var defs = document.createElement('defs');\n        defs.appendChild(s);\n        clone.insertBefore(defs, clone.firstChild);\n\n        if (cb) {\n          var outHtml = outer.innerHTML;\n          outHtml = outHtml.replace(/NS\\d+:href/gi, 'xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href');\n          cb(outHtml, width, height);\n        }\n      }\n    });\n  }\n\n  out$.svgAsDataUri = function(el, options, cb) {\n    out$.prepareSvg(el, options, function(svg) {\n      var uri = 'data:image/svg+xml;base64,' + window.btoa(reEncode(doctype + svg));\n      if (cb) {\n        cb(uri);\n      }\n    });\n  }\n\n  out$.svgAsPngUri = function(el, options, cb) {\n    requireDomNode(el);\n\n    options = options || {};\n    options.encoderType = options.encoderType || 'image/png';\n    options.encoderOptions = options.encoderOptions || 0.8;\n\n    var convertToPng = function(src, w, h) {\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.width = w;\n      canvas.height = h;\n\n      if(options.canvg) {\n        options.canvg(canvas, src);\n      } else {\n        context.drawImage(src, 0, 0);\n      }\n\n      if(options.backgroundColor){\n        context.globalCompositeOperation = 'destination-over';\n        context.fillStyle = options.backgroundColor;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      }\n\n      var png;\n      try {\n        png = canvas.toDataURL(options.encoderType, options.encoderOptions);\n      } catch (e) {\n        if ((typeof SecurityError !== 'undefined' && e instanceof SecurityError) || e.name == \"SecurityError\") {\n          console.error(\"Rendered SVG images cannot be downloaded in this browser.\");\n          return;\n        } else {\n          throw e;\n        }\n      }\n      cb(png);\n    }\n\n    if(options.canvg) {\n      out$.prepareSvg(el, options, convertToPng);\n    } else {\n      out$.svgAsDataUri(el, options, function(uri) {\n        var image = new Image();\n\n        image.onload = function() {\n          convertToPng(image, image.width, image.height);\n        }\n\n        image.onerror = function() {\n          console.error(\n            'There was an error loading the data URI as an image on the following SVG\\n',\n            window.atob(uri.slice(26)), '\\n',\n            \"Open the following link to see browser's diagnosis\\n\",\n            uri);\n        }\n\n        image.src = uri;\n      });\n    }\n  }\n\n  out$.download = function(name, uri) {\n    if (navigator.msSaveOrOpenBlob) {\n      navigator.msSaveOrOpenBlob(uriToBlob(uri), name);\n    } else {\n      var saveLink = document.createElement('a');\n      var downloadSupported = 'download' in saveLink;\n      if (downloadSupported) {\n        saveLink.download = name;\n        saveLink.style.display = 'none';\n        document.body.appendChild(saveLink);\n        try {\n          var blob = uriToBlob(uri);\n          var url = URL.createObjectURL(blob);\n          saveLink.href = url;\n          saveLink.onclick = function() {\n            requestAnimationFrame(function() {\n              URL.revokeObjectURL(url);\n            })\n          };\n        } catch (e) {\n          console.warn('This browser does not support object URLs. Falling back to string URL.');\n          saveLink.href = uri;\n        }\n        saveLink.click();\n        document.body.removeChild(saveLink);\n      }\n      else {\n        window.open(uri, '_temp', 'menubar=no,toolbar=no,status=no');\n      }\n    }\n  }\n\n  function uriToBlob(uri) {\n    var byteString = window.atob(uri.split(',')[1]);\n    var mimeString = uri.split(',')[0].split(':')[1].split(';')[0]\n    var buffer = new ArrayBuffer(byteString.length);\n    var intArray = new Uint8Array(buffer);\n    for (var i = 0; i < byteString.length; i++) {\n      intArray[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([buffer], {type: mimeString});\n  }\n\n  out$.saveSvg = function(el, name, options) {\n    requireDomNode(el);\n\n    options = options || {};\n    out$.svgAsDataUri(el, options, function(uri) {\n      out$.download(name, uri);\n    });\n  }\n\n  out$.saveSvgAsPng = function(el, name, options) {\n    requireDomNode(el);\n\n    options = options || {};\n    out$.svgAsPngUri(el, options, function(uri) {\n      out$.download(name, uri);\n    });\n  }\n\n  // if define is defined create as an AMD module\n  if (typeof define !== 'undefined') {\n    define(function() {\n      return out$;\n    });\n  }\n\n})();\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dontExecuteIfNoData = dontExecuteIfNoData;\nfunction dontExecuteIfNoData(props) {\n  return function decorator(target, name, descriptor) {\n    var oldValue = descriptor.value;\n\n    descriptor.value = function () {\n      if (!hasData(getProperty(this.data, props))) {\n        this.logger.debug('No data here [' + props + '], nothing to render... continuing...');\n        return;\n      }\n      return oldValue.apply(this, arguments);\n    };\n\n    return descriptor;\n  };\n}\n\nfunction getProperty(obj, propertyPath) {\n\n  var tmp = obj;\n\n  if (tmp && propertyPath) {\n    var properties = propertyPath.split('.');\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = properties[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var property = _step.value;\n\n        if (!tmp.hasOwnProperty(property)) {\n          tmp = undefined;\n          break;\n        } else {\n          tmp = tmp[property];\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }\n\n  return tmp;\n}\n\nfunction hasData(obj) {\n  if (obj && (obj instanceof Array && obj.length || obj instanceof Object && Object.values(obj).length)) {\n    return true;\n  }\n  return false;\n}\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _frame = require('./render/frame');\n\nvar _frame2 = _interopRequireDefault(_frame);\n\nvar _renderer = require('./render/renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n//import Tracker from './tracker/change';\n\nvar ALL_CANVAS = {};\n\n/* global d3 */\n\n/**\n * Francy is the main entry point for the whole framework. By passing an input string/object to the {Francy.handle} function,\n * Francy will handle the creation of that json as long it is a valid and understandable json object to Francy.\n * @access public\n * \n * @version 0.5.0\n * \n * @example\n * let francy = new Francy({verbose: true, appendTo: '#div-id', callbackHandler: console.log});\n * francy.load(json).render();\n */\n\nvar Francy = function (_Renderer) {\n  _inherits(Francy, _Renderer);\n\n  /**\n   * Creates an instance of Francy with the following options:\n   * @typedef {Object} Options\n   * @property {Boolean} verbose prints extra log information to console.log, default false\n   * @property {Boolean} appendTo where the generated html/svg components will be attached to, default body\n   * @property {Function} callbackHandler this handler will be used to invoke actions from the menu, default console.log\n   */\n  function Francy(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Francy);\n\n    var _this = _possibleConstructorReturn(this, (Francy.__proto__ || Object.getPrototypeOf(Francy)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    if (!d3) {\n      throw new Error('D3 is not imported! Francy won\\'t work without it... please import D3 v4+.');\n    }\n    return _this;\n  }\n\n  /**\n   * Main entry point. Calling render passing a json representation string will \n   * trigger the drawing of a json object.\n   * @returns {Object} the html element created\n   */\n\n\n  _createClass(Francy, [{\n    key: 'render',\n    value: function render() {\n      //var tracker = new Tracker(json, this.options);\n      //tracker.subscribe(function(obj) { console.log(obj); });\n      //return new Draw(this.options).handle(tracker.object);\n      var frame = new _frame2.default(this.options).load(this.data).render();\n      ALL_CANVAS[this.data.canvas.id] = frame.canvas;\n      return frame.element.node();\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender(id) {\n      delete ALL_CANVAS[id];\n    }\n  }]);\n\n  return Francy;\n}(_renderer2.default);\n\nexports.default = Francy;\n\n\ntry {\n  exports.Francy = window.Francy = Francy;\n  // handle events on resize\n  var oldResize = window.onresize;\n  window.onresize = function () {\n    // zoom to fit all canvas on resize\n    Object.values(ALL_CANVAS).forEach(function (canvas) {\n      canvas.zoomToFit();\n    });\n    // call old resize function if any!\n    if (typeof oldResize === 'function') {\n      oldResize();\n    }\n  };\n} catch (e) {\n  exports.Francy = Francy;\n}\n\n},{\"./render/frame\":12,\"./render/renderer\":20}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _logger = require('../util/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _jsonUtils = require('../util/json-utils');\n\nvar _jsonUtils2 = _interopRequireDefault(_jsonUtils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Base = function () {\n  function Base(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Base);\n\n    this.settings({ verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler });\n    /**\n     * @type {Logger} the logger for this class\n     */\n    this.log = new _logger2.default(this.options);\n  }\n\n  _createClass(Base, [{\n    key: 'settings',\n    value: function settings(_ref2) {\n      var verbose = _ref2.verbose,\n          appendTo = _ref2.appendTo,\n          callbackHandler = _ref2.callbackHandler;\n\n      if (!callbackHandler) {\n        throw new Error('A Callback Handler must be provided! This will be used to trigger events from the graphics produced...');\n      }\n      if (!appendTo) {\n        throw new Error('Missing an element or id to append the graphics to...!');\n      }\n      /**\n       * @typedef {Object} Options\n       * @property {Boolean} verbose prints extra log information to console.log, default false\n       * @property {Boolean} appendTo where the generated html/svg components will be attached to, default body\n       * @property {Function} callbackHandler this handler will be used to invoke actions from the menu, default console.log\n       */\n      this.options = {};\n      this.options.verbose = verbose || this.options.verbose;\n      this.options.appendTo = appendTo || this.options.verbose;\n      this.options.callbackHandler = callbackHandler || this.options.callbackHandler;\n      return this;\n    }\n  }, {\n    key: 'load',\n    value: function load(json, partial) {\n      var data = _jsonUtils2.default.parse(json, partial);\n      if (data) {\n        this.data = data;\n      }\n      return this;\n    }\n  }, {\n    key: 'logger',\n    get: function get() {\n      return this.log;\n    }\n  }]);\n\n  return Base;\n}();\n\nexports.default = Base;\n\n},{\"../util/json-utils\":22,\"../util/logger\":23}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _base = require('./base');\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _modalRequired = require('./modal-required');\n\nvar _modalRequired2 = _interopRequireDefault(_modalRequired);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nvar CallbackHandler = (_dec = (0, _data.dontExecuteIfNoData)(), (_class = function (_Base) {\n  _inherits(CallbackHandler, _Base);\n\n  function CallbackHandler(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, CallbackHandler);\n\n    var _this = _possibleConstructorReturn(this, (CallbackHandler.__proto__ || Object.getPrototypeOf(CallbackHandler)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    _this.callback = callbackHandler;\n    return _this;\n  }\n\n  _createClass(CallbackHandler, [{\n    key: 'execute',\n    value: function execute() {\n      var _this2 = this;\n\n      if (Object.keys(this.data.callback.requiredArgs).length) {\n        var options = this.options;\n        options.callbackHandler = function (calbackObj) {\n          return _this2._execute.call(_this2, calbackObj);\n        };\n        return new _modalRequired2.default(options).load(this.data, true).render();\n      } else {\n        // Trigger is the expected command on GAP for this events!\n        this._execute(this.data.callback);\n      }\n    }\n  }, {\n    key: '_execute',\n    value: function _execute(calbackObj) {\n      this.callback('Trigger(' + JSON.stringify(JSON.stringify(calbackObj)) + ');');\n    }\n  }]);\n\n  return CallbackHandler;\n}(_base2.default), (_applyDecoratedDescriptor(_class.prototype, 'execute', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'execute'), _class.prototype)), _class));\nexports.default = CallbackHandler;\n\n},{\"../decorator/data\":2,\"./base\":4,\"./modal-required\":19}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _composite = require('./composite');\n\nvar _composite2 = _interopRequireDefault(_composite);\n\nvar _graph = require('./graph');\n\nvar _graph2 = _interopRequireDefault(_graph);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Canvas = (_dec = (0, _data.dontExecuteIfNoData)(), (_class = function (_Composite) {\n  _inherits(Canvas, _Composite);\n\n  function Canvas(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Canvas);\n\n    var _this = _possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    _this.graph = new _graph2.default(_this.options);\n    _this.chart = new _chart2.default(_this.options);\n    _this.add(_this.graph).add(_this.chart);\n    return _this;\n  }\n\n  _createClass(Canvas, [{\n    key: 'render',\n    value: function render() {\n      var parent = this.options.appendTo.element;\n\n      var canvasId = this.data.canvas.id;\n      this.element = d3.select('svg#' + canvasId);\n      // check if the canvas is already present\n      if (!this.element.node()) {\n        // create a svg element detached from the DOM!\n        this.logger.debug('Creating Canvas [' + canvasId + ']...');\n        this.element = parent.append('svg').attr('class', 'francy-canvas').attr('id', canvasId);\n      }\n\n      // cannot continue if canvas is not present\n      if (!this.element.node()) {\n        throw new Error('Oops, could not create canvas with id [' + canvasId + ']... Cannot proceed.');\n      }\n\n      this.element.attr('width', this.data.canvas.width).attr('height', this.data.canvas.height);\n\n      var zoom = d3.zoom();\n\n      var content = this.element.select('g.francy-content');\n\n      if (!content.node()) {\n        content = this.element.append('g').attr('class', 'francy-content');\n        zoom.on(\"zoom\", zoomed);\n        this.element.call(zoom).on(\"dblclick.zoom\", null);\n      }\n\n      this.element.on(\"click\", stopped, true);\n\n      var self = this;\n      this.element.zoomToFit = this.zoomToFit = function () {\n        // only execute if enable, of course\n        if (self.data.canvas.zoomToFit) {\n          var bounds = content.node().getBBox();\n\n          var clientBounds = self.element.node().getBoundingClientRect(),\n              fullWidth = clientBounds.right - clientBounds.left,\n              fullHeight = clientBounds.bottom - clientBounds.top;\n\n          var width = bounds.width,\n              height = bounds.height;\n\n          if (width == 0 || height == 0) return;\n\n          var midX = bounds.x + width / 2,\n              midY = bounds.y + height / 2;\n\n          var scale = 0.75 / Math.max(width / fullWidth, height / fullHeight);\n          var translateX = fullWidth / 2 - scale * midX,\n              translateY = fullHeight / 2 - scale * midY;\n\n          content.transition().duration(2000).attr('transform', 'translate(' + translateX + ',' + translateY + ')scale(' + scale + ',' + scale + ')').on('end', function () {\n            return updateZoom(translateX, translateY, scale);\n          });\n        }\n      };\n\n      function updateZoom(translateX, translateY, scale) {\n        self.element.call(zoom.transform, d3.zoomIdentity.translate(translateX, translateY).scale(scale, scale));\n      }\n\n      function zoomed() {\n        content.attr(\"transform\", d3.event.transform);\n      }\n\n      function stopped() {\n        if (d3.event.defaultPrevented) {\n          d3.event.stopPropagation();\n        }\n      }\n\n      this.logger.debug('Canvas updated [' + canvasId + ']...');\n\n      this.renderChildren();\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Canvas;\n}(_composite2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Canvas;\n\n},{\"../decorator/data\":2,\"./chart\":10,\"./composite\":11,\"./graph\":13}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar BarChart = function (_Renderer) {\n  _inherits(BarChart, _Renderer);\n\n  function BarChart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, BarChart);\n\n    return _possibleConstructorReturn(this, (BarChart.__proto__ || Object.getPrototypeOf(BarChart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(BarChart, [{\n    key: 'render',\n    value: function render() {\n\n      var tooltip = new _tooltip2.default(this.options);\n\n      var parent = this.options.appendTo.element;\n\n      var axis = this.data.canvas.chart.axis,\n          datasets = this.data.canvas.chart.data,\n          datasetNames = Object.keys(datasets);\n\n      this.element = parent.select('g.francy-content');\n\n      var margin = { top: 50, right: 50, bottom: 50, left: 50 },\n          width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      // set the dimensions and margins of the chart\n      width = width - margin.left - margin.right;\n      height = height - margin.top - margin.bottom;\n\n      // set the ranges\n      var x = d3.scaleBand().range([0, width]).padding(0.1).domain(axis.x.domain);\n      var y = d3.scaleLinear().range([height, 0]).domain(axis.y.domain);\n\n      var tmp = [];\n      datasetNames.forEach(function (key) {\n        return tmp = tmp.concat(datasets[key]);\n      });\n\n      if (!axis.y.domain.length) {\n        y.domain([0, d3.max(tmp, function (d) {\n          return d;\n        })]);\n      }\n\n      if (!axis.x.domain.length) {\n        axis.x.domain = _chart2.default.domainRange(tmp.length / datasetNames.length);\n        x.domain(axis.x.domain);\n      }\n\n      var barsGroup = this.element.selectAll('g.francy-bars');\n\n      if (!barsGroup.node()) {\n        barsGroup = this.element.append('g').attr('class', 'francy-bars');\n      }\n\n      datasetNames.forEach(function (key, index) {\n        var bar = barsGroup.selectAll('.francy-bar' + index).data(datasets[key]);\n\n        bar.exit().remove();\n\n        // append the rectangles for the bar chart\n        bar.enter().append('rect').style('fill', function () {\n          return _chart2.default.colors(index * 5);\n        }).attr('class', 'francy-bar' + index).attr('x', function (d, i) {\n          return x(axis.x.domain[i]) + index * (x.bandwidth() / datasetNames.length);\n        }).attr('width', x.bandwidth() / datasetNames.length - 1).attr('y', function (d) {\n          return y(d);\n        }).attr('height', function (d) {\n          return height - y(d);\n        }).on(\"mouseenter\", function (d) {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 0.5);\n          tooltip.load(_chart2.default.tooltip(key, d), true).render();\n        }).on(\"mouseleave\", function () {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 1);\n          tooltip.unrender();\n        });\n\n        bar.merge(bar);\n      });\n\n      // force rebuild axis again\n      var xAxisGroup = this.element.selectAll('g.francy-x-axis');\n\n      if (!xAxisGroup.node()) {\n        xAxisGroup = this.element.append('g').attr('class', 'francy-x-axis');\n      }\n\n      xAxisGroup.selectAll('*').remove();\n\n      // add the x Axis\n      xAxisGroup.attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x)).append('text').attr('dy', 50).attr('dx', width / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.x.title);\n\n      // force rebuild axis again\n      var yAxisGroup = this.element.selectAll('g.francy-y-axis');\n\n      if (!yAxisGroup.node()) {\n        yAxisGroup = this.element.append('g').attr('class', 'francy-y-axis');\n      }\n\n      yAxisGroup.selectAll('*').remove();\n\n      // add the y Axis\n      yAxisGroup.call(d3.axisLeft(y)).append('text').attr('dx', -50).attr('dy', height / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.y.title);\n\n      var legendGroup = this.element.selectAll('.francy-legend');\n\n      if (!legendGroup.node()) {\n        legendGroup = this.element.append('g').attr('class', 'francy-legend');\n      }\n\n      // force rebuild legend again\n      legendGroup.selectAll('*').remove();\n\n      var legend = legendGroup.selectAll('g').data(datasetNames.slice());\n\n      legend.exit().remove();\n\n      legend = legend.enter().append('g').attr('transform', function (d, i) {\n        return 'translate(0,' + i * 20 + ')';\n      }).merge(legend);\n\n      legend.append('rect').attr('x', width + 20).attr('width', 19).attr('height', 19).style('fill', function (d, i) {\n        return _chart2.default.colors(i * 5);\n      });\n\n      legend.append('text').attr('x', width + 80).attr('y', 9).attr('dy', '.35em').style('text-anchor', 'end').text(function (d) {\n        return d;\n      });\n\n      parent.zoomToFit();\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return BarChart;\n}(_renderer2.default);\n\nexports.default = BarChart;\n\n},{\"./chart\":10,\"./renderer\":20,\"./tooltip\":21}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar LineChart = function (_Renderer) {\n  _inherits(LineChart, _Renderer);\n\n  function LineChart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, LineChart);\n\n    return _possibleConstructorReturn(this, (LineChart.__proto__ || Object.getPrototypeOf(LineChart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(LineChart, [{\n    key: 'render',\n    value: function render() {\n\n      var tooltip = new _tooltip2.default(this.options);\n\n      var parent = this.options.appendTo.element;\n\n      var axis = this.data.canvas.chart.axis,\n          datasets = this.data.canvas.chart.data,\n          datasetNames = Object.keys(datasets);\n\n      this.element = parent.select('g.francy-content');\n\n      var margin = { top: 50, right: 50, bottom: 50, left: 50 },\n          width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      // set the dimensions and margins of the chart\n      width = width - margin.left - margin.right;\n      height = height - margin.top - margin.bottom;\n\n      // set the ranges\n      var x = d3.scaleLinear().range([0, width]).domain(axis.x.domain);\n      var y = d3.scaleLinear().range([height, 0]).domain(axis.y.domain);\n\n      var tmp = [];\n      datasetNames.forEach(function (key) {\n        return tmp = tmp.concat(datasets[key]);\n      });\n\n      if (!axis.y.domain.length) {\n        y.domain([0, d3.max(tmp, function (d) {\n          return d;\n        })]);\n      }\n\n      if (!axis.x.domain.length) {\n        x.domain([0, tmp.length / datasetNames.length]);\n      }\n\n      var linesGroup = this.element.selectAll('g.francy-lines');\n\n      if (!linesGroup.node()) {\n        linesGroup = this.element.append('g').attr('class', 'francy-lines');\n      }\n\n      datasetNames.forEach(function (key, index) {\n        var valueLine = d3.line().x(function (d, i) {\n          return x(i);\n        }).y(function (d) {\n          return y(d);\n        });\n\n        var line = linesGroup.selectAll('.line' + index).data([datasets[key]]);\n\n        line.exit().remove();\n\n        // append the rectangles for the bar chart\n        line.enter().append('path').style('stroke', function () {\n          return _chart2.default.colors(index * 5);\n        }).style('stroke-width', '5px').attr('class', 'francy-line' + index).attr('d', valueLine).on(\"mouseenter\", function (d) {\n          d3.select(this).transition().duration(250).style(\"stroke-opacity\", 0.5).style('stroke-width', '10px');\n          tooltip.load(_chart2.default.tooltip(key, d), true).render();\n        }).on(\"mouseleave\", function () {\n          d3.select(this).transition().duration(250).style(\"stroke-opacity\", 1).style('stroke-width', '5px');\n          tooltip.unrender();\n        });\n\n        line.merge(line);\n      });\n\n      // force rebuild axis again\n      var xAxisGroup = this.element.selectAll('g.francy-x-axis');\n\n      if (!xAxisGroup.node()) {\n        xAxisGroup = this.element.append('g').attr('class', 'francy-x-axis');\n      }\n\n      xAxisGroup.selectAll('*').remove();\n\n      // add the x Axis\n      xAxisGroup.attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x)).append('text').attr('dy', 50).attr('dx', width / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.x.title);\n\n      // force rebuild axis again\n      var yAxisGroup = this.element.selectAll('g.francy-y-axis');\n\n      if (!yAxisGroup.node()) {\n        yAxisGroup = this.element.append('g').attr('class', 'francy-y-axis');\n      }\n\n      yAxisGroup.selectAll('*').remove();\n\n      // add the y Axis\n      yAxisGroup.call(d3.axisLeft(y)).append('text').attr('dx', -50).attr('dy', height / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.y.title);\n\n      var legendGroup = this.element.selectAll('.francy-legend');\n\n      if (!legendGroup.node()) {\n        legendGroup = this.element.append('g').attr('class', 'francy-legend');\n      }\n\n      // force rebuild legend again\n      legendGroup.selectAll('*').remove();\n\n      var legend = legendGroup.selectAll('g').data(datasetNames.slice());\n\n      legend.exit().remove();\n\n      legend = legend.enter().append('g').attr('transform', function (d, i) {\n        return 'translate(0,' + i * 20 + ')';\n      }).merge(legend);\n\n      legend.append('rect').attr('x', width + 20).attr('width', 19).attr('height', 19).style('fill', function (d, i) {\n        return _chart2.default.colors(i * 5);\n      });\n\n      legend.append('text').attr('x', width + 80).attr('y', 9).attr('dy', '.35em').style('text-anchor', 'end').text(function (d) {\n        return d;\n      });\n\n      parent.zoomToFit();\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return LineChart;\n}(_renderer2.default);\n\nexports.default = LineChart;\n\n},{\"./chart\":10,\"./renderer\":20,\"./tooltip\":21}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar ScatterChart = function (_Renderer) {\n  _inherits(ScatterChart, _Renderer);\n\n  function ScatterChart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, ScatterChart);\n\n    return _possibleConstructorReturn(this, (ScatterChart.__proto__ || Object.getPrototypeOf(ScatterChart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(ScatterChart, [{\n    key: 'render',\n    value: function render() {\n\n      var tooltip = new _tooltip2.default(this.options);\n\n      var parent = this.options.appendTo.element;\n\n      var axis = this.data.canvas.chart.axis,\n          datasets = this.data.canvas.chart.data,\n          datasetNames = Object.keys(datasets);\n\n      this.element = parent.select('g.francy-content');\n\n      var margin = { top: 50, right: 50, bottom: 50, left: 50 },\n          width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      // set the dimensions and margins of the chart\n      width = width - margin.left - margin.right;\n      height = height - margin.top - margin.bottom;\n\n      // set the ranges\n      var x = d3.scaleLinear().range([0, width]).domain(axis.x.domain);\n      var y = d3.scaleLinear().range([height, 0]).domain(axis.y.domain);\n\n      var tmp = [];\n      datasetNames.forEach(function (key) {\n        return tmp = tmp.concat(datasets[key]);\n      });\n\n      if (!axis.y.domain.length) {\n        y.domain([0, d3.max(tmp, function (d) {\n          return d;\n        })]);\n      }\n\n      if (!axis.x.domain.length) {\n        x.domain([0, tmp.length / datasetNames.length]);\n      }\n\n      var scatterGroup = this.element.selectAll('g.francy-scatters');\n\n      if (!scatterGroup.node()) {\n        scatterGroup = this.element.append('g').attr('class', 'francy-scatters');\n      }\n\n      datasetNames.forEach(function (key, index) {\n        var scatter = scatterGroup.selectAll('.scatter' + index).data(datasets[key]);\n\n        scatter.exit().remove();\n\n        // append the rectangles for the bar chart\n        scatter.enter().append('circle').style('fill', function () {\n          return _chart2.default.colors(index * 5);\n        }).attr('class', 'francy-scatter' + index).attr(\"r\", 5).attr(\"cx\", function (d, i) {\n          return x(i);\n        }).attr(\"cy\", function (d) {\n          return y(d);\n        }).on(\"mouseenter\", function (d) {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 0.5).attr('r', 10);\n          tooltip.load(_chart2.default.tooltip(key, d), true).render();\n        }).on(\"mouseleave\", function () {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 1).attr('r', 5);\n          tooltip.unrender();\n        });\n\n        scatter.merge(scatter);\n      });\n\n      // force rebuild axis again\n      var xAxisGroup = this.element.selectAll('g.francy-x-axis');\n\n      if (!xAxisGroup.node()) {\n        xAxisGroup = this.element.append('g').attr('class', 'francy-x-axis');\n      }\n\n      xAxisGroup.selectAll('*').remove();\n\n      // add the x Axis\n      xAxisGroup.attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x)).append('text').attr('dy', 50).attr('dx', width / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.x.title);\n\n      // force rebuild axis again\n      var yAxisGroup = this.element.selectAll('g.francy-y-axis');\n\n      if (!yAxisGroup.node()) {\n        yAxisGroup = this.element.append('g').attr('class', 'francy-y-axis');\n      }\n\n      yAxisGroup.selectAll('*').remove();\n\n      // add the y Axis\n      yAxisGroup.call(d3.axisLeft(y)).append('text').attr('dx', -50).attr('dy', height / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.y.title);\n\n      var legendGroup = this.element.selectAll('.francy-legend');\n\n      if (!legendGroup.node()) {\n        legendGroup = this.element.append('g').attr('class', 'francy-legend');\n      }\n\n      // force rebuild legend again\n      legendGroup.selectAll('*').remove();\n\n      var legend = legendGroup.selectAll('g').data(datasetNames.slice());\n\n      legend.exit().remove();\n\n      legend = legend.enter().append('g').attr('transform', function (d, i) {\n        return 'translate(0,' + i * 20 + ')';\n      }).merge(legend);\n\n      legend.append('rect').attr('x', width + 20).attr('width', 19).attr('height', 19).style('fill', function (d, i) {\n        return _chart2.default.colors(i * 5);\n      });\n\n      legend.append('text').attr('x', width + 80).attr('y', 9).attr('dy', '.35em').style('text-anchor', 'end').text(function (d) {\n        return d;\n      });\n\n      parent.zoomToFit();\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return ScatterChart;\n}(_renderer2.default);\n\nexports.default = ScatterChart;\n\n},{\"./chart\":10,\"./renderer\":20,\"./tooltip\":21}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _chartBar = require('./chart-bar');\n\nvar _chartBar2 = _interopRequireDefault(_chartBar);\n\nvar _chartLine = require('./chart-line');\n\nvar _chartLine2 = _interopRequireDefault(_chartLine);\n\nvar _chartScatter = require('./chart-scatter');\n\nvar _chartScatter2 = _interopRequireDefault(_chartScatter);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Chart = (_dec = (0, _data.dontExecuteIfNoData)('canvas.chart'), (_class = function (_Renderer) {\n  _inherits(Chart, _Renderer);\n\n  function Chart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Chart);\n\n    return _possibleConstructorReturn(this, (Chart.__proto__ || Object.getPrototypeOf(Chart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Chart, [{\n    key: 'render',\n    value: function render() {\n\n      var element = undefined;\n      switch (this.data.canvas.chart.type) {\n        case \"bar\":\n          element = new _chartBar2.default(this.options).load(this.data).render();\n          break;\n        case \"line\":\n          element = new _chartLine2.default(this.options).load(this.data).render();\n          break;\n        case \"scatter\":\n          element = new _chartScatter2.default(this.options).load(this.data).render();\n          break;\n      }\n\n      return element;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }], [{\n    key: 'tooltip',\n    value: function tooltip(dataset, value) {\n      return { \"A\": { 'title': 'Dataset', 'text': dataset }, \"B\": { 'title': 'Value', 'text': value } };\n    }\n  }, {\n    key: 'domainRange',\n    value: function domainRange(max) {\n      return Array.from(new Array(max), function (_, i) {\n        return i;\n      }).map(function (x) {\n        return x;\n      });\n    }\n  }, {\n    key: 'colors',\n    get: function get() {\n      return d3.scaleSequential().domain([0, 100]).interpolator(d3.interpolateRainbow);\n    }\n  }]);\n\n  return Chart;\n}(_renderer2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Chart;\n\n},{\"../decorator/data\":2,\"./chart-bar\":7,\"./chart-line\":8,\"./chart-scatter\":9,\"./renderer\":20}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Composite = function (_Renderer) {\n  _inherits(Composite, _Renderer);\n\n  function Composite(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Composite);\n\n    var _this = _possibleConstructorReturn(this, (Composite.__proto__ || Object.getPrototypeOf(Composite)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    if (new.target === Composite) {\n      throw new TypeError('Cannot construct [Composite] instances directly!');\n    }\n    _this.renderers = [];\n    return _this;\n  }\n\n  _createClass(Composite, [{\n    key: 'add',\n    value: function add(renderer) {\n      this.renderers.push(renderer);\n      return this;\n    }\n  }, {\n    key: 'renderChildren',\n    value: function renderChildren() {\n      // update children rendering with a new parent!\n      var options = this.options;\n      options.appendTo = this;\n      // render other components\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.renderers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var renderer = _step.value;\n\n          renderer.settings(options).load(this.data).render();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }]);\n\n  return Composite;\n}(_renderer2.default);\n\nexports.default = Composite;\n\n},{\"./renderer\":20}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _composite = require('./composite');\n\nvar _composite2 = _interopRequireDefault(_composite);\n\nvar _canvas = require('./canvas');\n\nvar _canvas2 = _interopRequireDefault(_canvas);\n\nvar _menuMain = require('./menu-main');\n\nvar _menuMain2 = _interopRequireDefault(_menuMain);\n\nvar _message = require('./message');\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Frame = (_dec = (0, _data.dontExecuteIfNoData)(), (_class = function (_Composite) {\n  _inherits(Frame, _Composite);\n\n  function Frame(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Frame);\n\n    var _this = _possibleConstructorReturn(this, (Frame.__proto__ || Object.getPrototypeOf(Frame)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    _this.canvas = new _canvas2.default(_this.options);\n    _this.menu = new _menuMain2.default(_this.options);\n    _this.messages = new _message2.default(_this.options);\n    _this.add(_this.messages).add(_this.menu).add(_this.canvas);\n    _this.element = undefined;\n    return _this;\n  }\n\n  _createClass(Frame, [{\n    key: 'render',\n    value: function render() {\n      var parent = d3.select(this.options.appendTo);\n\n      var frameId = 'F' + this.data.canvas.id;\n      this.element = d3.select('div#' + frameId);\n      // check if the canvas is already present\n      if (!this.element.node()) {\n        // create a svg element detached from the DOM!\n        this.logger.debug('Creating Frame [' + frameId + ']...');\n        this.element = parent.append('div').attr('class', 'francy').attr('id', frameId);\n      }\n\n      // cannot continue if canvas is not present\n      if (!this.element.node()) {\n        throw new Error('Oops, could not create frame with id [' + frameId + ']... Cannot proceed.');\n      }\n\n      this.logger.debug('Frame updated [' + frameId + ']...');\n\n      this.renderChildren();\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Frame;\n}(_composite2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Frame;\n\n},{\"../decorator/data\":2,\"./canvas\":6,\"./composite\":11,\"./menu-main\":15,\"./message\":17}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _menuContext = require('./menu-context');\n\nvar _menuContext2 = _interopRequireDefault(_menuContext);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _callback = require('./callback');\n\nvar _callback2 = _interopRequireDefault(_callback);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Graph = (_dec = (0, _data.dontExecuteIfNoData)('canvas.graph'), (_class = function (_Renderer) {\n  _inherits(Graph, _Renderer);\n\n  _createClass(Graph, null, [{\n    key: 'getSymbol',\n    value: function getSymbol(type) {\n      if (type === 'circle') {\n        return d3.symbolCircle;\n      } else if (type === 'cross') {\n        return d3.symbolCross;\n      } else if (type === 'diamond') {\n        return d3.symbolDiamond;\n      } else if (type === 'square') {\n        return d3.symbolSquare;\n      } else if (type === 'triangle') {\n        return d3.symbolTriangle;\n      } else if (type === 'star') {\n        return d3.symbolStar;\n      } else if (type === 'wye') {\n        return d3.symbolWye;\n      } else {\n        return d3.symbolCircle;\n      }\n    }\n  }, {\n    key: 'colors',\n    get: function get() {\n      return d3.scaleSequential().domain([0, 100]).interpolator(d3.interpolateRainbow);\n    }\n  }]);\n\n  function Graph(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Graph);\n\n    return _possibleConstructorReturn(this, (Graph.__proto__ || Object.getPrototypeOf(Graph)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Graph, [{\n    key: 'render',\n    value: function render() {\n\n      var parent = this.options.appendTo.element;\n\n      var dataChanged = false;\n      var tooltip = new _tooltip2.default(this.options);\n      var contextMenu = new _menuContext2.default(this.options);\n      var callback = new _callback2.default(this.options);\n\n      var canvasNodes = this.data.canvas.graph.nodes ? Object.values(this.data.canvas.graph.nodes) : [],\n          canvasLinks = this.data.canvas.graph.links ? Object.values(this.data.canvas.graph.links) : [];\n\n      this.element = parent.select('g.francy-content');\n\n      var width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      var linkGroup = this.element.selectAll('g.francy-links');\n\n      if (!linkGroup.node()) {\n        linkGroup = this.element.append('g').attr('class', 'francy-links');\n      }\n\n      var link = linkGroup.selectAll('line.francy-link').data(canvasLinks);\n\n      if (link.enter().data().length > 0 || link.enter().data().length > 0) {\n        dataChanged = true;\n      }\n\n      link.exit().remove();\n\n      link = link.enter().append('line').attr('class', 'francy-link').attr('id', function (d) {\n        return d.source + ',' + d.target;\n      }).attr('x1', function (d) {\n        return d.source.x;\n      }).attr('y1', function (d) {\n        return d.source.y;\n      }).attr('x2', function (d) {\n        return d.target.x;\n      }).attr('y2', function (d) {\n        return d.target.y;\n      }).merge(link);\n\n      if (this.data.canvas.graph.type === 'directed') {\n        // this means we need arrows, so we append the marker\n        parent.append('defs').selectAll('marker').data(['arrow']).enter().append('marker').attr('class', 'francy-arrows').attr('id', function (d) {\n          return d;\n        }).attr('viewBox', '0 -5 10 10').attr('refX', 25).attr('refY', 0).attr('markerWidth', 10).attr('markerHeight', 10).attr('orient', 'auto').append('path').attr('d', 'M0,-5L10,0L0,5 L10,0 L0, -5');\n        // update the style of the link\n        link.style('marker-end', 'url(#arrow)');\n      }\n\n      var nodeGroup = this.element.selectAll('g.francy-nodes');\n\n      if (!nodeGroup.node()) {\n        nodeGroup = this.element.append('g').attr('class', 'francy-nodes');\n      }\n\n      var node = nodeGroup.selectAll('path.francy-node').data(canvasNodes);\n\n      if (node.exit().data().length > 0 || node.enter().data().length > 0) {\n        dataChanged = true;\n      }\n\n      node.exit().remove();\n\n      node = node.enter().append('path').merge(node).attr('d', d3.symbol().type(function (d) {\n        return Graph.getSymbol(d.type);\n      }).size(function (d) {\n        return d.size * 100;\n      })).attr('transform', function (d) {\n        return 'translate(' + d.x + ',' + d.y + ')';\n      }).style('fill', function (d) {\n        return Graph.colors(d.layer * 5);\n      }).attr('class', function (d) {\n        return 'francy-node' + (d.highlight ? ' francy-highlight' : '') + (Object.values(d.menus).length ? ' francy-context' : '');\n      }).attr('id', function (d) {\n        return d.id;\n      });\n\n      if (this.data.canvas.graph.drag) {\n        node.call(d3.drag().on('start', dragstarted).on('drag', dragged).on('end', dragended));\n      }\n\n      node.on('contextmenu', function (d) {\n        // default, build context menu\n        contextMenu.load(d, true).render();\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'contextmenu');\n      }).on('click', function (d) {\n        // default, highlight connected nodes\n        connectedNodes.call(this);\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'click');\n      }).on('dblclick', function (d) {\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'dblclick');\n      }).on(\"mouseenter\", function (d) {\n        // default, show tooltip\n        tooltip.load(d.messages, true).render();\n      }).on(\"mouseleave\", function () {\n        // default, hide tooltip\n        tooltip.unrender();\n      });\n\n      var labelGroup = this.element.selectAll('.francy-labels');\n\n      if (!labelGroup.node()) {\n        labelGroup = this.element.append('g').attr('class', 'francy-labels');\n      }\n\n      var label = labelGroup.selectAll('text').data(canvasNodes);\n\n      label.exit().remove();\n\n      label = label.enter().append('text').merge(label).attr('class', 'francy-label').text(function (d) {\n        return d.title;\n      }).attr('x', function (d) {\n        return d.x - d.title.length - Math.sqrt(d.size * d.title.length * 2);\n      }).attr('y', function (d) {\n        return d.y - Math.sqrt(d.size * 2);\n      });\n\n      label.on('contextmenu', function (d) {\n        // default, build context menu\n        contextMenu.load(d, true).render();\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'contextmenu');\n      }).on('click', function (d) {\n        // default, highlight connected nodes\n        connectedNodes.call(this);\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'click');\n      }).on('dblclick', function (d) {\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'dblclick');\n      }).on(\"mouseover\", function (d) {\n        // default, show tooltip\n        tooltip.load(d.messages, true).render();\n      }).on(\"mouseout\", function () {\n        // default, hide tooltip\n        tooltip.unrender();\n      });\n\n      if (this.data.canvas.graph.simulation && dataChanged) {\n        // Canvas Forces\n        var centerForce = d3.forceCenter().x(width / 2).y(height / 2);\n        var manyForce = d3.forceManyBody().strength(-canvasNodes.length * 30);\n        var linkForce = d3.forceLink(canvasLinks).id(function (d) {\n          return d.id;\n        }).distance(50);\n        var collideForce = d3.forceCollide(function (d) {\n          return d.size * 2;\n        });\n\n        //Generic gravity for the X position\n        var forceX = d3.forceX(width / 2).strength(0.05);\n\n        //Generic gravity for the Y position - undirected/directed graphs fall here\n        var forceY = d3.forceY(height / 2).strength(0.25);\n\n        if (this.data.canvas.graph.type === 'hasse') {\n          //Generic gravity for the X position\n          forceX = d3.forceX(width / 2).strength(0.5);\n          //Strong y positioning based on layer to simulate the hasse diagram\n          forceY = d3.forceY(function (d) {\n            return d.layer * 50;\n          }).strength(5);\n        }\n\n        var simulation = d3.forceSimulation(canvasNodes).force(\"charge\", manyForce).force(\"link\", linkForce).force(\"center\", centerForce).force(\"x\", forceX).force(\"y\", forceY).force(\"collide\", collideForce).on('tick', ticked).on(\"end\", function () {\n          // zoom to fit when simulation is over\n          parent.zoomToFit();\n        });\n\n        //force simulation restart\n        simulation.restart();\n      } else {\n        // well, simulation is off, zoom to fit now\n        parent.zoomToFit();\n      }\n\n      function ticked() {\n        link.attr('x1', function (d) {\n          return d.source.x;\n        }).attr('y1', function (d) {\n          return d.source.y;\n        }).attr('x2', function (d) {\n          return d.target.x;\n        }).attr('y2', function (d) {\n          return d.target.y;\n        });\n\n        node.attr('transform', function (d) {\n          return 'translate(' + d.x + ',' + d.y + ')';\n        });\n\n        label.attr('x', function (d) {\n          return d.x - d.title.length - Math.sqrt(d.size * d.title.length * 2);\n        }).attr('y', function (d) {\n          return d.y - Math.sqrt(d.size * 2);\n        });\n\n        node.each(collide(1));\n      }\n\n      // COLLISION\n      var padding = 10; // separation between circles;\n\n      function collide(alpha) {\n        var quadTree = d3.quadtree(canvasNodes);\n        return function (d) {\n          var rb = 100 * d.size + padding,\n              nx1 = d.x - rb,\n              nx2 = d.x + rb,\n              ny1 = d.y - rb,\n              ny2 = d.y + rb;\n          quadTree.visit(function (quad, x1, y1, x2, y2) {\n            if (quad.point && quad.point !== d) {\n              var x = d.x - quad.point.x,\n                  y = d.y - quad.point.y,\n                  l = Math.sqrt(x * x + y * y);\n              if (l < rb) {\n                l = (l - rb) / l * alpha;\n                d.x -= x *= l;\n                d.y -= y *= l;\n                quad.point.x += x;\n                quad.point.y += y;\n              }\n            }\n            return x1 > nx2 || x2 < nx1 || y1 > ny2 || y2 < ny1;\n          });\n        };\n      }\n\n      // HIGHLIGHT\n      //Toggle stores whether the highlighting is on\n      var toggle = 0;\n      //Create an array logging what is connected to what\n      var linkedByIndex = {};\n\n      for (var i = 0; i < canvasNodes.length; i++) {\n        linkedByIndex[i + ',' + i] = 1;\n      }\n\n      canvasLinks.forEach(function (d) {\n        linkedByIndex[d.source.index + ',' + d.target.index] = 1;\n      });\n\n      function connectedNodes() {\n        //This function looks up whether a pair are neighbours\n        function neighboring(a, b) {\n          return linkedByIndex[a.index + ',' + b.index];\n        }\n        d3.event.preventDefault();\n        if (toggle === 0) {\n          //Reduce the opacity of all but the neighbouring nodes\n          var d = d3.select(this).node().__data__;\n          node.style('opacity', function (o) {\n            return neighboring(d, o) || neighboring(o, d) ? 1 : 0.1;\n          });\n          link.style('opacity', function (o) {\n            return d.index === o.source.index || d.index === o.target.index ? 1 : 0.1;\n          });\n          //Reduce the op\n          toggle = 1;\n        } else {\n          //Put them back to opacity=1\n          node.style('opacity', 1);\n          link.style('opacity', 1);\n          toggle = 0;\n        }\n      }\n\n      function dragstarted(d) {\n        if (!d3.event.active) {\n          simulation.alphaTarget(0.01).restart();\n        }\n        d.fx = d.x;\n        d.fy = d.y;\n      }\n\n      function dragged(d) {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n      }\n\n      function dragended(d) {\n        if (!d3.event.active) {\n          simulation.alphaTarget(0);\n        }\n        d.fx = null;\n        d.fy = null;\n      }\n\n      function executeCallback(data, event) {\n        if (data.callbacks) {\n          Object.values(data.callbacks).forEach(function (cb) {\n            // execute the ones that match the event!\n            cb.trigger === event && callback.load({ callback: cb }).execute();\n          });\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Graph;\n}(_renderer2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Graph;\n\n},{\"../decorator/data\":2,\"./callback\":5,\"./menu-context\":14,\"./renderer\":20,\"./tooltip\":21}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _menu = require('./menu');\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar ContextMenu = (_dec = (0, _data.dontExecuteIfNoData)('menus'), (_class = function (_Menu) {\n  _inherits(ContextMenu, _Menu);\n\n  function ContextMenu(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, ContextMenu);\n\n    return _possibleConstructorReturn(this, (ContextMenu.__proto__ || Object.getPrototypeOf(ContextMenu)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(ContextMenu, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      d3.event.preventDefault();\n\n      this.element = this.HTMLParent.select('div.francy-context-menu-holder');\n      // check if the window is already present\n      if (!this.element.node()) {\n        this.element = this.HTMLParent.append('div').attr('class', 'francy-context-menu-holder');\n      }\n\n      var pos = d3.mouse(this.SVGParent.node());\n\n      this.element.style('left', pos[0] + 5 + 'px').style('top', pos[1] + 5 + 'px');\n\n      // show the context menu\n      this.element.style('display', 'block');\n\n      // check if it exists already\n      if (this.element.selectAll('*').node()) {\n        return;\n      }\n\n      // destroy menu\n      d3.select('body').on('click.francy-context-menu', function () {\n        return _this2.unrender();\n      });\n\n      // this gets executed when a contextmenu event occurs\n      var menu = this.element.append('div').attr('class', 'francy-context-menu').append('ul');\n      var menusIterator = this.iterator(Object.values(this.data.menus));\n      this.traverse(menu, menusIterator);\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {\n      if (this.element) {\n        this.element.selectAll('*').remove();\n        this.element.style('display', null);\n      }\n    }\n  }]);\n\n  return ContextMenu;\n}(_menu2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = ContextMenu;\n\n},{\"../decorator/data\":2,\"./menu\":16}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _menu = require('./menu');\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nvar _modalAbout = require('./modal-about');\n\nvar _modalAbout2 = _interopRequireDefault(_modalAbout);\n\nvar _saveSvgAsPng = require('../../node_modules/save-svg-as-png/saveSvgAsPng');\n\nvar SvgToPng = _interopRequireWildcard(_saveSvgAsPng);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 window */\n\nvar MainMenu = function (_Menu) {\n  _inherits(MainMenu, _Menu);\n\n  function MainMenu(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, MainMenu);\n\n    return _possibleConstructorReturn(this, (MainMenu.__proto__ || Object.getPrototypeOf(MainMenu)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(MainMenu, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var parent = this.options.appendTo.element;\n\n      var aboutModal = new _modalAbout2.default(this.options);\n\n      // Otherwise clashes with the canvas itself!\n      var menuId = 'MainMenu-' + this.data.canvas.id;\n      this.element = d3.select('#' + menuId);\n\n      // Check if the menu is already present\n      if (!this.element.node()) {\n        // create a div element detached from the DOM!\n        this.logger.debug('Creating Main Menu [' + menuId + ']...');\n        this.element = parent.append('div').attr('class', 'francy-main-menu-holder').attr('id', menuId);\n      }\n\n      // Force rebuild menu again\n      this.element.selectAll('*').remove();\n\n      this.element = this.element.append('ul').attr('class', 'francy-main-menu');\n\n      if (this.data.canvas.title) {\n        this.element.append('li').attr('class', 'francy-title').append('a').html(this.data.canvas.title);\n      }\n\n      var entry = this.element.append('li');\n      entry.append('a').html('Francy');\n      var content = entry.append('ul');\n      if (this.data.canvas.zoomToFit) {\n        content.append('li').append('a').on('click', function () {\n          return _this2.options.appendTo.canvas.zoomToFit();\n        }).attr('title', 'Zoom to Fit').html('Zoom to Fit');\n      }\n      content.append('li').append('a').on('click', function () {\n        return SvgToPng.saveSvgAsPng(document.getElementById(_this2.data.canvas.id), \"diagram.png\");\n      }).attr('title', 'Save to PNG').html('Save to PNG');\n      content.append('li').append('a').on('click', function () {\n        return aboutModal.load(_this2.data).render();\n      }).attr('title', 'About').html('About');\n\n      // Traverse all menus and flatten them!\n      var menusIterator = this.iterator(Object.values(this.data.canvas.menus));\n      this.traverse(this.element, menusIterator);\n\n      this.logger.debug('Main Menu updated [' + menuId + ']...');\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return MainMenu;\n}(_menu2.default);\n\nexports.default = MainMenu;\n\n},{\"../../node_modules/save-svg-as-png/saveSvgAsPng\":1,\"./menu\":16,\"./modal-about\":18}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _callback = require('./callback');\n\nvar _callback2 = _interopRequireDefault(_callback);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Menu = function (_Renderer) {\n  _inherits(Menu, _Renderer);\n\n  function Menu(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Menu);\n\n    return _possibleConstructorReturn(this, (Menu.__proto__ || Object.getPrototypeOf(Menu)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Menu, [{\n    key: 'traverse',\n    value: function traverse(appendTo, menusIterator) {\n      var _this2 = this;\n\n      while (menusIterator.hasNext()) {\n        var menuItem = menusIterator.next();\n        var entry = appendTo.append('li');\n        var action = entry.selectAll('a').data([menuItem]).enter().append('a').attr('title', menuItem.title).html(menuItem.title);\n        if (menuItem.callback && Object.values(menuItem.callback).length) {\n          action.on('click', function (d) {\n            return new _callback2.default(_this2.options).load(d, true).execute();\n          });\n        }\n        if (menuItem.menus && Object.values(menuItem.menus).length > 0) {\n          var content = entry.append('ul');\n          var subMenusIterator = this.iterator(Object.values(menuItem.menus));\n          this.traverse(content, subMenusIterator);\n        }\n      }\n    }\n  }, {\n    key: 'iterator',\n    value: function iterator(array) {\n      var nextIndex = 0;\n      return {\n        next: function next() {\n          return this.hasNext() ? array[nextIndex++] : undefined;\n        },\n        hasNext: function hasNext() {\n          return nextIndex < array.length;\n        }\n      };\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Menu;\n}(_renderer2.default);\n\nexports.default = Menu;\n\n},{\"./callback\":5,\"./renderer\":20}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Message = (_dec = (0, _data.dontExecuteIfNoData)('canvas.messages'), (_class = function (_Renderer) {\n  _inherits(Message, _Renderer);\n\n  function Message(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Message);\n\n    return _possibleConstructorReturn(this, (Message.__proto__ || Object.getPrototypeOf(Message)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Message, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var parent = this.options.appendTo.element;\n\n      var messages = Object.keys(this.data.canvas.messages).map(function (key) {\n        return {\n          id: key,\n          type: _this2.data.canvas.messages[key].type,\n          title: _this2.data.canvas.messages[key].title,\n          text: _this2.data.canvas.messages[key].text\n        };\n      });\n\n      var alertsId = 'Messages-' + this.data.canvas.id;\n      this.element = d3.select('#' + alertsId);\n      // check if the window is already present\n      if (!this.element.node()) {\n        this.element = parent.append('div').attr('class', 'francy-message-holder').attr('id', alertsId);\n      }\n\n      var self = this;\n      messages.map(function (d) {\n        // only render new ones\n        if (!self.element.select('div#' + d.id).node()) {\n          var row = self.element.append('div').attr('id', d.id).attr('class', 'francy-alert alert-' + d.type).on('click', function () {\n            d3.select(this).style('display', 'none');\n          });\n          row.append('span').attr('class', 'strong').text(d.title);\n          row.append('span').text(d.text);\n          row.append('span').attr('class', 'strong').style('display', 'none').text(\"x\");\n        }\n      });\n\n      this.element.style('display', 'block');\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Message;\n}(_renderer2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Message;\n\n},{\"../decorator/data\":2,\"./renderer\":20}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 Jupyter */\n\nvar AboutModal = function (_Renderer) {\n  _inherits(AboutModal, _Renderer);\n\n  function AboutModal(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, AboutModal);\n\n    return _possibleConstructorReturn(this, (AboutModal.__proto__ || Object.getPrototypeOf(AboutModal)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(AboutModal, [{\n    key: 'render',\n    value: function render() {\n      var modalId = 'AboutModalWindow';\n\n      this.logger.debug('Creating About Modal [' + modalId + ']...');\n\n      // we want to overlay everything, hence 'body' must be used\n      var overlay = d3.select('body').append('div').attr('class', 'francy-overlay');\n      var holder = d3.select('body').append('div').attr('class', 'francy');\n      this.element = holder.append('div').attr('id', modalId).attr('class', 'francy-modal');\n\n      var form = this.element.append('form');\n\n      var header = form.append('div').attr('class', 'francy-modal-header');\n\n      header.append('span').html('About Francy v' + (this.data.version || 'N/A'));\n\n      var content = form.append('div').attr('class', 'francy-modal-content').append('div').attr('class', 'francy-table').append('div').attr('class', 'francy-table-body');\n\n      content.append('span').text('Loaded Object:');\n      content.append('pre').attr('class', 'francy').html(this.syntaxHighlight(JSON.stringify(this.data.canvas, null, 2)));\n      content.append('span').append('a').attr('href', 'https://github.com/mcmartins/francy').text('Francy on Github');\n\n      var footer = form.append('div').attr('class', 'francy-modal-footer');\n\n      footer.append('button').text('Ok').on('click', function () {\n        this.element.remove();\n        holder.remove();\n        overlay.remove();\n        event.preventDefault();\n        return false;\n      });\n\n      // disable keyboard shortcuts when using this modal in Jupyter\n      try {\n        Jupyter.keyboard_manager.register_events('.francy');\n        Jupyter.keyboard_manager.register_events('.francy-arg');\n        Jupyter.keyboard_manager.register_events('.francy-overlay');\n        Jupyter.keyboard_manager.register_events('.francy-modal');\n      } catch (e) {\n        if (e.name == 'ReferenceError') {\n          self.logger.debug('It seems we\\'re not running on Jupyter...', e);\n        }\n      }\n\n      this.logger.debug('Callback About updated [' + modalId + ']...');\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n\n    // credits here: https://stackoverflow.com/questions/4810841/how-can-i-pretty-print-json-using-javascript#answer-7220510\n\n  }, {\n    key: 'syntaxHighlight',\n    value: function syntaxHighlight(json) {\n      json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n      return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/g, function (match) {\n        var cls = 'number';\n        if (/^\"/.test(match)) {\n          if (/:$/.test(match)) {\n            cls = 'key';\n          } else {\n            cls = 'string';\n          }\n        } else if (/true|false/.test(match)) {\n          cls = 'boolean';\n        } else if (/null/.test(match)) {\n          cls = 'null';\n        }\n        return '<span class=\"' + cls + '\">' + match + '</span>';\n      });\n    }\n  }]);\n\n  return AboutModal;\n}(_renderer2.default);\n\nexports.default = AboutModal;\n\n},{\"./renderer\":20}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 Jupyter */\n\nvar RequiredArgsModal = function (_Renderer) {\n  _inherits(RequiredArgsModal, _Renderer);\n\n  function RequiredArgsModal(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, RequiredArgsModal);\n\n    return _possibleConstructorReturn(this, (RequiredArgsModal.__proto__ || Object.getPrototypeOf(RequiredArgsModal)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(RequiredArgsModal, [{\n    key: 'render',\n    value: function render() {\n      var self = this;\n\n      var modalId = this.data.callback.id;\n\n      this.logger.debug('Creating Callback Modal [' + modalId + ']...');\n\n      // we want to overlay everything, hence 'body' must be used\n      var overlay = d3.select('body').append('div').attr('class', 'francy-overlay');\n      var holder = d3.select('body').append('div').attr('class', 'francy');\n      this.element = holder.append('div').attr('id', modalId).attr('class', 'francy-modal');\n\n      var form = this.element.append('form');\n\n      var header = form.append('div').attr('class', 'francy-modal-header');\n\n      var headerTitle = header.append('span').html('Required arguments&nbsp;');\n      if (this.data.title) {\n        headerTitle.append('span').attr('style', 'font-weight: bold;').text('for ' + this.data.title);\n      }\n\n      var content = form.append('div').attr('class', 'francy-modal-content').append('div').attr('class', 'francy-table').append('div').attr('class', 'francy-table-body');\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = Object.values(this.data.callback.requiredArgs)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var arg = _step.value;\n\n          var row = content.append('div').attr('class', 'francy-table-row');\n          row.append('div').attr('class', 'francy-table-cell').append('label').attr('for', arg.id).text(arg.title);\n          var input = row.append('div').attr('class', 'francy-table-cell').append('input').attr('id', arg.id).attr('class', 'francy-arg').attr('required', '').attr('name', arg.id).attr('type', arg.type).attr('value', arg.value).on('change', function () {\n            self.data.callback.requiredArgs[this.id].value = this.value;\n          }).on('input', this.onchange).on('keyup', this.onchange).on('paste', this.onchange);\n          // wait, if it is boolean we create a checkbox\n          if (arg.type === 'boolean') {\n            // well, a checkbox works this way so we need to initialize \n            // the value to false and update the value based on the checked \n            // property that triggers the onchange event\n            arg.value = arg.value || false;\n            input.attr('type', 'checkbox').attr('required', null).attr('value', arg.value).on('change', function () {\n              self.data.callback.requiredArgs[this.id].value = this.value = this.checked;\n            });\n          }\n          row.append('span').attr('class', 'validity');\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var footer = form.append('div').attr('class', 'francy-modal-footer');\n\n      footer.append('button').text('Ok').on('click', function () {\n        if (form.node().checkValidity()) {\n          d3.event.preventDefault(self.data.callback);\n          self.options.callbackHandler(self.data.callback);\n          overlay.remove();\n          self.element.remove();\n          holder.remove();\n        }\n        return false;\n      });\n      footer.append('button').text('Cancel').on('click', function () {\n        overlay.remove();\n        self.element.remove();\n        holder.remove();\n        d3.event.preventDefault();\n        return false;\n      });\n\n      // disable keyboard shortcuts when using this modal in Jupyter\n      try {\n        Jupyter.keyboard_manager.register_events('.francy');\n        Jupyter.keyboard_manager.register_events('.francy-arg');\n        Jupyter.keyboard_manager.register_events('.francy-overlay');\n        Jupyter.keyboard_manager.register_events('.francy-modal');\n      } catch (e) {\n        if (e.name == 'ReferenceError') {\n          self.logger.debug('It seems we\\'re not running on Jupyter...', e);\n        }\n      }\n\n      content.selectAll('.francy-arg').node().focus();\n\n      this.logger.debug('Callback Modal updated [' + modalId + ']...');\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return RequiredArgsModal;\n}(_renderer2.default);\n\nexports.default = RequiredArgsModal;\n\n},{\"./renderer\":20}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _base = require('./base');\n\nvar _base2 = _interopRequireDefault(_base);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar Renderer = function (_Base) {\n  _inherits(Renderer, _Base);\n\n  function Renderer(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Renderer);\n\n    var _this = _possibleConstructorReturn(this, (Renderer.__proto__ || Object.getPrototypeOf(Renderer)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    if (new.target === Renderer) {\n      throw new TypeError('Cannot construct [Renderer] instances directly!');\n    }\n    if (_this.render === undefined || typeof _this.render !== 'function') {\n      throw new TypeError('Must override [render()] method!');\n    }\n    if (_this.unrender === undefined) {\n      _this.logger.debug('No [unrender()] method specified...');\n    }\n    _this.element = undefined;\n    return _this;\n  }\n\n  _createClass(Renderer, [{\n    key: 'HTMLParent',\n    get: function get() {\n      return this.options.appendTo.element.node().tagName.toUpperCase() === 'SVG' ? d3.select(this.options.appendTo.element.node().parentNode) : this.options.appendTo.element;\n    }\n  }, {\n    key: 'SVGParent',\n    get: function get() {\n      return this.options.appendTo.element.node().tagName.toUpperCase() === 'DIV' ? this.options.appendTo.element.select('svg') : this.options.appendTo.element;\n    }\n  }]);\n\n  return Renderer;\n}(_base2.default);\n\nexports.default = Renderer;\n\n},{\"./base\":4}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Tooltip = (_dec = (0, _data.dontExecuteIfNoData)(), (_class = function (_Renderer) {\n  _inherits(Tooltip, _Renderer);\n\n  function Tooltip(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Tooltip);\n\n    return _possibleConstructorReturn(this, (Tooltip.__proto__ || Object.getPrototypeOf(Tooltip)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Tooltip, [{\n    key: 'render',\n    value: function render() {\n\n      this.element = this.HTMLParent.select('div.francy-tooltip-holder');\n      // check if the window is already present\n      if (!this.element.node()) {\n        this.element = this.HTMLParent.append('div').attr('class', 'francy-tooltip-holder');\n      }\n\n      var pos = d3.mouse(this.SVGParent.node());\n\n      // TODO fix always visible tooltip, fine until someone complains about :P\n      this.element.style('left', pos[0] + 'px').style('top', pos[1] + 'px');\n\n      // check if it exists already\n      if (this.element.selectAll('*').node()) {\n        return;\n      }\n\n      var table = this.element.append('div').attr('class', 'francy-tooltip').append('div').attr('class', 'francy-table').append('div').attr('class', 'francy-table-body');\n      var self = this;\n      Object.keys(this.data).map(function (key) {\n        var row = table.append('div').attr('class', 'francy-table-row');\n        row.append('div').attr('class', 'francy-table-cell').text(self.data[key].title);\n        row.append('div').attr('class', 'francy-table-cell').text(self.data[key].text);\n      });\n\n      // show tooltip\n      this.element.style('display', 'block');\n\n      this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {\n      if (this.element) {\n        this.element.selectAll('*').remove();\n        this.element.style('display', null);\n      }\n    }\n  }]);\n\n  return Tooltip;\n}(_renderer2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Tooltip;\n\n},{\"../decorator/data\":2,\"./renderer\":20}],22:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * This class contains methods to deal with JSON.\n */\nvar JsonUtils = function () {\n  function JsonUtils() {\n    _classCallCheck(this, JsonUtils);\n  }\n\n  _createClass(JsonUtils, null, [{\n    key: 'parse',\n\n\n    /**\n     * Parses an input nd checks whether this input is valid and returns a JSON object.\n     * @param input - the input to parse\n     * @returns {json} - if the input is a valid JSON object, otherwise returns {undefined}\n     */\n    value: function parse(input, partial) {\n      if (!input) {\n        return;\n      }\n      input = typeof input !== \"string\" ? JSON.stringify(input) : input;\n      input = input.replace(/[\\n\\r\\b\\\\]+|(gap>)/g, '');\n      var jsonRegex = /{(?:[^])*}/g;\n      var match = jsonRegex.exec(input);\n      if (match) {\n        input = match[0];\n        try {\n          var json = JSON.parse(input);\n          return json.mime === JsonUtils.MIME || partial ? json : undefined;\n        } catch (e) {\n          /* eslint-disable no-console */\n          console.error(e);\n          /* eslint-enable no-console */\n        }\n      }\n      return;\n    }\n  }, {\n    key: 'MIME',\n    get: function get() {\n      return 'application/vnd.francy+json';\n    }\n  }]);\n\n  return JsonUtils;\n}();\n\nexports.default = JsonUtils;\n\n},{}],23:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * This class is a singleton that provides a logger for the Francy application.\n */\nvar Logger = function () {\n\n  /**\n   * Singleton: Creates an instance of the logger and will returned that instance,\n   * everytime a new instance is requested.\n   * @param verbose prints extra log information to console.log, default false\n   */\n  function Logger() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose;\n\n    _classCallCheck(this, Logger);\n\n    this.verbose = verbose;\n    this.console = console;\n  }\n\n  /**\n   * Creates a [DEBUG] entry in the console log\n   * @param message the message to print\n   */\n\n\n  _createClass(Logger, [{\n    key: 'debug',\n    value: function debug(message) {\n      if (this.verbose) {\n        this.console.debug(this._format('DEBUG', message));\n      }\n    }\n\n    /**\n     * Creates a [INFO] entry in the console log\n     * @param message the message to print\n     */\n\n  }, {\n    key: 'info',\n    value: function info(message) {\n      this.console.info(this._format('INFO', message));\n    }\n\n    /**\n     * Creates a [ERROR] entry in the console log\n     * @param message the message to print\n     * @param error the error Object to attach to the message\n     */\n\n  }, {\n    key: 'error',\n    value: function error(message, _error) {\n      this.console.error(this._format('ERROR', message), _error);\n    }\n\n    /**\n     * Creates a [WARN] entry in the console log\n     * @param message the message to print\n     * @param error the error Object to attach to the message\n     */\n\n  }, {\n    key: 'warn',\n    value: function warn(message, error) {\n      error = error || {};\n      this.console.error(this._format('WARN', message), error);\n    }\n\n    /**\n     * This is a private method that formats all log messages\n     * @param message the message to print\n     */\n\n  }, {\n    key: '_format',\n    value: function _format(level, message) {\n      return '[' + level + '] - ' + new Date().toISOString() + ' - ' + message;\n    }\n  }]);\n\n  return Logger;\n}();\n\nexports.default = Logger;\n\n},{}]},{},[3])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvc2F2ZS1zdmctYXMtcG5nL3NhdmVTdmdBc1BuZy5qcyIsInNyYy9kZWNvcmF0b3IvZGF0YS5qcyIsInNyYy9mcmFuY3kuanMiLCJzcmMvcmVuZGVyL2Jhc2UuanMiLCJzcmMvcmVuZGVyL2NhbGxiYWNrLmpzIiwic3JjL3JlbmRlci9jYW52YXMuanMiLCJzcmMvcmVuZGVyL2NoYXJ0LWJhci5qcyIsInNyYy9yZW5kZXIvY2hhcnQtbGluZS5qcyIsInNyYy9yZW5kZXIvY2hhcnQtc2NhdHRlci5qcyIsInNyYy9yZW5kZXIvY2hhcnQuanMiLCJzcmMvcmVuZGVyL2NvbXBvc2l0ZS5qcyIsInNyYy9yZW5kZXIvZnJhbWUuanMiLCJzcmMvcmVuZGVyL2dyYXBoLmpzIiwic3JjL3JlbmRlci9tZW51LWNvbnRleHQuanMiLCJzcmMvcmVuZGVyL21lbnUtbWFpbi5qcyIsInNyYy9yZW5kZXIvbWVudS5qcyIsInNyYy9yZW5kZXIvbWVzc2FnZS5qcyIsInNyYy9yZW5kZXIvbW9kYWwtYWJvdXQuanMiLCJzcmMvcmVuZGVyL21vZGFsLXJlcXVpcmVkLmpzIiwic3JjL3JlbmRlci9yZW5kZXJlci5qcyIsInNyYy9yZW5kZXIvdG9vbHRpcC5qcyIsInNyYy91dGlsL2pzb24tdXRpbHMuanMiLCJzcmMvdXRpbC9sb2dnZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUssT0FBTCxDQUFhLElBQWIsQ0FBa0IsS0FBSyxPQUFMLENBQWEsTUFBYixFQUFxQixPQUFyQixDQUFsQjtBQUNEOztBQUVEOzs7Ozs7OzswQkFLTSxPLEVBQVMsTSxFQUFPO0FBQ3BCLFdBQUssT0FBTCxDQUFhLEtBQWIsQ0FBbUIsS0FBSyxPQUFMLENBQWEsT0FBYixFQUFzQixPQUF0QixDQUFuQixFQUFtRCxNQUFuRDtBQUNEOztBQUVEOzs7Ozs7Ozt5QkFLSyxPLEVBQVMsSyxFQUFPO0FBQ25CLGNBQVEsU0FBUyxFQUFqQjtBQUNBLFdBQUssT0FBTCxDQUFhLEtBQWIsQ0FBbUIsS0FBSyxPQUFMLENBQWEsTUFBYixFQUFxQixPQUFyQixDQUFuQixFQUFrRCxLQUFsRDtBQUNEOztBQUVEOzs7Ozs7OzRCQUlRLEssRUFBTyxPLEVBQVM7QUFDdEIsbUJBQVcsS0FBWCxZQUF1QixJQUFJLElBQUosR0FBVyxXQUFYLEVBQXZCLFdBQXFELE9BQXJEO0FBQ0Q7Ozs7OztrQkF2RGtCLE0iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiKGZ1bmN0aW9uKCkge1xuICB2YXIgb3V0JCA9IHR5cGVvZiBleHBvcnRzICE9ICd1bmRlZmluZWQnICYmIGV4cG9ydHMgfHwgdHlwZW9mIGRlZmluZSAhPSAndW5kZWZpbmVkJyAmJiB7fSB8fCB0aGlzO1xuXG4gIHZhciBkb2N0eXBlID0gJzw/eG1sIHZlcnNpb249XCIxLjBcIiBzdGFuZGFsb25lPVwibm9cIj8+PCFET0NUWVBFIHN2ZyBQVUJMSUMgXCItLy9XM0MvL0RURCBTVkcgMS4xLy9FTlwiIFwiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkXCIgWzwhRU5USVRZIG5ic3AgXCImIzE2MDtcIj5dPic7XG5cbiAgZnVuY3Rpb24gaXNFbGVtZW50KG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCBvYmogaW5zdGFuY2VvZiBTVkdFbGVtZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVxdWlyZURvbU5vZGUoZWwpIHtcbiAgICBpZiAoIWlzRWxlbWVudChlbCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYW4gSFRNTEVsZW1lbnQgb3IgU1ZHRWxlbWVudCBpcyByZXF1aXJlZDsgZ290ICcgKyBlbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNFeHRlcm5hbCh1cmwpIHtcbiAgICByZXR1cm4gdXJsICYmIHVybC5sYXN0SW5kZXhPZignaHR0cCcsMCkgPT0gMCAmJiB1cmwubGFzdEluZGV4T2Yod2luZG93LmxvY2F0aW9uLmhvc3QpID09IC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5saW5lSW1hZ2VzKGVsLCBjYWxsYmFjaykge1xuICAgIHJlcXVpcmVEb21Ob2RlKGVsKTtcblxuICAgIHZhciBpbWFnZXMgPSBlbC5xdWVyeVNlbGVjdG9yQWxsKCdpbWFnZScpLFxuICAgICAgICBsZWZ0ID0gaW1hZ2VzLmxlbmd0aCxcbiAgICAgICAgY2hlY2tEb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGxlZnQgPT09IDApIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgY2hlY2tEb25lKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIChmdW5jdGlvbihpbWFnZSkge1xuICAgICAgICB2YXIgaHJlZiA9IGltYWdlLmdldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLCBcImhyZWZcIik7XG4gICAgICAgIGlmIChocmVmKSB7XG4gICAgICAgICAgaWYgKGlzRXh0ZXJuYWwoaHJlZi52YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkNhbm5vdCByZW5kZXIgZW1iZWRkZWQgaW1hZ2VzIGxpbmtpbmcgdG8gZXh0ZXJuYWwgaG9zdHM6IFwiK2hyZWYudmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcuY3Jvc3NPcmlnaW49XCJhbm9ueW1vdXNcIjtcbiAgICAgICAgaHJlZiA9IGhyZWYgfHwgaW1hZ2UuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICAgIGlmIChocmVmKSB7XG4gICAgICAgICAgaW1nLnNyYyA9IGhyZWY7XG4gICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XG4gICAgICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwgXCJocmVmXCIsIGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpKTtcbiAgICAgICAgICAgIGxlZnQtLTtcbiAgICAgICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb3VsZCBub3QgbG9hZCBcIitocmVmKTtcbiAgICAgICAgICAgIGxlZnQtLTtcbiAgICAgICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZWZ0LS07XG4gICAgICAgICAgY2hlY2tEb25lKCk7XG4gICAgICAgIH1cbiAgICAgIH0pKGltYWdlc1tpXSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3R5bGVzKGVsLCBvcHRpb25zLCBjc3NMb2FkZWRDYWxsYmFjaykge1xuICAgIHZhciBzZWxlY3RvclJlbWFwID0gb3B0aW9ucy5zZWxlY3RvclJlbWFwO1xuICAgIHZhciBtb2RpZnlTdHlsZSA9IG9wdGlvbnMubW9kaWZ5U3R5bGU7XG4gICAgdmFyIGNzcyA9IFwiXCI7XG4gICAgLy8gZWFjaCBmb250IHRoYXQgaGFzIGV4dHJhbmwgbGluayBpcyBzYXZlZCBpbnRvIHF1ZXVlLCBhbmQgcHJvY2Vzc2VkXG4gICAgLy8gYXN5bmNocm9ub3VzbHlcbiAgICB2YXIgZm9udHNRdWV1ZSA9IFtdO1xuICAgIHZhciBzaGVldHMgPSBkb2N1bWVudC5zdHlsZVNoZWV0cztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNoZWV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJ1bGVzID0gc2hlZXRzW2ldLmNzc1J1bGVzO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJTdHlsZXNoZWV0IGNvdWxkIG5vdCBiZSBsb2FkZWQ6IFwiK3NoZWV0c1tpXS5ocmVmKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChydWxlcyAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBtYXRjaDsgaiA8IHJ1bGVzLmxlbmd0aDsgaisrLCBtYXRjaCA9IG51bGwpIHtcbiAgICAgICAgICB2YXIgcnVsZSA9IHJ1bGVzW2pdO1xuICAgICAgICAgIGlmICh0eXBlb2YocnVsZS5zdHlsZSkgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdmFyIHNlbGVjdG9yVGV4dDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgc2VsZWN0b3JUZXh0ID0gcnVsZS5zZWxlY3RvclRleHQ7XG4gICAgICAgICAgICB9IGNhdGNoKGVycikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBmb2xsb3dpbmcgQ1NTIHJ1bGUgaGFzIGFuIGludmFsaWQgc2VsZWN0b3I6IFwiJyArIHJ1bGUgKyAnXCInLCBlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoc2VsZWN0b3JUZXh0KSB7XG4gICAgICAgICAgICAgICAgbWF0Y2ggPSBlbC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yVGV4dCkgfHwgZWwucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yVGV4dCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybignSW52YWxpZCBDU1Mgc2VsZWN0b3IgXCInICsgc2VsZWN0b3JUZXh0ICsgJ1wiJywgZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IHNlbGVjdG9yUmVtYXAgPyBzZWxlY3RvclJlbWFwKHJ1bGUuc2VsZWN0b3JUZXh0KSA6IHJ1bGUuc2VsZWN0b3JUZXh0O1xuICAgICAgICAgICAgICB2YXIgY3NzVGV4dCA9IG1vZGlmeVN0eWxlID8gbW9kaWZ5U3R5bGUocnVsZS5zdHlsZS5jc3NUZXh0KSA6IHJ1bGUuc3R5bGUuY3NzVGV4dDtcbiAgICAgICAgICAgICAgY3NzICs9IHNlbGVjdG9yICsgXCIgeyBcIiArIGNzc1RleHQgKyBcIiB9XFxuXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYocnVsZS5jc3NUZXh0Lm1hdGNoKC9eQGZvbnQtZmFjZS8pKSB7XG4gICAgICAgICAgICAgIC8vIGJlbG93IHdlIGFyZSB0cnlpbmcgdG8gZmluZCBtYXRjaGVzIHRvIGV4dGVybmFsIGxpbmsuIEUuZy5cbiAgICAgICAgICAgICAgLy8gQGZvbnQtZmFjZSB7XG4gICAgICAgICAgICAgIC8vICAgLy8gLi4uXG4gICAgICAgICAgICAgIC8vICAgc3JjOiBsb2NhbCgnQWJlbCcpLCB1cmwoaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbS9zL2FiZWwvdjYvVXpOLWllalIxVm9YVTJPYy03THNidmVzWlcyeE9RLXhzTnFPNDdtNTVEQS53b2ZmMik7XG4gICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgLy8gVGhpcyByZWdleCB3aWxsIHNhdmUgZXh0cm5hbCBsaW5rIGludG8gZmlyc3QgY2FwdHVyZSBncm91cFxuICAgICAgICAgICAgICB2YXIgZm9udFVybFJlZ2V4cCA9IC91cmxcXChbXCInXT8oLis/KVtcIiddP1xcKS87XG4gICAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgbmVlZHMgdG8gYmUgY2hhbmdlZCB0byBzdXBwb3J0IG11bHRpcGxlIHVybCBkZWNsYXJhdGlvbnMgcGVyIGZvbnQuXG4gICAgICAgICAgICAgIHZhciBmb250VXJsTWF0Y2ggPSBydWxlLmNzc1RleHQubWF0Y2goZm9udFVybFJlZ2V4cCk7XG5cbiAgICAgICAgICAgICAgdmFyIGV4dGVybmFsRm9udFVybCA9IChmb250VXJsTWF0Y2ggJiYgZm9udFVybE1hdGNoWzFdKSB8fCAnJztcbiAgICAgICAgICAgICAgdmFyIGZvbnRVcmxJc0RhdGFVUkkgPSBleHRlcm5hbEZvbnRVcmwubWF0Y2goL15kYXRhOi8pO1xuICAgICAgICAgICAgICBpZiAoZm9udFVybElzRGF0YVVSSSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIHNob3VsZCBpZ25vcmUgZGF0YSB1cmkgLSB0aGV5IGFyZSBhbHJlYWR5IGVtYmVkZGVkXG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxGb250VXJsID0gJyc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoZXh0ZXJuYWxGb250VXJsKSB7XG4gICAgICAgICAgICAgICAgLy8gb2theSwgd2UgYXJlIGx1Y2t5LiBXZSBjYW4gZmV0Y2ggdGhpcyBmb250IGxhdGVyXG5cbiAgICAgICAgICAgICAgICAvL2hhbmRsZSB1cmwgaWYgcmVsYXRpdmVcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZXJuYWxGb250VXJsLnN0YXJ0c1dpdGgoJy4uLycpKSB7XG4gICAgICAgICAgICAgICAgICBleHRlcm5hbEZvbnRVcmwgPSBzaGVldHNbaV0uaHJlZiArICcvLi4vJyArIGV4dGVybmFsRm9udFVybFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXh0ZXJuYWxGb250VXJsLnN0YXJ0c1dpdGgoJy4vJykpIHtcbiAgICAgICAgICAgICAgICAgIGV4dGVybmFsRm9udFVybCA9IHNoZWV0c1tpXS5ocmVmICsgJy8uJyArIGV4dGVybmFsRm9udFVybFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvbnRzUXVldWUucHVzaCh7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBydWxlLmNzc1RleHQsXG4gICAgICAgICAgICAgICAgICAvLyBQYXNzIHVybCByZWdleCwgc28gdGhhdCBvbmNlIGZvbnQgaXMgZG93bmxhZGVkLCB3ZSBjYW4gcnVuIGByZXBsYWNlKClgIG9uIGl0XG4gICAgICAgICAgICAgICAgICBmb250VXJsUmVnZXhwOiBmb250VXJsUmVnZXhwLFxuICAgICAgICAgICAgICAgICAgZm9ybWF0OiBnZXRGb250TWltZVR5cGVGcm9tVXJsKGV4dGVybmFsRm9udFVybCksXG4gICAgICAgICAgICAgICAgICB1cmw6IGV4dGVybmFsRm9udFVybFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgdXNlIHByZXZpb3VzIGxvZ2ljXG4gICAgICAgICAgICAgICAgY3NzICs9IHJ1bGUuY3NzVGV4dCArICdcXG4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm93IGFsbCBjc3MgaXMgcHJvY2Vzc2VkLCBpdCdzIHRpbWUgdG8gaGFuZGxlIHNjaGVkdWxlZCBmb250c1xuICAgIHByb2Nlc3NGb250UXVldWUoZm9udHNRdWV1ZSk7XG5cbiAgICBmdW5jdGlvbiBnZXRGb250TWltZVR5cGVGcm9tVXJsKGZvbnRVcmwpIHtcbiAgICAgIHZhciBzdXBwb3J0ZWRGb3JtYXRzID0ge1xuICAgICAgICAnd29mZjInOiAnZm9udC93b2ZmMicsXG4gICAgICAgICd3b2ZmJzogJ2ZvbnQvd29mZicsXG4gICAgICAgICdvdGYnOiAnYXBwbGljYXRpb24veC1mb250LW9wZW50eXBlJyxcbiAgICAgICAgJ3R0Zic6ICdhcHBsaWNhdGlvbi94LWZvbnQtdHRmJyxcbiAgICAgICAgJ2VvdCc6ICdhcHBsaWNhdGlvbi92bmQubXMtZm9udG9iamVjdCcsXG4gICAgICAgICdzZm50JzogJ2FwcGxpY2F0aW9uL2ZvbnQtc2ZudCcsXG4gICAgICAgICdzdmcnOiAnaW1hZ2Uvc3ZnK3htbCdcbiAgICAgIH07XG4gICAgICB2YXIgZXh0ZW5zaW9ucyA9IE9iamVjdC5rZXlzKHN1cHBvcnRlZEZvcm1hdHMpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHRlbnNpb25zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBleHRlbnNpb24gPSBleHRlbnNpb25zW2ldO1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGlzIG5vdCBidWxsZXQgcHJvb2YsIGl0IG5lZWRzIHRvIGhhbmRsZSBlZGdlIGNhc2VzLi4uXG4gICAgICAgIGlmIChmb250VXJsLmluZGV4T2YoJy4nICsgZXh0ZW5zaW9uKSA+IDApIHtcbiAgICAgICAgICByZXR1cm4gc3VwcG9ydGVkRm9ybWF0c1tleHRlbnNpb25dO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHlvdSBzZWUgdGhpcyBlcnJvciBtZXNzYWdlLCB5b3UgcHJvYmFibHkgbmVlZCB0byB1cGRhdGUgY29kZSBhYm92ZS5cbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Vua25vd24gZm9udCBmb3JtYXQgZm9yICcgKyBmb250VXJsKyAnOyBGb250cyBtYXkgbm90IGJlIHdvcmtpbmcgY29ycmVjdGx5Jyk7XG4gICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0ZvbnRRdWV1ZShxdWV1ZSkge1xuICAgICAgaWYgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gbG9hZCBmb250cyBvbmUgYnkgb25lIHVudGlsIHdlIGhhdmUgYW55dGhpbmcgaW4gdGhlIHF1ZXVlOlxuICAgICAgICB2YXIgZm9udCA9IHF1ZXVlLnBvcCgpO1xuICAgICAgICBwcm9jZXNzTmV4dChmb250KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5vIG1vcmUgZm9udHMgdG8gbG9hZC5cbiAgICAgICAgY3NzTG9hZGVkQ2FsbGJhY2soY3NzKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcHJvY2Vzc05leHQoZm9udCkge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGNvdWxkIGJlbmVmaXQgZnJvbSBjYWNoaW5nLlxuICAgICAgICB2YXIgb1JlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICBvUmVxLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmb250TG9hZGVkKTtcbiAgICAgICAgb1JlcS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRyYW5zZmVyRmFpbGVkKTtcbiAgICAgICAgb1JlcS5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRyYW5zZmVyRmFpbGVkKTtcbiAgICAgICAgb1JlcS5vcGVuKCdHRVQnLCBmb250LnVybCk7XG4gICAgICAgIG9SZXEucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgb1JlcS5zZW5kKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gZm9udExvYWRlZCgpIHtcbiAgICAgICAgICAvLyBUT0RPOiBpdCBtYXkgYmUgYWxzbyB3b3J0aCB0byB3YWl0IHVudGlsIGZvbnRzIGFyZSBmdWxseSBsb2FkZWQgYmVmb3JlXG4gICAgICAgICAgLy8gYXR0ZW1wdGluZyB0byByYXN0ZXJpemUgdGhlbS4gKGUuZy4gdXNlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Gb250RmFjZVNldCApXG4gICAgICAgICAgdmFyIGZvbnRCaXRzID0gb1JlcS5yZXNwb25zZTtcbiAgICAgICAgICB2YXIgZm9udEluQmFzZTY0ID0gYXJyYXlCdWZmZXJUb0Jhc2U2NChmb250Qml0cyk7XG4gICAgICAgICAgdXBkYXRlRm9udFN0eWxlKGZvbnQsIGZvbnRJbkJhc2U2NCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0cmFuc2ZlckZhaWxlZChlKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gbG9hZCBmb250IGZyb206ICcgKyBmb250LnVybCk7XG4gICAgICAgICAgY29uc29sZS53YXJuKGUpXG4gICAgICAgICAgY3NzICs9IGZvbnQudGV4dCArICdcXG4nO1xuICAgICAgICAgIHByb2Nlc3NGb250UXVldWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUZvbnRTdHlsZShmb250LCBmb250SW5CYXNlNjQpIHtcbiAgICAgICAgICB2YXIgZGF0YVVybCA9ICd1cmwoXCJkYXRhOicgKyBmb250LmZvcm1hdCArICc7YmFzZTY0LCcgKyBmb250SW5CYXNlNjQgKyAnXCIpJztcbiAgICAgICAgICBjc3MgKz0gZm9udC50ZXh0LnJlcGxhY2UoZm9udC5mb250VXJsUmVnZXhwLCBkYXRhVXJsKSArICdcXG4nO1xuXG4gICAgICAgICAgLy8gc2NoZWR1bGUgbmV4dCBmb250IGRvd25sb2FkIG9uIG5leHQgdGljay5cbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcHJvY2Vzc0ZvbnRRdWV1ZShxdWV1ZSlcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXJyYXlCdWZmZXJUb0Jhc2U2NChidWZmZXIpIHtcbiAgICAgIHZhciBiaW5hcnkgPSAnJztcbiAgICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICB2YXIgbGVuID0gYnl0ZXMuYnl0ZUxlbmd0aDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHdpbmRvdy5idG9hKGJpbmFyeSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGltZW5zaW9uKGVsLCBjbG9uZSwgZGltKSB7XG4gICAgdmFyIHYgPSAoZWwudmlld0JveCAmJiBlbC52aWV3Qm94LmJhc2VWYWwgJiYgZWwudmlld0JveC5iYXNlVmFsW2RpbV0pIHx8XG4gICAgICAoY2xvbmUuZ2V0QXR0cmlidXRlKGRpbSkgIT09IG51bGwgJiYgIWNsb25lLmdldEF0dHJpYnV0ZShkaW0pLm1hdGNoKC8lJC8pICYmIHBhcnNlSW50KGNsb25lLmdldEF0dHJpYnV0ZShkaW0pKSkgfHxcbiAgICAgIGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2RpbV0gfHxcbiAgICAgIHBhcnNlSW50KGNsb25lLnN0eWxlW2RpbV0pIHx8XG4gICAgICBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZShkaW0pKTtcbiAgICByZXR1cm4gKHR5cGVvZiB2ID09PSAndW5kZWZpbmVkJyB8fCB2ID09PSBudWxsIHx8IGlzTmFOKHBhcnNlRmxvYXQodikpKSA/IDAgOiB2O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVFbmNvZGUoZGF0YSkge1xuICAgIGRhdGEgPSBlbmNvZGVVUklDb21wb25lbnQoZGF0YSk7XG4gICAgZGF0YSA9IGRhdGEucmVwbGFjZSgvJShbMC05QS1GXXsyfSkvZywgZnVuY3Rpb24obWF0Y2gsIHAxKSB7XG4gICAgICB2YXIgYyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoJzB4JytwMSk7XG4gICAgICByZXR1cm4gYyA9PT0gJyUnID8gJyUyNScgOiBjO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZGF0YSk7XG4gIH1cblxuICBvdXQkLnByZXBhcmVTdmcgPSBmdW5jdGlvbihlbCwgb3B0aW9ucywgY2IpIHtcbiAgICByZXF1aXJlRG9tTm9kZShlbCk7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnNjYWxlID0gb3B0aW9ucy5zY2FsZSB8fCAxO1xuICAgIG9wdGlvbnMucmVzcG9uc2l2ZSA9IG9wdGlvbnMucmVzcG9uc2l2ZSB8fCBmYWxzZTtcbiAgICB2YXIgeG1sbnMgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCI7XG5cbiAgICBpbmxpbmVJbWFnZXMoZWwsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG91dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHZhciBjbG9uZSA9IGVsLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIHZhciB3aWR0aCwgaGVpZ2h0O1xuICAgICAgaWYoZWwudGFnTmFtZSA9PSAnc3ZnJykge1xuICAgICAgICB3aWR0aCA9IG9wdGlvbnMud2lkdGggfHwgZ2V0RGltZW5zaW9uKGVsLCBjbG9uZSwgJ3dpZHRoJyk7XG4gICAgICAgIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IGdldERpbWVuc2lvbihlbCwgY2xvbmUsICdoZWlnaHQnKTtcbiAgICAgIH0gZWxzZSBpZihlbC5nZXRCQm94KSB7XG4gICAgICAgIHZhciBib3ggPSBlbC5nZXRCQm94KCk7XG4gICAgICAgIHdpZHRoID0gYm94LnggKyBib3gud2lkdGg7XG4gICAgICAgIGhlaWdodCA9IGJveC55ICsgYm94LmhlaWdodDtcbiAgICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBjbG9uZS5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpLnJlcGxhY2UoL3RyYW5zbGF0ZVxcKC4qP1xcKS8sICcnKSk7XG5cbiAgICAgICAgdmFyIHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdzdmcnKVxuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoY2xvbmUpXG4gICAgICAgIGNsb25lID0gc3ZnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQXR0ZW1wdGVkIHRvIHJlbmRlciBub24tU1ZHIGVsZW1lbnQnLCBlbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKFwidmVyc2lvblwiLCBcIjEuMVwiKTtcbiAgICAgIGlmICghY2xvbmUuZ2V0QXR0cmlidXRlKCd4bWxucycpKSB7XG4gICAgICAgIGNsb25lLnNldEF0dHJpYnV0ZU5TKHhtbG5zLCBcInhtbG5zXCIsIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIik7XG4gICAgICB9XG4gICAgICBpZiAoIWNsb25lLmdldEF0dHJpYnV0ZSgneG1sbnM6eGxpbmsnKSkge1xuICAgICAgICBjbG9uZS5zZXRBdHRyaWJ1dGVOUyh4bWxucywgXCJ4bWxuczp4bGlua1wiLCBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnJlc3BvbnNpdmUpIHtcbiAgICAgICAgY2xvbmUucmVtb3ZlQXR0cmlidXRlKCd3aWR0aCcpO1xuICAgICAgICBjbG9uZS5yZW1vdmVBdHRyaWJ1dGUoJ2hlaWdodCcpO1xuICAgICAgICBjbG9uZS5zZXRBdHRyaWJ1dGUoJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLCAneE1pbllNaW4gbWVldCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgd2lkdGggKiBvcHRpb25zLnNjYWxlKTtcbiAgICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIGhlaWdodCAqIG9wdGlvbnMuc2NhbGUpO1xuICAgICAgfVxuXG4gICAgICBjbG9uZS5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIFtcbiAgICAgICAgb3B0aW9ucy5sZWZ0IHx8IDAsXG4gICAgICAgIG9wdGlvbnMudG9wIHx8IDAsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHRcbiAgICAgIF0uam9pbihcIiBcIikpO1xuXG4gICAgICB2YXIgZm9zID0gY2xvbmUucXVlcnlTZWxlY3RvckFsbCgnZm9yZWlnbk9iamVjdCA+IConKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghZm9zW2ldLmdldEF0dHJpYnV0ZSgneG1sbnMnKSkge1xuICAgICAgICAgIGZvc1tpXS5zZXRBdHRyaWJ1dGVOUyh4bWxucywgXCJ4bWxuc1wiLCBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgb3V0ZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuXG4gICAgICAvLyBJbiBjYXNlIG9mIGN1c3RvbSBmb250cyB3ZSBuZWVkIHRvIGZldGNoIGZvbnQgZmlyc3QsIGFuZCB0aGVuIGlubGluZVxuICAgICAgLy8gaXRzIHVybCBpbnRvIGRhdGEtdXJpIGZvcm1hdCAoZW5jb2RlIGFzIGJhc2U2NCkuIFRoYXQncyB3aHkgc3R5bGVcbiAgICAgIC8vIHByb2Nlc3NpbmcgaXMgZG9uZSBhc3luY2hvbm91c2x5LiBPbmNlIGFsbCBpbmxpbmluZyBpcyBmaW5zaGVkXG4gICAgICAvLyBjc3NMb2FkZWRDYWxsYmFjaygpIGlzIGNhbGxlZC5cbiAgICAgIHN0eWxlcyhlbCwgb3B0aW9ucywgY3NzTG9hZGVkQ2FsbGJhY2spO1xuXG4gICAgICBmdW5jdGlvbiBjc3NMb2FkZWRDYWxsYmFjayhjc3MpIHtcbiAgICAgICAgLy8gaGVyZSBhbGwgZm9udHMgYXJlIGlubGluZWQsIHNvIHRoYXQgd2UgY2FuIHJlbmRlciB0aGVtIHByb3Blcmx5LlxuICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgIHMuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvY3NzJyk7XG4gICAgICAgIHMuaW5uZXJIVE1MID0gXCI8IVtDREFUQVtcXG5cIiArIGNzcyArIFwiXFxuXV0+XCI7XG4gICAgICAgIHZhciBkZWZzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGVmcycpO1xuICAgICAgICBkZWZzLmFwcGVuZENoaWxkKHMpO1xuICAgICAgICBjbG9uZS5pbnNlcnRCZWZvcmUoZGVmcywgY2xvbmUuZmlyc3RDaGlsZCk7XG5cbiAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgdmFyIG91dEh0bWwgPSBvdXRlci5pbm5lckhUTUw7XG4gICAgICAgICAgb3V0SHRtbCA9IG91dEh0bWwucmVwbGFjZSgvTlNcXGQrOmhyZWYvZ2ksICd4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4bGluazpocmVmJyk7XG4gICAgICAgICAgY2Iob3V0SHRtbCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG91dCQuc3ZnQXNEYXRhVXJpID0gZnVuY3Rpb24oZWwsIG9wdGlvbnMsIGNiKSB7XG4gICAgb3V0JC5wcmVwYXJlU3ZnKGVsLCBvcHRpb25zLCBmdW5jdGlvbihzdmcpIHtcbiAgICAgIHZhciB1cmkgPSAnZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwnICsgd2luZG93LmJ0b2EocmVFbmNvZGUoZG9jdHlwZSArIHN2ZykpO1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIGNiKHVyaSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvdXQkLnN2Z0FzUG5nVXJpID0gZnVuY3Rpb24oZWwsIG9wdGlvbnMsIGNiKSB7XG4gICAgcmVxdWlyZURvbU5vZGUoZWwpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5lbmNvZGVyVHlwZSA9IG9wdGlvbnMuZW5jb2RlclR5cGUgfHwgJ2ltYWdlL3BuZyc7XG4gICAgb3B0aW9ucy5lbmNvZGVyT3B0aW9ucyA9IG9wdGlvbnMuZW5jb2Rlck9wdGlvbnMgfHwgMC44O1xuXG4gICAgdmFyIGNvbnZlcnRUb1BuZyA9IGZ1bmN0aW9uKHNyYywgdywgaCkge1xuICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHc7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaDtcblxuICAgICAgaWYob3B0aW9ucy5jYW52Zykge1xuICAgICAgICBvcHRpb25zLmNhbnZnKGNhbnZhcywgc3JjKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHNyYywgMCwgMCk7XG4gICAgICB9XG5cbiAgICAgIGlmKG9wdGlvbnMuYmFja2dyb3VuZENvbG9yKXtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tb3Zlcic7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBuZztcbiAgICAgIHRyeSB7XG4gICAgICAgIHBuZyA9IGNhbnZhcy50b0RhdGFVUkwob3B0aW9ucy5lbmNvZGVyVHlwZSwgb3B0aW9ucy5lbmNvZGVyT3B0aW9ucyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmICgodHlwZW9mIFNlY3VyaXR5RXJyb3IgIT09ICd1bmRlZmluZWQnICYmIGUgaW5zdGFuY2VvZiBTZWN1cml0eUVycm9yKSB8fCBlLm5hbWUgPT0gXCJTZWN1cml0eUVycm9yXCIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUmVuZGVyZWQgU1ZHIGltYWdlcyBjYW5ub3QgYmUgZG93bmxvYWRlZCBpbiB0aGlzIGJyb3dzZXIuXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYihwbmcpO1xuICAgIH1cblxuICAgIGlmKG9wdGlvbnMuY2FudmcpIHtcbiAgICAgIG91dCQucHJlcGFyZVN2ZyhlbCwgb3B0aW9ucywgY29udmVydFRvUG5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0JC5zdmdBc0RhdGFVcmkoZWwsIG9wdGlvbnMsIGZ1bmN0aW9uKHVyaSkge1xuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb252ZXJ0VG9QbmcoaW1hZ2UsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnVGhlcmUgd2FzIGFuIGVycm9yIGxvYWRpbmcgdGhlIGRhdGEgVVJJIGFzIGFuIGltYWdlIG9uIHRoZSBmb2xsb3dpbmcgU1ZHXFxuJyxcbiAgICAgICAgICAgIHdpbmRvdy5hdG9iKHVyaS5zbGljZSgyNikpLCAnXFxuJyxcbiAgICAgICAgICAgIFwiT3BlbiB0aGUgZm9sbG93aW5nIGxpbmsgdG8gc2VlIGJyb3dzZXIncyBkaWFnbm9zaXNcXG5cIixcbiAgICAgICAgICAgIHVyaSk7XG4gICAgICAgIH1cblxuICAgICAgICBpbWFnZS5zcmMgPSB1cmk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBvdXQkLmRvd25sb2FkID0gZnVuY3Rpb24obmFtZSwgdXJpKSB7XG4gICAgaWYgKG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7XG4gICAgICBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYih1cmlUb0Jsb2IodXJpKSwgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzYXZlTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIHZhciBkb3dubG9hZFN1cHBvcnRlZCA9ICdkb3dubG9hZCcgaW4gc2F2ZUxpbms7XG4gICAgICBpZiAoZG93bmxvYWRTdXBwb3J0ZWQpIHtcbiAgICAgICAgc2F2ZUxpbmsuZG93bmxvYWQgPSBuYW1lO1xuICAgICAgICBzYXZlTGluay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNhdmVMaW5rKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgYmxvYiA9IHVyaVRvQmxvYih1cmkpO1xuICAgICAgICAgIHZhciB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgIHNhdmVMaW5rLmhyZWYgPSB1cmw7XG4gICAgICAgICAgc2F2ZUxpbmsub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IG9iamVjdCBVUkxzLiBGYWxsaW5nIGJhY2sgdG8gc3RyaW5nIFVSTC4nKTtcbiAgICAgICAgICBzYXZlTGluay5ocmVmID0gdXJpO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVMaW5rLmNsaWNrKCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2F2ZUxpbmspO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHdpbmRvdy5vcGVuKHVyaSwgJ190ZW1wJywgJ21lbnViYXI9bm8sdG9vbGJhcj1ubyxzdGF0dXM9bm8nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cmlUb0Jsb2IodXJpKSB7XG4gICAgdmFyIGJ5dGVTdHJpbmcgPSB3aW5kb3cuYXRvYih1cmkuc3BsaXQoJywnKVsxXSk7XG4gICAgdmFyIG1pbWVTdHJpbmcgPSB1cmkuc3BsaXQoJywnKVswXS5zcGxpdCgnOicpWzFdLnNwbGl0KCc7JylbMF1cbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ5dGVTdHJpbmcubGVuZ3RoKTtcbiAgICB2YXIgaW50QXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZVN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgaW50QXJyYXlbaV0gPSBieXRlU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQmxvYihbYnVmZmVyXSwge3R5cGU6IG1pbWVTdHJpbmd9KTtcbiAgfVxuXG4gIG91dCQuc2F2ZVN2ZyA9IGZ1bmN0aW9uKGVsLCBuYW1lLCBvcHRpb25zKSB7XG4gICAgcmVxdWlyZURvbU5vZGUoZWwpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3V0JC5zdmdBc0RhdGFVcmkoZWwsIG9wdGlvbnMsIGZ1bmN0aW9uKHVyaSkge1xuICAgICAgb3V0JC5kb3dubG9hZChuYW1lLCB1cmkpO1xuICAgIH0pO1xuICB9XG5cbiAgb3V0JC5zYXZlU3ZnQXNQbmcgPSBmdW5jdGlvbihlbCwgbmFtZSwgb3B0aW9ucykge1xuICAgIHJlcXVpcmVEb21Ob2RlKGVsKTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG91dCQuc3ZnQXNQbmdVcmkoZWwsIG9wdGlvbnMsIGZ1bmN0aW9uKHVyaSkge1xuICAgICAgb3V0JC5kb3dubG9hZChuYW1lLCB1cmkpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gaWYgZGVmaW5lIGlzIGRlZmluZWQgY3JlYXRlIGFzIGFuIEFNRCBtb2R1bGVcbiAgaWYgKHR5cGVvZiBkZWZpbmUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG91dCQ7XG4gICAgfSk7XG4gIH1cblxufSkoKTtcbiIsImV4cG9ydCBmdW5jdGlvbiBkb250RXhlY3V0ZUlmTm9EYXRhKHByb3BzKSB7XG4gIHJldHVybiBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgdmFyIG9sZFZhbHVlID0gZGVzY3JpcHRvci52YWx1ZTtcblxuICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghaGFzRGF0YShnZXRQcm9wZXJ0eSh0aGlzLmRhdGEsIHByb3BzKSkpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYE5vIGRhdGEgaGVyZSBbJHtwcm9wc31dLCBub3RoaW5nIHRvIHJlbmRlci4uLiBjb250aW51aW5nLi4uYCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvbGRWYWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvcGVydHkob2JqLCBwcm9wZXJ0eVBhdGgpIHtcblxuICB2YXIgdG1wID0gb2JqO1xuXG4gIGlmICh0bXAgJiYgcHJvcGVydHlQYXRoKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBwcm9wZXJ0eVBhdGguc3BsaXQoJy4nKTtcblxuICAgIGZvciAodmFyIHByb3BlcnR5IG9mIHByb3BlcnRpZXMpIHtcbiAgICAgIGlmICghdG1wLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICB0bXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRtcCA9IHRtcFtwcm9wZXJ0eV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRtcDtcbn1cblxuZnVuY3Rpb24gaGFzRGF0YShvYmopIHtcbiAgaWYgKG9iaiAmJiAoKG9iaiBpbnN0YW5jZW9mIEFycmF5ICYmIG9iai5sZW5ndGgpIHx8IChvYmogaW5zdGFuY2VvZiBPYmplY3QgJiYgT2JqZWN0LnZhbHVlcyhvYmopLmxlbmd0aCkpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuIiwiaW1wb3J0IEZyYW1lIGZyb20gJy4vcmVuZGVyL2ZyYW1lJztcbmltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlci9yZW5kZXJlcic7XG5cbi8vaW1wb3J0IFRyYWNrZXIgZnJvbSAnLi90cmFja2VyL2NoYW5nZSc7XG5cbmxldCBBTExfQ0FOVkFTID0ge307XG5cbi8qIGdsb2JhbCBkMyAqL1xuXG4vKipcbiAqIEZyYW5jeSBpcyB0aGUgbWFpbiBlbnRyeSBwb2ludCBmb3IgdGhlIHdob2xlIGZyYW1ld29yay4gQnkgcGFzc2luZyBhbiBpbnB1dCBzdHJpbmcvb2JqZWN0IHRvIHRoZSB7RnJhbmN5LmhhbmRsZX0gZnVuY3Rpb24sXG4gKiBGcmFuY3kgd2lsbCBoYW5kbGUgdGhlIGNyZWF0aW9uIG9mIHRoYXQganNvbiBhcyBsb25nIGl0IGlzIGEgdmFsaWQgYW5kIHVuZGVyc3RhbmRhYmxlIGpzb24gb2JqZWN0IHRvIEZyYW5jeS5cbiAqIEBhY2Nlc3MgcHVibGljXG4gKiBcbiAqIEB2ZXJzaW9uIDAuNS4wXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBsZXQgZnJhbmN5ID0gbmV3IEZyYW5jeSh7dmVyYm9zZTogdHJ1ZSwgYXBwZW5kVG86ICcjZGl2LWlkJywgY2FsbGJhY2tIYW5kbGVyOiBjb25zb2xlLmxvZ30pO1xuICogZnJhbmN5LmxvYWQoanNvbikucmVuZGVyKCk7XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZyYW5jeSBleHRlbmRzIFJlbmRlcmVyIHtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBGcmFuY3kgd2l0aCB0aGUgZm9sbG93aW5nIG9wdGlvbnM6XG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAgICogQHByb3BlcnR5IHtCb29sZWFufSB2ZXJib3NlIHByaW50cyBleHRyYSBsb2cgaW5mb3JtYXRpb24gdG8gY29uc29sZS5sb2csIGRlZmF1bHQgZmFsc2VcbiAgICogQHByb3BlcnR5IHtCb29sZWFufSBhcHBlbmRUbyB3aGVyZSB0aGUgZ2VuZXJhdGVkIGh0bWwvc3ZnIGNvbXBvbmVudHMgd2lsbCBiZSBhdHRhY2hlZCB0bywgZGVmYXVsdCBib2R5XG4gICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGNhbGxiYWNrSGFuZGxlciB0aGlzIGhhbmRsZXIgd2lsbCBiZSB1c2VkIHRvIGludm9rZSBhY3Rpb25zIGZyb20gdGhlIG1lbnUsIGRlZmF1bHQgY29uc29sZS5sb2dcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gICAgaWYgKCFkMykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEMyBpcyBub3QgaW1wb3J0ZWQhIEZyYW5jeSB3b25cXCd0IHdvcmsgd2l0aG91dCBpdC4uLiBwbGVhc2UgaW1wb3J0IEQzIHY0Ky4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFpbiBlbnRyeSBwb2ludC4gQ2FsbGluZyByZW5kZXIgcGFzc2luZyBhIGpzb24gcmVwcmVzZW50YXRpb24gc3RyaW5nIHdpbGwgXG4gICAqIHRyaWdnZXIgdGhlIGRyYXdpbmcgb2YgYSBqc29uIG9iamVjdC5cbiAgICogQHJldHVybnMge09iamVjdH0gdGhlIGh0bWwgZWxlbWVudCBjcmVhdGVkXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgLy92YXIgdHJhY2tlciA9IG5ldyBUcmFja2VyKGpzb24sIHRoaXMub3B0aW9ucyk7XG4gICAgLy90cmFja2VyLnN1YnNjcmliZShmdW5jdGlvbihvYmopIHsgY29uc29sZS5sb2cob2JqKTsgfSk7XG4gICAgLy9yZXR1cm4gbmV3IERyYXcodGhpcy5vcHRpb25zKS5oYW5kbGUodHJhY2tlci5vYmplY3QpO1xuICAgIHZhciBmcmFtZSA9IG5ldyBGcmFtZSh0aGlzLm9wdGlvbnMpLmxvYWQodGhpcy5kYXRhKS5yZW5kZXIoKTtcbiAgICBBTExfQ0FOVkFTW3RoaXMuZGF0YS5jYW52YXMuaWRdID0gZnJhbWUuY2FudmFzO1xuICAgIHJldHVybiBmcmFtZS5lbGVtZW50Lm5vZGUoKTtcbiAgfVxuXG4gIHVucmVuZGVyKGlkKSB7XG4gICAgZGVsZXRlIEFMTF9DQU5WQVNbaWRdO1xuICB9XG59XG5cbnRyeSB7XG4gIGV4cG9ydHMuRnJhbmN5ID0gd2luZG93LkZyYW5jeSA9IEZyYW5jeTtcbiAgLy8gaGFuZGxlIGV2ZW50cyBvbiByZXNpemVcbiAgdmFyIG9sZFJlc2l6ZSA9IHdpbmRvdy5vbnJlc2l6ZTtcbiAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gem9vbSB0byBmaXQgYWxsIGNhbnZhcyBvbiByZXNpemVcbiAgICBPYmplY3QudmFsdWVzKEFMTF9DQU5WQVMpLmZvckVhY2goZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICBjYW52YXMuem9vbVRvRml0KCk7XG4gICAgfSk7XG4gICAgLy8gY2FsbCBvbGQgcmVzaXplIGZ1bmN0aW9uIGlmIGFueSFcbiAgICBpZiAodHlwZW9mIG9sZFJlc2l6ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb2xkUmVzaXplKCk7XG4gICAgfVxuICB9O1xufVxuY2F0Y2ggKGUpIHtcbiAgZXhwb3J0cy5GcmFuY3kgPSBGcmFuY3k7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy4uL3V0aWwvbG9nZ2VyJztcbmltcG9ydCBKc29uVXRpbHMgZnJvbSAnLi4vdXRpbC9qc29uLXV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZSB7XG5cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHRoaXMuc2V0dGluZ3MoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtMb2dnZXJ9IHRoZSBsb2dnZXIgZm9yIHRoaXMgY2xhc3NcbiAgICAgKi9cbiAgICB0aGlzLmxvZyA9IG5ldyBMb2dnZXIodGhpcy5vcHRpb25zKTtcbiAgfVxuXG4gIHNldHRpbmdzKHsgdmVyYm9zZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgaWYgKCFjYWxsYmFja0hhbmRsZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQSBDYWxsYmFjayBIYW5kbGVyIG11c3QgYmUgcHJvdmlkZWQhIFRoaXMgd2lsbCBiZSB1c2VkIHRvIHRyaWdnZXIgZXZlbnRzIGZyb20gdGhlIGdyYXBoaWNzIHByb2R1Y2VkLi4uJyk7XG4gICAgfVxuICAgIGlmICghYXBwZW5kVG8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBhbiBlbGVtZW50IG9yIGlkIHRvIGFwcGVuZCB0aGUgZ3JhcGhpY3MgdG8uLi4hJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHZlcmJvc2UgcHJpbnRzIGV4dHJhIGxvZyBpbmZvcm1hdGlvbiB0byBjb25zb2xlLmxvZywgZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gYXBwZW5kVG8gd2hlcmUgdGhlIGdlbmVyYXRlZCBodG1sL3N2ZyBjb21wb25lbnRzIHdpbGwgYmUgYXR0YWNoZWQgdG8sIGRlZmF1bHQgYm9keVxuICAgICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGNhbGxiYWNrSGFuZGxlciB0aGlzIGhhbmRsZXIgd2lsbCBiZSB1c2VkIHRvIGludm9rZSBhY3Rpb25zIGZyb20gdGhlIG1lbnUsIGRlZmF1bHQgY29uc29sZS5sb2dcbiAgICAgKi9cbiAgICB0aGlzLm9wdGlvbnMgPSB7fTtcbiAgICB0aGlzLm9wdGlvbnMudmVyYm9zZSA9IHZlcmJvc2UgfHwgdGhpcy5vcHRpb25zLnZlcmJvc2U7XG4gICAgdGhpcy5vcHRpb25zLmFwcGVuZFRvID0gYXBwZW5kVG8gfHwgdGhpcy5vcHRpb25zLnZlcmJvc2U7XG4gICAgdGhpcy5vcHRpb25zLmNhbGxiYWNrSGFuZGxlciA9IGNhbGxiYWNrSGFuZGxlciB8fCB0aGlzLm9wdGlvbnMuY2FsbGJhY2tIYW5kbGVyO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbG9hZChqc29uLCBwYXJ0aWFsKSB7XG4gICAgbGV0IGRhdGEgPSBKc29uVXRpbHMucGFyc2UoanNvbiwgcGFydGlhbCk7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0IGxvZ2dlcigpIHtcbiAgICByZXR1cm4gdGhpcy5sb2c7XG4gIH1cblxufVxuIiwiaW1wb3J0IEJhc2UgZnJvbSAnLi9iYXNlJztcbmltcG9ydCBSZXF1aXJlZEFyZ3NNb2RhbCBmcm9tICcuL21vZGFsLXJlcXVpcmVkJztcbmltcG9ydCB7IGRvbnRFeGVjdXRlSWZOb0RhdGEgfSBmcm9tICcuLi9kZWNvcmF0b3IvZGF0YSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbGxiYWNrSGFuZGxlciBleHRlbmRzIEJhc2Uge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrSGFuZGxlcjtcbiAgfVxuXG4gIEBkb250RXhlY3V0ZUlmTm9EYXRhKClcbiAgZXhlY3V0ZSgpIHtcbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5kYXRhLmNhbGxiYWNrLnJlcXVpcmVkQXJncykubGVuZ3RoKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgIG9wdGlvbnMuY2FsbGJhY2tIYW5kbGVyID0gKGNhbGJhY2tPYmopID0+IHRoaXMuX2V4ZWN1dGUuY2FsbCh0aGlzLCBjYWxiYWNrT2JqKTtcbiAgICAgIHJldHVybiBuZXcgUmVxdWlyZWRBcmdzTW9kYWwob3B0aW9ucykubG9hZCh0aGlzLmRhdGEsIHRydWUpLnJlbmRlcigpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIFRyaWdnZXIgaXMgdGhlIGV4cGVjdGVkIGNvbW1hbmQgb24gR0FQIGZvciB0aGlzIGV2ZW50cyFcbiAgICAgIHRoaXMuX2V4ZWN1dGUodGhpcy5kYXRhLmNhbGxiYWNrKTtcbiAgICB9XG4gIH1cblxuICBfZXhlY3V0ZShjYWxiYWNrT2JqKSB7XG4gICAgdGhpcy5jYWxsYmFjayhgVHJpZ2dlcigke0pTT04uc3RyaW5naWZ5KEpTT04uc3RyaW5naWZ5KGNhbGJhY2tPYmopKX0pO2ApO1xuICB9XG59XG4iLCJpbXBvcnQgQ29tcG9zaXRlIGZyb20gJy4vY29tcG9zaXRlJztcbmltcG9ydCBHcmFwaCBmcm9tICcuL2dyYXBoJztcbmltcG9ydCBDaGFydCBmcm9tICcuL2NoYXJ0JztcbmltcG9ydCB7IGRvbnRFeGVjdXRlSWZOb0RhdGEgfSBmcm9tICcuLi9kZWNvcmF0b3IvZGF0YSc7XG5cbi8qIGdsb2JhbCBkMyAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXMgZXh0ZW5kcyBDb21wb3NpdGUge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gICAgdGhpcy5ncmFwaCA9IG5ldyBHcmFwaCh0aGlzLm9wdGlvbnMpO1xuICAgIHRoaXMuY2hhcnQgPSBuZXcgQ2hhcnQodGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLmFkZCh0aGlzLmdyYXBoKS5hZGQodGhpcy5jaGFydCk7XG4gIH1cblxuICBAZG9udEV4ZWN1dGVJZk5vRGF0YSgpXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XG5cbiAgICB2YXIgY2FudmFzSWQgPSB0aGlzLmRhdGEuY2FudmFzLmlkO1xuICAgIHRoaXMuZWxlbWVudCA9IGQzLnNlbGVjdChgc3ZnIyR7Y2FudmFzSWR9YCk7XG4gICAgLy8gY2hlY2sgaWYgdGhlIGNhbnZhcyBpcyBhbHJlYWR5IHByZXNlbnRcbiAgICBpZiAoIXRoaXMuZWxlbWVudC5ub2RlKCkpIHtcbiAgICAgIC8vIGNyZWF0ZSBhIHN2ZyBlbGVtZW50IGRldGFjaGVkIGZyb20gdGhlIERPTSFcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBDcmVhdGluZyBDYW52YXMgWyR7Y2FudmFzSWR9XS4uLmApO1xuICAgICAgdGhpcy5lbGVtZW50ID0gcGFyZW50LmFwcGVuZCgnc3ZnJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1jYW52YXMnKVxuICAgICAgICAuYXR0cignaWQnLCBjYW52YXNJZCk7XG4gICAgfVxuXG4gICAgLy8gY2Fubm90IGNvbnRpbnVlIGlmIGNhbnZhcyBpcyBub3QgcHJlc2VudFxuICAgIGlmICghdGhpcy5lbGVtZW50Lm5vZGUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBPb3BzLCBjb3VsZCBub3QgY3JlYXRlIGNhbnZhcyB3aXRoIGlkIFske2NhbnZhc0lkfV0uLi4gQ2Fubm90IHByb2NlZWQuYCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50LmF0dHIoJ3dpZHRoJywgdGhpcy5kYXRhLmNhbnZhcy53aWR0aCkuYXR0cignaGVpZ2h0JywgdGhpcy5kYXRhLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgdmFyIHpvb20gPSBkMy56b29tKCk7XG5cbiAgICB2YXIgY29udGVudCA9IHRoaXMuZWxlbWVudC5zZWxlY3QoJ2cuZnJhbmN5LWNvbnRlbnQnKTtcblxuICAgIGlmICghY29udGVudC5ub2RlKCkpIHtcbiAgICAgIGNvbnRlbnQgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LWNvbnRlbnQnKTtcbiAgICAgIHpvb20ub24oXCJ6b29tXCIsIHpvb21lZCk7XG4gICAgICB0aGlzLmVsZW1lbnQuY2FsbCh6b29tKS5vbihcImRibGNsaWNrLnpvb21cIiwgbnVsbCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50Lm9uKFwiY2xpY2tcIiwgc3RvcHBlZCwgdHJ1ZSk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5lbGVtZW50Lnpvb21Ub0ZpdCA9IHRoaXMuem9vbVRvRml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBvbmx5IGV4ZWN1dGUgaWYgZW5hYmxlLCBvZiBjb3Vyc2VcbiAgICAgIGlmIChzZWxmLmRhdGEuY2FudmFzLnpvb21Ub0ZpdCkge1xuICAgICAgICB2YXIgYm91bmRzID0gY29udGVudC5ub2RlKCkuZ2V0QkJveCgpO1xuXG4gICAgICAgIHZhciBjbGllbnRCb3VuZHMgPSBzZWxmLmVsZW1lbnQubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgIGZ1bGxXaWR0aCA9IGNsaWVudEJvdW5kcy5yaWdodCAtIGNsaWVudEJvdW5kcy5sZWZ0LFxuICAgICAgICAgIGZ1bGxIZWlnaHQgPSBjbGllbnRCb3VuZHMuYm90dG9tIC0gY2xpZW50Qm91bmRzLnRvcDtcblxuICAgICAgICB2YXIgd2lkdGggPSBib3VuZHMud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gYm91bmRzLmhlaWdodDtcblxuICAgICAgICBpZiAod2lkdGggPT0gMCB8fCBoZWlnaHQgPT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBtaWRYID0gYm91bmRzLnggKyB3aWR0aCAvIDIsXG4gICAgICAgICAgbWlkWSA9IGJvdW5kcy55ICsgaGVpZ2h0IC8gMjtcblxuICAgICAgICB2YXIgc2NhbGUgPSAwLjc1IC8gTWF0aC5tYXgod2lkdGggLyBmdWxsV2lkdGgsIGhlaWdodCAvIGZ1bGxIZWlnaHQpO1xuICAgICAgICB2YXIgdHJhbnNsYXRlWCA9IGZ1bGxXaWR0aCAvIDIgLSBzY2FsZSAqIG1pZFgsXG4gICAgICAgICAgdHJhbnNsYXRlWSA9IGZ1bGxIZWlnaHQgLyAyIC0gc2NhbGUgKiBtaWRZO1xuXG4gICAgICAgIGNvbnRlbnQudHJhbnNpdGlvbigpXG4gICAgICAgICAgLmR1cmF0aW9uKDIwMDApXG4gICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0cmFuc2xhdGVYfSwke3RyYW5zbGF0ZVl9KXNjYWxlKCR7c2NhbGV9LCR7c2NhbGV9KWApXG4gICAgICAgICAgLm9uKCdlbmQnLCAoKSA9PiB1cGRhdGVab29tKHRyYW5zbGF0ZVgsIHRyYW5zbGF0ZVksIHNjYWxlKSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVpvb20odHJhbnNsYXRlWCwgdHJhbnNsYXRlWSwgc2NhbGUpIHtcbiAgICAgIHNlbGYuZWxlbWVudC5jYWxsKHpvb20udHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHkudHJhbnNsYXRlKHRyYW5zbGF0ZVgsIHRyYW5zbGF0ZVkpLnNjYWxlKHNjYWxlLCBzY2FsZSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHpvb21lZCgpIHtcbiAgICAgIGNvbnRlbnQuYXR0cihcInRyYW5zZm9ybVwiLCBkMy5ldmVudC50cmFuc2Zvcm0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0b3BwZWQoKSB7XG4gICAgICBpZiAoZDMuZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgeyBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgfVxuICAgIH1cblxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBDYW52YXMgdXBkYXRlZCBbJHtjYW52YXNJZH1dLi4uYCk7XG5cbiAgICB0aGlzLnJlbmRlckNoaWxkcmVuKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHVucmVuZGVyKCkge31cblxufVxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi90b29sdGlwJztcbmltcG9ydCBDaGFydCBmcm9tICcuL2NoYXJ0JztcblxuLyogZ2xvYmFsIGQzICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhckNoYXJ0IGV4dGVuZHMgUmVuZGVyZXIge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG5cbiAgICB2YXIgdG9vbHRpcCA9IG5ldyBUb29sdGlwKHRoaXMub3B0aW9ucyk7XG5cbiAgICB2YXIgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XG5cbiAgICB2YXIgYXhpcyA9IHRoaXMuZGF0YS5jYW52YXMuY2hhcnQuYXhpcyxcbiAgICAgIGRhdGFzZXRzID0gdGhpcy5kYXRhLmNhbnZhcy5jaGFydC5kYXRhLFxuICAgICAgZGF0YXNldE5hbWVzID0gT2JqZWN0LmtleXMoZGF0YXNldHMpO1xuXG4gICAgdGhpcy5lbGVtZW50ID0gcGFyZW50LnNlbGVjdCgnZy5mcmFuY3ktY29udGVudCcpO1xuXG4gICAgdmFyIG1hcmdpbiA9IHsgdG9wOiA1MCwgcmlnaHQ6IDUwLCBib3R0b206IDUwLCBsZWZ0OiA1MCB9LFxuICAgICAgd2lkdGggPSArcGFyZW50LmF0dHIoJ3dpZHRoJykgfHwgZDMuc2VsZWN0KCdib2R5Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gK3BhcmVudC5hdHRyKCdoZWlnaHQnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXG4gICAgLy8gc2V0IHRoZSBkaW1lbnNpb25zIGFuZCBtYXJnaW5zIG9mIHRoZSBjaGFydFxuICAgIHdpZHRoID0gd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICBoZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuICAgIC8vIHNldCB0aGUgcmFuZ2VzXG4gICAgdmFyIHggPSBkMy5zY2FsZUJhbmQoKS5yYW5nZShbMCwgd2lkdGhdKS5wYWRkaW5nKDAuMSkuZG9tYWluKGF4aXMueC5kb21haW4pO1xuICAgIHZhciB5ID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbaGVpZ2h0LCAwXSkuZG9tYWluKGF4aXMueS5kb21haW4pO1xuXG4gICAgdmFyIHRtcCA9IFtdO1xuICAgIGRhdGFzZXROYW1lcy5mb3JFYWNoKGtleSA9PiB0bXAgPSB0bXAuY29uY2F0KGRhdGFzZXRzW2tleV0pKTtcblxuICAgIGlmICghYXhpcy55LmRvbWFpbi5sZW5ndGgpIHtcbiAgICAgIHkuZG9tYWluKFswLCBkMy5tYXgodG1wLCBkID0+IGQpXSk7XG4gICAgfVxuXG4gICAgaWYgKCFheGlzLnguZG9tYWluLmxlbmd0aCkge1xuICAgICAgYXhpcy54LmRvbWFpbiA9IENoYXJ0LmRvbWFpblJhbmdlKHRtcC5sZW5ndGggLyBkYXRhc2V0TmFtZXMubGVuZ3RoKTtcbiAgICAgIHguZG9tYWluKGF4aXMueC5kb21haW4pO1xuICAgIH1cblxuICAgIHZhciBiYXJzR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCdnLmZyYW5jeS1iYXJzJyk7XG5cbiAgICBpZiAoIWJhcnNHcm91cC5ub2RlKCkpIHtcbiAgICAgIGJhcnNHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktYmFycycpO1xuICAgIH1cblxuICAgIGRhdGFzZXROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgaW5kZXgpIHtcbiAgICAgIHZhciBiYXIgPSBiYXJzR3JvdXAuc2VsZWN0QWxsKGAuZnJhbmN5LWJhciR7aW5kZXh9YCkuZGF0YShkYXRhc2V0c1trZXldKTtcblxuICAgICAgYmFyLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgICAgLy8gYXBwZW5kIHRoZSByZWN0YW5nbGVzIGZvciB0aGUgYmFyIGNoYXJ0XG4gICAgICBiYXIuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgKCkgPT4gQ2hhcnQuY29sb3JzKGluZGV4ICogNSkpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGBmcmFuY3ktYmFyJHtpbmRleH1gKVxuICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIHgoYXhpcy54LmRvbWFpbltpXSkgKyBpbmRleCAqICh4LmJhbmR3aWR0aCgpIC8gZGF0YXNldE5hbWVzLmxlbmd0aCk7IH0pXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsICh4LmJhbmR3aWR0aCgpIC8gZGF0YXNldE5hbWVzLmxlbmd0aCkgLSAxKVxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHkoZCk7IH0pXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBmdW5jdGlvbihkKSB7IHJldHVybiBoZWlnaHQgLSB5KGQpOyB9KVxuICAgICAgICAub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuZHVyYXRpb24oMjUwKS5zdHlsZShcImZpbGwtb3BhY2l0eVwiLCAwLjUpO1xuICAgICAgICAgIHRvb2x0aXAubG9hZChDaGFydC50b29sdGlwKGtleSwgZCksIHRydWUpLnJlbmRlcigpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC5kdXJhdGlvbigyNTApLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsIDEpO1xuICAgICAgICAgIHRvb2x0aXAudW5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGJhci5tZXJnZShiYXIpO1xuICAgIH0pO1xuXG4gICAgLy8gZm9yY2UgcmVidWlsZCBheGlzIGFnYWluXG4gICAgdmFyIHhBeGlzR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCdnLmZyYW5jeS14LWF4aXMnKTtcblxuICAgIGlmICgheEF4aXNHcm91cC5ub2RlKCkpIHtcbiAgICAgIHhBeGlzR3JvdXAgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXgtYXhpcycpO1xuICAgIH1cblxuICAgIHhBeGlzR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgICAvLyBhZGQgdGhlIHggQXhpc1xuICAgIHhBeGlzR3JvdXBcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHtoZWlnaHR9KWApXG4gICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKVxuICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignZHknLCA1MClcbiAgICAgIC5hdHRyKCdkeCcsIHdpZHRoIC8gMilcbiAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktYXhpcycpXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXG4gICAgICAudGV4dChheGlzLngudGl0bGUpO1xuXG4gICAgLy8gZm9yY2UgcmVidWlsZCBheGlzIGFnYWluXG4gICAgdmFyIHlBeGlzR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCdnLmZyYW5jeS15LWF4aXMnKTtcblxuICAgIGlmICgheUF4aXNHcm91cC5ub2RlKCkpIHtcbiAgICAgIHlBeGlzR3JvdXAgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXktYXhpcycpO1xuICAgIH1cblxuICAgIHlBeGlzR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgICAvLyBhZGQgdGhlIHkgQXhpc1xuICAgIHlBeGlzR3JvdXBcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKVxuICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignZHgnLCAtNTApXG4gICAgICAuYXR0cignZHknLCBoZWlnaHQgLyAyKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1heGlzJylcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcbiAgICAgIC50ZXh0KGF4aXMueS50aXRsZSk7XG5cbiAgICB2YXIgbGVnZW5kR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCcuZnJhbmN5LWxlZ2VuZCcpO1xuXG4gICAgaWYgKCFsZWdlbmRHcm91cC5ub2RlKCkpIHtcbiAgICAgIGxlZ2VuZEdyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1sZWdlbmQnKTtcbiAgICB9XG5cbiAgICAvLyBmb3JjZSByZWJ1aWxkIGxlZ2VuZCBhZ2FpblxuICAgIGxlZ2VuZEdyb3VwLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xuXG4gICAgdmFyIGxlZ2VuZCA9IGxlZ2VuZEdyb3VwLnNlbGVjdEFsbCgnZycpLmRhdGEoZGF0YXNldE5hbWVzLnNsaWNlKCkpO1xuXG4gICAgbGVnZW5kLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIGxlZ2VuZCA9IGxlZ2VuZC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCwgaSkgPT4gYHRyYW5zbGF0ZSgwLCR7aSAqIDIwfSlgKVxuICAgICAgLm1lcmdlKGxlZ2VuZCk7XG5cbiAgICBsZWdlbmQuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCd4Jywgd2lkdGggKyAyMClcbiAgICAgIC5hdHRyKCd3aWR0aCcsIDE5KVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDE5KVxuICAgICAgLnN0eWxlKCdmaWxsJywgKGQsIGkpID0+IENoYXJ0LmNvbG9ycyhpICogNSkpO1xuXG4gICAgbGVnZW5kLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cigneCcsIHdpZHRoICsgODApXG4gICAgICAuYXR0cigneScsIDkpXG4gICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLnRleHQoZCA9PiBkKTtcblxuICAgIHBhcmVudC56b29tVG9GaXQoKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxufVxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi90b29sdGlwJztcbmltcG9ydCBDaGFydCBmcm9tICcuL2NoYXJ0JztcblxuLyogZ2xvYmFsIGQzICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmVDaGFydCBleHRlbmRzIFJlbmRlcmVyIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuXG4gICAgdmFyIHRvb2x0aXAgPSBuZXcgVG9vbHRpcCh0aGlzLm9wdGlvbnMpO1xuXG4gICAgdmFyIHBhcmVudCA9IHRoaXMub3B0aW9ucy5hcHBlbmRUby5lbGVtZW50O1xuXG4gICAgdmFyIGF4aXMgPSB0aGlzLmRhdGEuY2FudmFzLmNoYXJ0LmF4aXMsXG4gICAgICBkYXRhc2V0cyA9IHRoaXMuZGF0YS5jYW52YXMuY2hhcnQuZGF0YSxcbiAgICAgIGRhdGFzZXROYW1lcyA9IE9iamVjdC5rZXlzKGRhdGFzZXRzKTtcblxuICAgIHRoaXMuZWxlbWVudCA9IHBhcmVudC5zZWxlY3QoJ2cuZnJhbmN5LWNvbnRlbnQnKTtcblxuICAgIHZhciBtYXJnaW4gPSB7IHRvcDogNTAsIHJpZ2h0OiA1MCwgYm90dG9tOiA1MCwgbGVmdDogNTAgfSxcbiAgICAgIHdpZHRoID0gK3BhcmVudC5hdHRyKCd3aWR0aCcpIHx8IGQzLnNlbGVjdCgnYm9keScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCxcbiAgICAgIGhlaWdodCA9ICtwYXJlbnQuYXR0cignaGVpZ2h0JykgfHwgZDMuc2VsZWN0KCdib2R5Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcblxuICAgIC8vIHNldCB0aGUgZGltZW5zaW9ucyBhbmQgbWFyZ2lucyBvZiB0aGUgY2hhcnRcbiAgICB3aWR0aCA9IHdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gICAgaGVpZ2h0ID0gaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICAvLyBzZXQgdGhlIHJhbmdlc1xuICAgIHZhciB4ID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbMCwgd2lkdGhdKS5kb21haW4oYXhpcy54LmRvbWFpbik7XG4gICAgdmFyIHkgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHQsIDBdKS5kb21haW4oYXhpcy55LmRvbWFpbik7XG5cbiAgICB2YXIgdG1wID0gW107XG4gICAgZGF0YXNldE5hbWVzLmZvckVhY2goa2V5ID0+IHRtcCA9IHRtcC5jb25jYXQoZGF0YXNldHNba2V5XSkpO1xuXG4gICAgaWYgKCFheGlzLnkuZG9tYWluLmxlbmd0aCkge1xuICAgICAgeS5kb21haW4oWzAsIGQzLm1heCh0bXAsIGQgPT4gZCldKTtcbiAgICB9XG5cbiAgICBpZiAoIWF4aXMueC5kb21haW4ubGVuZ3RoKSB7XG4gICAgICB4LmRvbWFpbihbMCwgdG1wLmxlbmd0aCAvIGRhdGFzZXROYW1lcy5sZW5ndGhdKTtcbiAgICB9XG5cbiAgICB2YXIgbGluZXNHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJ2cuZnJhbmN5LWxpbmVzJyk7XG5cbiAgICBpZiAoIWxpbmVzR3JvdXAubm9kZSgpKSB7XG4gICAgICBsaW5lc0dyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1saW5lcycpO1xuICAgIH1cblxuICAgIGRhdGFzZXROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgaW5kZXgpIHtcbiAgICAgIHZhciB2YWx1ZUxpbmUgPSBkMy5saW5lKClcbiAgICAgICAgLngoZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4geChpKTsgfSlcbiAgICAgICAgLnkoZnVuY3Rpb24oZCkgeyByZXR1cm4geShkKTsgfSk7XG5cbiAgICAgIHZhciBsaW5lID0gbGluZXNHcm91cC5zZWxlY3RBbGwoYC5saW5lJHtpbmRleH1gKS5kYXRhKFtkYXRhc2V0c1trZXldXSk7XG5cbiAgICAgIGxpbmUuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgICAvLyBhcHBlbmQgdGhlIHJlY3RhbmdsZXMgZm9yIHRoZSBiYXIgY2hhcnRcbiAgICAgIGxpbmUuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAoKSA9PiBDaGFydC5jb2xvcnMoaW5kZXggKiA1KSlcbiAgICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCAnNXB4JylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgYGZyYW5jeS1saW5lJHtpbmRleH1gKVxuICAgICAgICAuYXR0cignZCcsIHZhbHVlTGluZSlcbiAgICAgICAgLm9uKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgLmR1cmF0aW9uKDI1MClcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZS1vcGFjaXR5XCIsIDAuNSlcbiAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgJzEwcHgnKTtcbiAgICAgICAgICB0b29sdGlwLmxvYWQoQ2hhcnQudG9vbHRpcChrZXksIGQpLCB0cnVlKS5yZW5kZXIoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuZHVyYXRpb24oMjUwKVxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlLW9wYWNpdHlcIiwgMSlcbiAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgJzVweCcpO1xuICAgICAgICAgIHRvb2x0aXAudW5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGxpbmUubWVyZ2UobGluZSk7XG4gICAgfSk7XG5cbiAgICAvLyBmb3JjZSByZWJ1aWxkIGF4aXMgYWdhaW5cbiAgICB2YXIgeEF4aXNHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJ2cuZnJhbmN5LXgtYXhpcycpO1xuXG4gICAgaWYgKCF4QXhpc0dyb3VwLm5vZGUoKSkge1xuICAgICAgeEF4aXNHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3kteC1heGlzJyk7XG4gICAgfVxuXG4gICAgeEF4aXNHcm91cC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcblxuICAgIC8vIGFkZCB0aGUgeCBBeGlzXG4gICAgeEF4aXNHcm91cFxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke2hlaWdodH0pYClcbiAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdkeScsIDUwKVxuICAgICAgLmF0dHIoJ2R4Jywgd2lkdGggLyAyKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1heGlzJylcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcbiAgICAgIC50ZXh0KGF4aXMueC50aXRsZSk7XG5cbiAgICAvLyBmb3JjZSByZWJ1aWxkIGF4aXMgYWdhaW5cbiAgICB2YXIgeUF4aXNHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJ2cuZnJhbmN5LXktYXhpcycpO1xuXG4gICAgaWYgKCF5QXhpc0dyb3VwLm5vZGUoKSkge1xuICAgICAgeUF4aXNHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3kteS1heGlzJyk7XG4gICAgfVxuXG4gICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcblxuICAgIC8vIGFkZCB0aGUgeSBBeGlzXG4gICAgeUF4aXNHcm91cFxuICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSkpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdkeCcsIC01MClcbiAgICAgIC5hdHRyKCdkeScsIGhlaWdodCAvIDIpXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LWF4aXMnKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLnRleHQoYXhpcy55LnRpdGxlKTtcblxuICAgIHZhciBsZWdlbmRHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJy5mcmFuY3ktbGVnZW5kJyk7XG5cbiAgICBpZiAoIWxlZ2VuZEdyb3VwLm5vZGUoKSkge1xuICAgICAgbGVnZW5kR3JvdXAgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LWxlZ2VuZCcpO1xuICAgIH1cblxuICAgIC8vIGZvcmNlIHJlYnVpbGQgbGVnZW5kIGFnYWluXG4gICAgbGVnZW5kR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgICB2YXIgbGVnZW5kID0gbGVnZW5kR3JvdXAuc2VsZWN0QWxsKCdnJykuZGF0YShkYXRhc2V0TmFtZXMuc2xpY2UoKSk7XG5cbiAgICBsZWdlbmQuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgbGVnZW5kID0gbGVnZW5kLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiBgdHJhbnNsYXRlKDAsJHtpICogMjB9KWApXG4gICAgICAubWVyZ2UobGVnZW5kKTtcblxuICAgIGxlZ2VuZC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHIoJ3gnLCB3aWR0aCArIDIwKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgMTkpXG4gICAgICAuYXR0cignaGVpZ2h0JywgMTkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCAoZCwgaSkgPT4gQ2hhcnQuY29sb3JzKGkgKiA1KSk7XG5cbiAgICBsZWdlbmQuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCd4Jywgd2lkdGggKyA4MClcbiAgICAgIC5hdHRyKCd5JywgOSlcbiAgICAgIC5hdHRyKCdkeScsICcuMzVlbScpXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXG4gICAgICAudGV4dChkID0+IGQpO1xuXG4gICAgcGFyZW50Lnpvb21Ub0ZpdCgpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuL3Rvb2x0aXAnO1xuaW1wb3J0IENoYXJ0IGZyb20gJy4vY2hhcnQnO1xuXG4vKiBnbG9iYWwgZDMgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NhdHRlckNoYXJ0IGV4dGVuZHMgUmVuZGVyZXIge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG5cbiAgICB2YXIgdG9vbHRpcCA9IG5ldyBUb29sdGlwKHRoaXMub3B0aW9ucyk7XG5cbiAgICB2YXIgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XG5cbiAgICB2YXIgYXhpcyA9IHRoaXMuZGF0YS5jYW52YXMuY2hhcnQuYXhpcyxcbiAgICAgIGRhdGFzZXRzID0gdGhpcy5kYXRhLmNhbnZhcy5jaGFydC5kYXRhLFxuICAgICAgZGF0YXNldE5hbWVzID0gT2JqZWN0LmtleXMoZGF0YXNldHMpO1xuXG4gICAgdGhpcy5lbGVtZW50ID0gcGFyZW50LnNlbGVjdCgnZy5mcmFuY3ktY29udGVudCcpO1xuXG4gICAgdmFyIG1hcmdpbiA9IHsgdG9wOiA1MCwgcmlnaHQ6IDUwLCBib3R0b206IDUwLCBsZWZ0OiA1MCB9LFxuICAgICAgd2lkdGggPSArcGFyZW50LmF0dHIoJ3dpZHRoJykgfHwgZDMuc2VsZWN0KCdib2R5Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gK3BhcmVudC5hdHRyKCdoZWlnaHQnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXG4gICAgLy8gc2V0IHRoZSBkaW1lbnNpb25zIGFuZCBtYXJnaW5zIG9mIHRoZSBjaGFydFxuICAgIHdpZHRoID0gd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICBoZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuICAgIC8vIHNldCB0aGUgcmFuZ2VzXG4gICAgdmFyIHggPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFswLCB3aWR0aF0pLmRvbWFpbihheGlzLnguZG9tYWluKTtcbiAgICB2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodCwgMF0pLmRvbWFpbihheGlzLnkuZG9tYWluKTtcblxuICAgIHZhciB0bXAgPSBbXTtcbiAgICBkYXRhc2V0TmFtZXMuZm9yRWFjaChrZXkgPT4gdG1wID0gdG1wLmNvbmNhdChkYXRhc2V0c1trZXldKSk7XG5cbiAgICBpZiAoIWF4aXMueS5kb21haW4ubGVuZ3RoKSB7XG4gICAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRtcCwgZCA9PiBkKV0pO1xuICAgIH1cblxuICAgIGlmICghYXhpcy54LmRvbWFpbi5sZW5ndGgpIHtcbiAgICAgIHguZG9tYWluKFswLCB0bXAubGVuZ3RoIC8gZGF0YXNldE5hbWVzLmxlbmd0aF0pO1xuICAgIH1cblxuICAgIHZhciBzY2F0dGVyR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCdnLmZyYW5jeS1zY2F0dGVycycpO1xuXG4gICAgaWYgKCFzY2F0dGVyR3JvdXAubm9kZSgpKSB7XG4gICAgICBzY2F0dGVyR3JvdXAgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXNjYXR0ZXJzJyk7XG4gICAgfVxuXG4gICAgZGF0YXNldE5hbWVzLmZvckVhY2goZnVuY3Rpb24oa2V5LCBpbmRleCkge1xuICAgICAgdmFyIHNjYXR0ZXIgPSBzY2F0dGVyR3JvdXAuc2VsZWN0QWxsKGAuc2NhdHRlciR7aW5kZXh9YCkuZGF0YShkYXRhc2V0c1trZXldKTtcblxuICAgICAgc2NhdHRlci5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICAgIC8vIGFwcGVuZCB0aGUgcmVjdGFuZ2xlcyBmb3IgdGhlIGJhciBjaGFydFxuICAgICAgc2NhdHRlclxuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAoKSA9PiBDaGFydC5jb2xvcnMoaW5kZXggKiA1KSlcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgYGZyYW5jeS1zY2F0dGVyJHtpbmRleH1gKVxuICAgICAgICAuYXR0cihcInJcIiwgNSlcbiAgICAgICAgLmF0dHIoXCJjeFwiLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiB4KGkpOyB9KVxuICAgICAgICAuYXR0cihcImN5XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHkoZCk7IH0pXG4gICAgICAgIC5vbihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC5kdXJhdGlvbigyNTApXG4gICAgICAgICAgICAuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIiwgMC41KVxuICAgICAgICAgICAgLmF0dHIoJ3InLCAxMCk7XG4gICAgICAgICAgdG9vbHRpcC5sb2FkKENoYXJ0LnRvb2x0aXAoa2V5LCBkKSwgdHJ1ZSkucmVuZGVyKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgLmR1cmF0aW9uKDI1MClcbiAgICAgICAgICAgIC5zdHlsZShcImZpbGwtb3BhY2l0eVwiLCAxKVxuICAgICAgICAgICAgLmF0dHIoJ3InLCA1KTtcbiAgICAgICAgICB0b29sdGlwLnVucmVuZGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICBzY2F0dGVyLm1lcmdlKHNjYXR0ZXIpO1xuICAgIH0pO1xuXG4gICAgLy8gZm9yY2UgcmVidWlsZCBheGlzIGFnYWluXG4gICAgdmFyIHhBeGlzR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCdnLmZyYW5jeS14LWF4aXMnKTtcblxuICAgIGlmICgheEF4aXNHcm91cC5ub2RlKCkpIHtcbiAgICAgIHhBeGlzR3JvdXAgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXgtYXhpcycpO1xuICAgIH1cblxuICAgIHhBeGlzR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgICAvLyBhZGQgdGhlIHggQXhpc1xuICAgIHhBeGlzR3JvdXBcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHtoZWlnaHR9KWApXG4gICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKVxuICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignZHknLCA1MClcbiAgICAgIC5hdHRyKCdkeCcsIHdpZHRoIC8gMilcbiAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktYXhpcycpXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXG4gICAgICAudGV4dChheGlzLngudGl0bGUpO1xuXG4gICAgLy8gZm9yY2UgcmVidWlsZCBheGlzIGFnYWluXG4gICAgdmFyIHlBeGlzR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCdnLmZyYW5jeS15LWF4aXMnKTtcblxuICAgIGlmICgheUF4aXNHcm91cC5ub2RlKCkpIHtcbiAgICAgIHlBeGlzR3JvdXAgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXktYXhpcycpO1xuICAgIH1cblxuICAgIHlBeGlzR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgICAvLyBhZGQgdGhlIHkgQXhpc1xuICAgIHlBeGlzR3JvdXBcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKVxuICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignZHgnLCAtNTApXG4gICAgICAuYXR0cignZHknLCBoZWlnaHQgLyAyKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1heGlzJylcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcbiAgICAgIC50ZXh0KGF4aXMueS50aXRsZSk7XG5cbiAgICB2YXIgbGVnZW5kR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCcuZnJhbmN5LWxlZ2VuZCcpO1xuXG4gICAgaWYgKCFsZWdlbmRHcm91cC5ub2RlKCkpIHtcbiAgICAgIGxlZ2VuZEdyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1sZWdlbmQnKTtcbiAgICB9XG5cbiAgICAvLyBmb3JjZSByZWJ1aWxkIGxlZ2VuZCBhZ2FpblxuICAgIGxlZ2VuZEdyb3VwLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xuXG4gICAgdmFyIGxlZ2VuZCA9IGxlZ2VuZEdyb3VwLnNlbGVjdEFsbCgnZycpLmRhdGEoZGF0YXNldE5hbWVzLnNsaWNlKCkpO1xuXG4gICAgbGVnZW5kLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIGxlZ2VuZCA9IGxlZ2VuZC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCwgaSkgPT4gYHRyYW5zbGF0ZSgwLCR7aSAqIDIwfSlgKVxuICAgICAgLm1lcmdlKGxlZ2VuZCk7XG5cbiAgICBsZWdlbmQuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCd4Jywgd2lkdGggKyAyMClcbiAgICAgIC5hdHRyKCd3aWR0aCcsIDE5KVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDE5KVxuICAgICAgLnN0eWxlKCdmaWxsJywgKGQsIGkpID0+IENoYXJ0LmNvbG9ycyhpICogNSkpO1xuXG4gICAgbGVnZW5kLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cigneCcsIHdpZHRoICsgODApXG4gICAgICAuYXR0cigneScsIDkpXG4gICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLnRleHQoZCA9PiBkKTtcblxuICAgIHBhcmVudC56b29tVG9GaXQoKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxufVxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xuaW1wb3J0IEJhckNoYXJ0IGZyb20gJy4vY2hhcnQtYmFyJztcbmltcG9ydCBMaW5lQ2hhcnQgZnJvbSAnLi9jaGFydC1saW5lJztcbmltcG9ydCBTY2F0dGVyQ2hhcnQgZnJvbSAnLi9jaGFydC1zY2F0dGVyJztcbmltcG9ydCB7IGRvbnRFeGVjdXRlSWZOb0RhdGEgfSBmcm9tICcuLi9kZWNvcmF0b3IvZGF0YSc7XG5cbi8qIGdsb2JhbCBkMyAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGFydCBleHRlbmRzIFJlbmRlcmVyIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICB9XG5cbiAgQGRvbnRFeGVjdXRlSWZOb0RhdGEoJ2NhbnZhcy5jaGFydCcpXG4gIHJlbmRlcigpIHtcblxuICAgIHZhciBlbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgIHN3aXRjaCAodGhpcy5kYXRhLmNhbnZhcy5jaGFydC50eXBlKSB7XG4gICAgICBjYXNlIFwiYmFyXCI6XG4gICAgICAgIGVsZW1lbnQgPSBuZXcgQmFyQ2hhcnQodGhpcy5vcHRpb25zKS5sb2FkKHRoaXMuZGF0YSkucmVuZGVyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxpbmVcIjpcbiAgICAgICAgZWxlbWVudCA9IG5ldyBMaW5lQ2hhcnQodGhpcy5vcHRpb25zKS5sb2FkKHRoaXMuZGF0YSkucmVuZGVyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNjYXR0ZXJcIjpcbiAgICAgICAgZWxlbWVudCA9IG5ldyBTY2F0dGVyQ2hhcnQodGhpcy5vcHRpb25zKS5sb2FkKHRoaXMuZGF0YSkucmVuZGVyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgc3RhdGljIHRvb2x0aXAoZGF0YXNldCwgdmFsdWUpIHtcbiAgICByZXR1cm4geyBcIkFcIjogeyAndGl0bGUnOiAnRGF0YXNldCcsICd0ZXh0JzogZGF0YXNldCB9LCBcIkJcIjogeyAndGl0bGUnOiAnVmFsdWUnLCAndGV4dCc6IHZhbHVlIH0gfTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgY29sb3JzKCkge1xuICAgIHJldHVybiBkMy5zY2FsZVNlcXVlbnRpYWwoKS5kb21haW4oWzAsIDEwMF0pLmludGVycG9sYXRvcihkMy5pbnRlcnBvbGF0ZVJhaW5ib3cpO1xuICB9XG5cbiAgc3RhdGljIGRvbWFpblJhbmdlKG1heCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBBcnJheShtYXgpLCAoXywgaSkgPT4gaSkubWFwKHggPT4geCk7XG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG5cbn1cbiIsImltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9zaXRlIGV4dGVuZHMgUmVuZGVyZXIge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gICAgaWYgKG5ldy50YXJnZXQgPT09IENvbXBvc2l0ZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBbQ29tcG9zaXRlXSBpbnN0YW5jZXMgZGlyZWN0bHkhJyk7XG4gICAgfVxuICAgIHRoaXMucmVuZGVyZXJzID0gW107XG4gIH1cblxuICBhZGQocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVycy5wdXNoKHJlbmRlcmVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJlbmRlckNoaWxkcmVuKCkge1xuICAgIC8vIHVwZGF0ZSBjaGlsZHJlbiByZW5kZXJpbmcgd2l0aCBhIG5ldyBwYXJlbnQhXG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgb3B0aW9ucy5hcHBlbmRUbyA9IHRoaXM7XG4gICAgLy8gcmVuZGVyIG90aGVyIGNvbXBvbmVudHNcbiAgICBmb3IgKHZhciByZW5kZXJlciBvZiB0aGlzLnJlbmRlcmVycykge1xuICAgICAgcmVuZGVyZXIuc2V0dGluZ3Mob3B0aW9ucykubG9hZCh0aGlzLmRhdGEpLnJlbmRlcigpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IENvbXBvc2l0ZSBmcm9tICcuL2NvbXBvc2l0ZSc7XG5pbXBvcnQgQ2FudmFzIGZyb20gJy4vY2FudmFzJztcbmltcG9ydCBNYWluTWVudSBmcm9tICcuL21lbnUtbWFpbic7XG5pbXBvcnQgTWVzc2FnZSBmcm9tICcuL21lc3NhZ2UnO1xuaW1wb3J0IHsgZG9udEV4ZWN1dGVJZk5vRGF0YSB9IGZyb20gJy4uL2RlY29yYXRvci9kYXRhJztcblxuLyogZ2xvYmFsIGQzICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZyYW1lIGV4dGVuZHMgQ29tcG9zaXRlIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhcyh0aGlzLm9wdGlvbnMpO1xuICAgIHRoaXMubWVudSA9IG5ldyBNYWluTWVudSh0aGlzLm9wdGlvbnMpO1xuICAgIHRoaXMubWVzc2FnZXMgPSBuZXcgTWVzc2FnZSh0aGlzLm9wdGlvbnMpO1xuICAgIHRoaXMuYWRkKHRoaXMubWVzc2FnZXMpLmFkZCh0aGlzLm1lbnUpLmFkZCh0aGlzLmNhbnZhcyk7XG4gICAgdGhpcy5lbGVtZW50ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgQGRvbnRFeGVjdXRlSWZOb0RhdGEoKVxuICByZW5kZXIoKSB7XG4gICAgdmFyIHBhcmVudCA9IGQzLnNlbGVjdCh0aGlzLm9wdGlvbnMuYXBwZW5kVG8pO1xuXG4gICAgdmFyIGZyYW1lSWQgPSBgRiR7dGhpcy5kYXRhLmNhbnZhcy5pZH1gO1xuICAgIHRoaXMuZWxlbWVudCA9IGQzLnNlbGVjdChgZGl2IyR7ZnJhbWVJZH1gKTtcbiAgICAvLyBjaGVjayBpZiB0aGUgY2FudmFzIGlzIGFscmVhZHkgcHJlc2VudFxuICAgIGlmICghdGhpcy5lbGVtZW50Lm5vZGUoKSkge1xuICAgICAgLy8gY3JlYXRlIGEgc3ZnIGVsZW1lbnQgZGV0YWNoZWQgZnJvbSB0aGUgRE9NIVxuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYENyZWF0aW5nIEZyYW1lIFske2ZyYW1lSWR9XS4uLmApO1xuICAgICAgdGhpcy5lbGVtZW50ID0gcGFyZW50LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5JykuYXR0cignaWQnLCBmcmFtZUlkKTtcbiAgICB9XG5cbiAgICAvLyBjYW5ub3QgY29udGludWUgaWYgY2FudmFzIGlzIG5vdCBwcmVzZW50XG4gICAgaWYgKCF0aGlzLmVsZW1lbnQubm9kZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE9vcHMsIGNvdWxkIG5vdCBjcmVhdGUgZnJhbWUgd2l0aCBpZCBbJHtmcmFtZUlkfV0uLi4gQ2Fubm90IHByb2NlZWQuYCk7XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIuZGVidWcoYEZyYW1lIHVwZGF0ZWQgWyR7ZnJhbWVJZH1dLi4uYCk7XG5cbiAgICB0aGlzLnJlbmRlckNoaWxkcmVuKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHVucmVuZGVyKCkge31cblxufVxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xuaW1wb3J0IENvbnRleHRNZW51IGZyb20gJy4vbWVudS1jb250ZXh0JztcbmltcG9ydCBUb29sdGlwIGZyb20gJy4vdG9vbHRpcCc7XG5pbXBvcnQgQ2FsbGJhY2sgZnJvbSAnLi9jYWxsYmFjayc7XG5pbXBvcnQgeyBkb250RXhlY3V0ZUlmTm9EYXRhIH0gZnJvbSAnLi4vZGVjb3JhdG9yL2RhdGEnO1xuXG4vKiBnbG9iYWwgZDMgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JhcGggZXh0ZW5kcyBSZW5kZXJlciB7XG5cblxuICBzdGF0aWMgZ2V0IGNvbG9ycygpIHtcbiAgICByZXR1cm4gZDMuc2NhbGVTZXF1ZW50aWFsKCkuZG9tYWluKFswLCAxMDBdKS5pbnRlcnBvbGF0b3IoZDMuaW50ZXJwb2xhdGVSYWluYm93KTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRTeW1ib2wodHlwZSkge1xuICAgIGlmICh0eXBlID09PSAnY2lyY2xlJykge1xuICAgICAgcmV0dXJuIGQzLnN5bWJvbENpcmNsZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ2Nyb3NzJykge1xuICAgICAgcmV0dXJuIGQzLnN5bWJvbENyb3NzO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAnZGlhbW9uZCcpIHtcbiAgICAgIHJldHVybiBkMy5zeW1ib2xEaWFtb25kO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAnc3F1YXJlJykge1xuICAgICAgcmV0dXJuIGQzLnN5bWJvbFNxdWFyZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3RyaWFuZ2xlJykge1xuICAgICAgcmV0dXJuIGQzLnN5bWJvbFRyaWFuZ2xlO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAnc3RhcicpIHtcbiAgICAgIHJldHVybiBkMy5zeW1ib2xTdGFyO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAnd3llJykge1xuICAgICAgcmV0dXJuIGQzLnN5bWJvbFd5ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gZDMuc3ltYm9sQ2lyY2xlO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gIH1cblxuICBAZG9udEV4ZWN1dGVJZk5vRGF0YSgnY2FudmFzLmdyYXBoJylcbiAgcmVuZGVyKCkge1xuXG4gICAgdmFyIHBhcmVudCA9IHRoaXMub3B0aW9ucy5hcHBlbmRUby5lbGVtZW50O1xuXG4gICAgdmFyIGRhdGFDaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIHRvb2x0aXAgPSBuZXcgVG9vbHRpcCh0aGlzLm9wdGlvbnMpO1xuICAgIHZhciBjb250ZXh0TWVudSA9IG5ldyBDb250ZXh0TWVudSh0aGlzLm9wdGlvbnMpO1xuICAgIHZhciBjYWxsYmFjayA9IG5ldyBDYWxsYmFjayh0aGlzLm9wdGlvbnMpO1xuXG4gICAgdmFyIGNhbnZhc05vZGVzID0gdGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5ub2RlcyA/IE9iamVjdC52YWx1ZXModGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5ub2RlcykgOiBbXSxcbiAgICAgIGNhbnZhc0xpbmtzID0gdGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5saW5rcyA/IE9iamVjdC52YWx1ZXModGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5saW5rcykgOiBbXTtcblxuICAgIHRoaXMuZWxlbWVudCA9IHBhcmVudC5zZWxlY3QoJ2cuZnJhbmN5LWNvbnRlbnQnKTtcblxuICAgIHZhciB3aWR0aCA9ICtwYXJlbnQuYXR0cignd2lkdGgnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXG4gICAgICBoZWlnaHQgPSArcGFyZW50LmF0dHIoJ2hlaWdodCcpIHx8IGQzLnNlbGVjdCgnYm9keScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG5cbiAgICB2YXIgbGlua0dyb3VwID0gdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnZy5mcmFuY3ktbGlua3MnKTtcblxuICAgIGlmICghbGlua0dyb3VwLm5vZGUoKSkge1xuICAgICAgbGlua0dyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1saW5rcycpO1xuICAgIH1cblxuICAgIHZhciBsaW5rID0gbGlua0dyb3VwLnNlbGVjdEFsbCgnbGluZS5mcmFuY3ktbGluaycpLmRhdGEoY2FudmFzTGlua3MpO1xuXG4gICAgaWYgKGxpbmsuZW50ZXIoKS5kYXRhKCkubGVuZ3RoID4gMCB8fCBsaW5rLmVudGVyKCkuZGF0YSgpLmxlbmd0aCA+IDApIHtcbiAgICAgIGRhdGFDaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBsaW5rLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIGxpbmsgPSBsaW5rLmVudGVyKCkuYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktbGluaycpXG4gICAgICAuYXR0cignaWQnLCBkID0+IGAke2Quc291cmNlfSwke2QudGFyZ2V0fWApXG4gICAgICAuYXR0cigneDEnLCBkID0+IGQuc291cmNlLngpXG4gICAgICAuYXR0cigneTEnLCBkID0+IGQuc291cmNlLnkpXG4gICAgICAuYXR0cigneDInLCBkID0+IGQudGFyZ2V0LngpXG4gICAgICAuYXR0cigneTInLCBkID0+IGQudGFyZ2V0LnkpXG4gICAgICAubWVyZ2UobGluayk7XG5cbiAgICBpZiAodGhpcy5kYXRhLmNhbnZhcy5ncmFwaC50eXBlID09PSAnZGlyZWN0ZWQnKSB7XG4gICAgICAvLyB0aGlzIG1lYW5zIHdlIG5lZWQgYXJyb3dzLCBzbyB3ZSBhcHBlbmQgdGhlIG1hcmtlclxuICAgICAgcGFyZW50LmFwcGVuZCgnZGVmcycpLnNlbGVjdEFsbCgnbWFya2VyJylcbiAgICAgICAgLmRhdGEoWydhcnJvdyddKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ21hcmtlcicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktYXJyb3dzJylcbiAgICAgICAgLmF0dHIoJ2lkJywgZCA9PiBkKVxuICAgICAgICAuYXR0cigndmlld0JveCcsICcwIC01IDEwIDEwJylcbiAgICAgICAgLmF0dHIoJ3JlZlgnLCAyNSlcbiAgICAgICAgLmF0dHIoJ3JlZlknLCAwKVxuICAgICAgICAuYXR0cignbWFya2VyV2lkdGgnLCAxMClcbiAgICAgICAgLmF0dHIoJ21hcmtlckhlaWdodCcsIDEwKVxuICAgICAgICAuYXR0cignb3JpZW50JywgJ2F1dG8nKVxuICAgICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgICAgLmF0dHIoJ2QnLCAnTTAsLTVMMTAsMEwwLDUgTDEwLDAgTDAsIC01Jyk7XG4gICAgICAvLyB1cGRhdGUgdGhlIHN0eWxlIG9mIHRoZSBsaW5rXG4gICAgICBsaW5rLnN0eWxlKCdtYXJrZXItZW5kJywgJ3VybCgjYXJyb3cpJyk7XG4gICAgfVxuXG4gICAgdmFyIG5vZGVHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJ2cuZnJhbmN5LW5vZGVzJyk7XG5cbiAgICBpZiAoIW5vZGVHcm91cC5ub2RlKCkpIHtcbiAgICAgIG5vZGVHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbm9kZXMnKTtcbiAgICB9XG5cbiAgICB2YXIgbm9kZSA9IG5vZGVHcm91cC5zZWxlY3RBbGwoJ3BhdGguZnJhbmN5LW5vZGUnKS5kYXRhKGNhbnZhc05vZGVzKTtcblxuICAgIGlmIChub2RlLmV4aXQoKS5kYXRhKCkubGVuZ3RoID4gMCB8fCBub2RlLmVudGVyKCkuZGF0YSgpLmxlbmd0aCA+IDApIHtcbiAgICAgIGRhdGFDaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBub2RlLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIG5vZGUgPSBub2RlLmVudGVyKCkuYXBwZW5kKCdwYXRoJykubWVyZ2Uobm9kZSlcbiAgICAgIC5hdHRyKCdkJywgZDMuc3ltYm9sKCkudHlwZShkID0+IEdyYXBoLmdldFN5bWJvbChkLnR5cGUpKS5zaXplKGQgPT4gZC5zaXplICogMTAwKSlcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBkID0+IGB0cmFuc2xhdGUoJHtkLnh9LCR7ZC55fSlgKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBHcmFwaC5jb2xvcnMoZC5sYXllciAqIDUpKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgZCA9PiAnZnJhbmN5LW5vZGUnICsgKGQuaGlnaGxpZ2h0ID8gJyBmcmFuY3ktaGlnaGxpZ2h0JyA6ICcnKSArIChPYmplY3QudmFsdWVzKGQubWVudXMpLmxlbmd0aCA/ICcgZnJhbmN5LWNvbnRleHQnIDogJycpKVxuICAgICAgLmF0dHIoJ2lkJywgZCA9PiBkLmlkKTtcblxuICAgIGlmICh0aGlzLmRhdGEuY2FudmFzLmdyYXBoLmRyYWcpIHtcbiAgICAgIG5vZGUuY2FsbChkMy5kcmFnKClcbiAgICAgICAgLm9uKCdzdGFydCcsIGRyYWdzdGFydGVkKVxuICAgICAgICAub24oJ2RyYWcnLCBkcmFnZ2VkKVxuICAgICAgICAub24oJ2VuZCcsIGRyYWdlbmRlZCkpO1xuICAgIH1cblxuICAgIG5vZGUub24oJ2NvbnRleHRtZW51JywgZnVuY3Rpb24oZCkge1xuICAgICAgICAvLyBkZWZhdWx0LCBidWlsZCBjb250ZXh0IG1lbnVcbiAgICAgICAgY29udGV4dE1lbnUubG9hZChkLCB0cnVlKS5yZW5kZXIoKTtcbiAgICAgICAgLy8gYW55IGNhbGxiYWNrcyB3aWxsIGJlIGhhbmRsZWQgaGVyZVxuICAgICAgICBleGVjdXRlQ2FsbGJhY2suY2FsbCh0aGlzLCBkLCAnY29udGV4dG1lbnUnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAvLyBkZWZhdWx0LCBoaWdobGlnaHQgY29ubmVjdGVkIG5vZGVzXG4gICAgICAgIGNvbm5lY3RlZE5vZGVzLmNhbGwodGhpcyk7XG4gICAgICAgIC8vIGFueSBjYWxsYmFja3Mgd2lsbCBiZSBoYW5kbGVkIGhlcmVcbiAgICAgICAgZXhlY3V0ZUNhbGxiYWNrLmNhbGwodGhpcywgZCwgJ2NsaWNrJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdkYmxjbGljaycsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgLy8gYW55IGNhbGxiYWNrcyB3aWxsIGJlIGhhbmRsZWQgaGVyZVxuICAgICAgICBleGVjdXRlQ2FsbGJhY2suY2FsbCh0aGlzLCBkLCAnZGJsY2xpY2snKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZWVudGVyXCIsIGQgPT4ge1xuICAgICAgICAvLyBkZWZhdWx0LCBzaG93IHRvb2x0aXBcbiAgICAgICAgdG9vbHRpcC5sb2FkKGQubWVzc2FnZXMsIHRydWUpLnJlbmRlcigpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgICAgICAvLyBkZWZhdWx0LCBoaWRlIHRvb2x0aXBcbiAgICAgICAgdG9vbHRpcC51bnJlbmRlcigpO1xuICAgICAgfSk7XG5cbiAgICB2YXIgbGFiZWxHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJy5mcmFuY3ktbGFiZWxzJyk7XG5cbiAgICBpZiAoIWxhYmVsR3JvdXAubm9kZSgpKSB7XG4gICAgICBsYWJlbEdyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1sYWJlbHMnKTtcbiAgICB9XG5cbiAgICB2YXIgbGFiZWwgPSBsYWJlbEdyb3VwLnNlbGVjdEFsbCgndGV4dCcpLmRhdGEoY2FudmFzTm9kZXMpO1xuXG4gICAgbGFiZWwuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgbGFiZWwgPSBsYWJlbC5lbnRlcigpLmFwcGVuZCgndGV4dCcpLm1lcmdlKGxhYmVsKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1sYWJlbCcpXG4gICAgICAudGV4dChkID0+IGQudGl0bGUpXG4gICAgICAuYXR0cigneCcsIGQgPT4gZC54IC0gZC50aXRsZS5sZW5ndGggLSBNYXRoLnNxcnQoZC5zaXplICogZC50aXRsZS5sZW5ndGggKiAyKSlcbiAgICAgIC5hdHRyKCd5JywgZCA9PiBkLnkgLSBNYXRoLnNxcnQoZC5zaXplICogMikpO1xuXG4gICAgbGFiZWxcbiAgICAgIC5vbignY29udGV4dG1lbnUnLCBmdW5jdGlvbihkKSB7XG4gICAgICAgIC8vIGRlZmF1bHQsIGJ1aWxkIGNvbnRleHQgbWVudVxuICAgICAgICBjb250ZXh0TWVudS5sb2FkKGQsIHRydWUpLnJlbmRlcigpO1xuICAgICAgICAvLyBhbnkgY2FsbGJhY2tzIHdpbGwgYmUgaGFuZGxlZCBoZXJlXG4gICAgICAgIGV4ZWN1dGVDYWxsYmFjay5jYWxsKHRoaXMsIGQsICdjb250ZXh0bWVudScpO1xuICAgICAgfSlcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihkKSB7XG4gICAgICAgIC8vIGRlZmF1bHQsIGhpZ2hsaWdodCBjb25uZWN0ZWQgbm9kZXNcbiAgICAgICAgY29ubmVjdGVkTm9kZXMuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gYW55IGNhbGxiYWNrcyB3aWxsIGJlIGhhbmRsZWQgaGVyZVxuICAgICAgICBleGVjdXRlQ2FsbGJhY2suY2FsbCh0aGlzLCBkLCAnY2xpY2snKTtcbiAgICAgIH0pXG4gICAgICAub24oJ2RibGNsaWNrJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAvLyBhbnkgY2FsbGJhY2tzIHdpbGwgYmUgaGFuZGxlZCBoZXJlXG4gICAgICAgIGV4ZWN1dGVDYWxsYmFjay5jYWxsKHRoaXMsIGQsICdkYmxjbGljaycpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCBkID0+IHtcbiAgICAgICAgLy8gZGVmYXVsdCwgc2hvdyB0b29sdGlwXG4gICAgICAgIHRvb2x0aXAubG9hZChkLm1lc3NhZ2VzLCB0cnVlKS5yZW5kZXIoKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW91dFwiLCAoKSA9PiB7XG4gICAgICAgIC8vIGRlZmF1bHQsIGhpZGUgdG9vbHRpcFxuICAgICAgICB0b29sdGlwLnVucmVuZGVyKCk7XG4gICAgICB9KTtcblxuICAgIGlmICh0aGlzLmRhdGEuY2FudmFzLmdyYXBoLnNpbXVsYXRpb24gJiYgZGF0YUNoYW5nZWQpIHtcbiAgICAgIC8vIENhbnZhcyBGb3JjZXNcbiAgICAgIHZhciBjZW50ZXJGb3JjZSA9IGQzLmZvcmNlQ2VudGVyKCkueCh3aWR0aCAvIDIpLnkoaGVpZ2h0IC8gMik7XG4gICAgICB2YXIgbWFueUZvcmNlID0gZDMuZm9yY2VNYW55Qm9keSgpLnN0cmVuZ3RoKC1jYW52YXNOb2Rlcy5sZW5ndGggKiAzMCk7XG4gICAgICB2YXIgbGlua0ZvcmNlID0gZDMuZm9yY2VMaW5rKGNhbnZhc0xpbmtzKS5pZChkID0+IGQuaWQpLmRpc3RhbmNlKDUwKTtcbiAgICAgIHZhciBjb2xsaWRlRm9yY2UgPSBkMy5mb3JjZUNvbGxpZGUoZCA9PiBkLnNpemUgKiAyKTtcblxuICAgICAgLy9HZW5lcmljIGdyYXZpdHkgZm9yIHRoZSBYIHBvc2l0aW9uXG4gICAgICB2YXIgZm9yY2VYID0gZDMuZm9yY2VYKHdpZHRoIC8gMikuc3RyZW5ndGgoMC4wNSk7XG5cbiAgICAgIC8vR2VuZXJpYyBncmF2aXR5IGZvciB0aGUgWSBwb3NpdGlvbiAtIHVuZGlyZWN0ZWQvZGlyZWN0ZWQgZ3JhcGhzIGZhbGwgaGVyZVxuICAgICAgdmFyIGZvcmNlWSA9IGQzLmZvcmNlWShoZWlnaHQgLyAyKS5zdHJlbmd0aCgwLjI1KTtcblxuICAgICAgaWYgKHRoaXMuZGF0YS5jYW52YXMuZ3JhcGgudHlwZSA9PT0gJ2hhc3NlJykge1xuICAgICAgICAvL0dlbmVyaWMgZ3Jhdml0eSBmb3IgdGhlIFggcG9zaXRpb25cbiAgICAgICAgZm9yY2VYID0gZDMuZm9yY2VYKHdpZHRoIC8gMikuc3RyZW5ndGgoMC41KTtcbiAgICAgICAgLy9TdHJvbmcgeSBwb3NpdGlvbmluZyBiYXNlZCBvbiBsYXllciB0byBzaW11bGF0ZSB0aGUgaGFzc2UgZGlhZ3JhbVxuICAgICAgICBmb3JjZVkgPSBkMy5mb3JjZVkoZCA9PiBkLmxheWVyICogNTApLnN0cmVuZ3RoKDUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2ltdWxhdGlvbiA9IGQzLmZvcmNlU2ltdWxhdGlvbihjYW52YXNOb2RlcylcbiAgICAgICAgLmZvcmNlKFwiY2hhcmdlXCIsIG1hbnlGb3JjZSlcbiAgICAgICAgLmZvcmNlKFwibGlua1wiLCBsaW5rRm9yY2UpXG4gICAgICAgIC5mb3JjZShcImNlbnRlclwiLCBjZW50ZXJGb3JjZSlcbiAgICAgICAgLmZvcmNlKFwieFwiLCBmb3JjZVgpXG4gICAgICAgIC5mb3JjZShcInlcIiwgZm9yY2VZKVxuICAgICAgICAuZm9yY2UoXCJjb2xsaWRlXCIsIGNvbGxpZGVGb3JjZSlcbiAgICAgICAgLm9uKCd0aWNrJywgdGlja2VkKVxuICAgICAgICAub24oXCJlbmRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gem9vbSB0byBmaXQgd2hlbiBzaW11bGF0aW9uIGlzIG92ZXJcbiAgICAgICAgICBwYXJlbnQuem9vbVRvRml0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAvL2ZvcmNlIHNpbXVsYXRpb24gcmVzdGFydFxuICAgICAgc2ltdWxhdGlvbi5yZXN0YXJ0KCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gd2VsbCwgc2ltdWxhdGlvbiBpcyBvZmYsIHpvb20gdG8gZml0IG5vd1xuICAgICAgcGFyZW50Lnpvb21Ub0ZpdCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRpY2tlZCgpIHtcbiAgICAgIGxpbmtcbiAgICAgICAgLmF0dHIoJ3gxJywgZCA9PiBkLnNvdXJjZS54KVxuICAgICAgICAuYXR0cigneTEnLCBkID0+IGQuc291cmNlLnkpXG4gICAgICAgIC5hdHRyKCd4MicsIGQgPT4gZC50YXJnZXQueClcbiAgICAgICAgLmF0dHIoJ3kyJywgZCA9PiBkLnRhcmdldC55KTtcblxuICAgICAgbm9kZS5hdHRyKCd0cmFuc2Zvcm0nLCBkID0+IGB0cmFuc2xhdGUoJHtkLnh9LCR7ZC55fSlgKTtcblxuICAgICAgbGFiZWxcbiAgICAgICAgLmF0dHIoJ3gnLCBkID0+IGQueCAtIGQudGl0bGUubGVuZ3RoIC0gTWF0aC5zcXJ0KGQuc2l6ZSAqIGQudGl0bGUubGVuZ3RoICogMikpXG4gICAgICAgIC5hdHRyKCd5JywgZCA9PiBkLnkgLSBNYXRoLnNxcnQoZC5zaXplICogMikpO1xuXG4gICAgICBub2RlLmVhY2goY29sbGlkZSgxKSk7XG4gICAgfVxuXG4gICAgLy8gQ09MTElTSU9OXG4gICAgdmFyIHBhZGRpbmcgPSAxMDsgLy8gc2VwYXJhdGlvbiBiZXR3ZWVuIGNpcmNsZXM7XG5cbiAgICBmdW5jdGlvbiBjb2xsaWRlKGFscGhhKSB7XG4gICAgICBsZXQgcXVhZFRyZWUgPSBkMy5xdWFkdHJlZShjYW52YXNOb2Rlcyk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oZCkge1xuICAgICAgICBsZXQgcmIgPSAxMDAgKiBkLnNpemUgKyBwYWRkaW5nLFxuICAgICAgICAgIG54MSA9IGQueCAtIHJiLFxuICAgICAgICAgIG54MiA9IGQueCArIHJiLFxuICAgICAgICAgIG55MSA9IGQueSAtIHJiLFxuICAgICAgICAgIG55MiA9IGQueSArIHJiO1xuICAgICAgICBxdWFkVHJlZS52aXNpdChmdW5jdGlvbihxdWFkLCB4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICAgIGlmIChxdWFkLnBvaW50ICYmIChxdWFkLnBvaW50ICE9PSBkKSkge1xuICAgICAgICAgICAgbGV0IHggPSBkLnggLSBxdWFkLnBvaW50LngsXG4gICAgICAgICAgICAgIHkgPSBkLnkgLSBxdWFkLnBvaW50LnksXG4gICAgICAgICAgICAgIGwgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XG4gICAgICAgICAgICBpZiAobCA8IHJiKSB7XG4gICAgICAgICAgICAgIGwgPSAobCAtIHJiKSAvIGwgKiBhbHBoYTtcbiAgICAgICAgICAgICAgZC54IC09IHggKj0gbDtcbiAgICAgICAgICAgICAgZC55IC09IHkgKj0gbDtcbiAgICAgICAgICAgICAgcXVhZC5wb2ludC54ICs9IHg7XG4gICAgICAgICAgICAgIHF1YWQucG9pbnQueSArPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4geDEgPiBueDIgfHwgeDIgPCBueDEgfHwgeTEgPiBueTIgfHwgeTIgPCBueTE7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBISUdITElHSFRcbiAgICAvL1RvZ2dsZSBzdG9yZXMgd2hldGhlciB0aGUgaGlnaGxpZ2h0aW5nIGlzIG9uXG4gICAgdmFyIHRvZ2dsZSA9IDA7XG4gICAgLy9DcmVhdGUgYW4gYXJyYXkgbG9nZ2luZyB3aGF0IGlzIGNvbm5lY3RlZCB0byB3aGF0XG4gICAgdmFyIGxpbmtlZEJ5SW5kZXggPSB7fTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FudmFzTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxpbmtlZEJ5SW5kZXhbYCR7aX0sJHtpfWBdID0gMTtcbiAgICB9XG5cbiAgICBjYW52YXNMaW5rcy5mb3JFYWNoKGZ1bmN0aW9uKGQpIHtcbiAgICAgIGxpbmtlZEJ5SW5kZXhbYCR7ZC5zb3VyY2UuaW5kZXh9LCR7ZC50YXJnZXQuaW5kZXh9YF0gPSAxO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gY29ubmVjdGVkTm9kZXMoKSB7XG4gICAgICAvL1RoaXMgZnVuY3Rpb24gbG9va3MgdXAgd2hldGhlciBhIHBhaXIgYXJlIG5laWdoYm91cnNcbiAgICAgIGZ1bmN0aW9uIG5laWdoYm9yaW5nKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGxpbmtlZEJ5SW5kZXhbYCR7YS5pbmRleH0sJHtiLmluZGV4fWBdO1xuICAgICAgfVxuICAgICAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICh0b2dnbGUgPT09IDApIHtcbiAgICAgICAgLy9SZWR1Y2UgdGhlIG9wYWNpdHkgb2YgYWxsIGJ1dCB0aGUgbmVpZ2hib3VyaW5nIG5vZGVzXG4gICAgICAgIGxldCBkID0gZDMuc2VsZWN0KHRoaXMpLm5vZGUoKS5fX2RhdGFfXztcbiAgICAgICAgbm9kZS5zdHlsZSgnb3BhY2l0eScsIG8gPT4gbmVpZ2hib3JpbmcoZCwgbykgfHwgbmVpZ2hib3JpbmcobywgZCkgPyAxIDogMC4xKTtcbiAgICAgICAgbGluay5zdHlsZSgnb3BhY2l0eScsIG8gPT4gZC5pbmRleCA9PT0gby5zb3VyY2UuaW5kZXggfHwgZC5pbmRleCA9PT0gby50YXJnZXQuaW5kZXggPyAxIDogMC4xKTtcbiAgICAgICAgLy9SZWR1Y2UgdGhlIG9wXG4gICAgICAgIHRvZ2dsZSA9IDE7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy9QdXQgdGhlbSBiYWNrIHRvIG9wYWNpdHk9MVxuICAgICAgICBub2RlLnN0eWxlKCdvcGFjaXR5JywgMSk7XG4gICAgICAgIGxpbmsuc3R5bGUoJ29wYWNpdHknLCAxKTtcbiAgICAgICAgdG9nZ2xlID0gMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkcmFnc3RhcnRlZChkKSB7XG4gICAgICBpZiAoIWQzLmV2ZW50LmFjdGl2ZSkge1xuICAgICAgICBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDAuMDEpLnJlc3RhcnQoKTtcbiAgICAgIH1cbiAgICAgIGQuZnggPSBkLng7XG4gICAgICBkLmZ5ID0gZC55O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYWdnZWQoZCkge1xuICAgICAgZC5meCA9IGQzLmV2ZW50Lng7XG4gICAgICBkLmZ5ID0gZDMuZXZlbnQueTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkcmFnZW5kZWQoZCkge1xuICAgICAgaWYgKCFkMy5ldmVudC5hY3RpdmUpIHtcbiAgICAgICAgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwKTtcbiAgICAgIH1cbiAgICAgIGQuZnggPSBudWxsO1xuICAgICAgZC5meSA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhlY3V0ZUNhbGxiYWNrKGRhdGEsIGV2ZW50KSB7XG4gICAgICBpZiAoZGF0YS5jYWxsYmFja3MpIHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhkYXRhLmNhbGxiYWNrcykuZm9yRWFjaCgoY2IpID0+IHtcbiAgICAgICAgICAvLyBleGVjdXRlIHRoZSBvbmVzIHRoYXQgbWF0Y2ggdGhlIGV2ZW50IVxuICAgICAgICAgIGNiLnRyaWdnZXIgPT09IGV2ZW50ICYmIGNhbGxiYWNrLmxvYWQoeyBjYWxsYmFjazogY2IgfSkuZXhlY3V0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcblxuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxuXG59XG4iLCJpbXBvcnQgTWVudSBmcm9tICcuL21lbnUnO1xuaW1wb3J0IHsgZG9udEV4ZWN1dGVJZk5vRGF0YSB9IGZyb20gJy4uL2RlY29yYXRvci9kYXRhJztcblxuLyogZ2xvYmFsIGQzICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRleHRNZW51IGV4dGVuZHMgTWVudSB7XG5cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcbiAgfVxuXG4gIEBkb250RXhlY3V0ZUlmTm9EYXRhKCdtZW51cycpXG4gIHJlbmRlcigpIHtcblxuICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLkhUTUxQYXJlbnQuc2VsZWN0KCdkaXYuZnJhbmN5LWNvbnRleHQtbWVudS1ob2xkZXInKTtcbiAgICAvLyBjaGVjayBpZiB0aGUgd2luZG93IGlzIGFscmVhZHkgcHJlc2VudFxuICAgIGlmICghdGhpcy5lbGVtZW50Lm5vZGUoKSkge1xuICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy5IVE1MUGFyZW50LmFwcGVuZCgnZGl2JylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1jb250ZXh0LW1lbnUtaG9sZGVyJyk7XG4gICAgfVxuXG4gICAgdmFyIHBvcyA9IGQzLm1vdXNlKHRoaXMuU1ZHUGFyZW50Lm5vZGUoKSk7XG5cbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUoJ2xlZnQnLCBwb3NbMF0gKyA1ICsgJ3B4Jykuc3R5bGUoJ3RvcCcsIHBvc1sxXSArIDUgKyAncHgnKTtcblxuICAgIC8vIHNob3cgdGhlIGNvbnRleHQgbWVudVxuICAgIHRoaXMuZWxlbWVudC5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xuXG4gICAgLy8gY2hlY2sgaWYgaXQgZXhpc3RzIGFscmVhZHlcbiAgICBpZiAodGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnKicpLm5vZGUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGRlc3Ryb3kgbWVudVxuICAgIGQzLnNlbGVjdCgnYm9keScpLm9uKCdjbGljay5mcmFuY3ktY29udGV4dC1tZW51JywgKCkgPT4gdGhpcy51bnJlbmRlcigpKTtcblxuICAgIC8vIHRoaXMgZ2V0cyBleGVjdXRlZCB3aGVuIGEgY29udGV4dG1lbnUgZXZlbnQgb2NjdXJzXG4gICAgdmFyIG1lbnUgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktY29udGV4dC1tZW51JykuYXBwZW5kKCd1bCcpO1xuICAgIHZhciBtZW51c0l0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcihPYmplY3QudmFsdWVzKHRoaXMuZGF0YS5tZW51cykpO1xuICAgIHRoaXMudHJhdmVyc2UobWVudSwgbWVudXNJdGVyYXRvcik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHVucmVuZGVyKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IE1lbnUgZnJvbSAnLi9tZW51JztcbmltcG9ydCBBYm91dE1vZGFsIGZyb20gJy4vbW9kYWwtYWJvdXQnO1xuaW1wb3J0ICogYXMgU3ZnVG9QbmcgZnJvbSAnLi4vLi4vbm9kZV9tb2R1bGVzL3NhdmUtc3ZnLWFzLXBuZy9zYXZlU3ZnQXNQbmcnO1xuXG4vKiBnbG9iYWwgZDMgd2luZG93ICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW5NZW51IGV4dGVuZHMgTWVudSB7XG5cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XG5cbiAgICB2YXIgYWJvdXRNb2RhbCA9IG5ldyBBYm91dE1vZGFsKHRoaXMub3B0aW9ucyk7XG5cbiAgICAvLyBPdGhlcndpc2UgY2xhc2hlcyB3aXRoIHRoZSBjYW52YXMgaXRzZWxmIVxuICAgIHZhciBtZW51SWQgPSBgTWFpbk1lbnUtJHt0aGlzLmRhdGEuY2FudmFzLmlkfWA7XG4gICAgdGhpcy5lbGVtZW50ID0gZDMuc2VsZWN0KGAjJHttZW51SWR9YCk7XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgbWVudSBpcyBhbHJlYWR5IHByZXNlbnRcbiAgICBpZiAoIXRoaXMuZWxlbWVudC5ub2RlKCkpIHtcbiAgICAgIC8vIGNyZWF0ZSBhIGRpdiBlbGVtZW50IGRldGFjaGVkIGZyb20gdGhlIERPTSFcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBDcmVhdGluZyBNYWluIE1lbnUgWyR7bWVudUlkfV0uLi5gKTtcbiAgICAgIHRoaXMuZWxlbWVudCA9IHBhcmVudC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tYWluLW1lbnUtaG9sZGVyJykuYXR0cignaWQnLCBtZW51SWQpO1xuICAgIH1cblxuICAgIC8vIEZvcmNlIHJlYnVpbGQgbWVudSBhZ2FpblxuICAgIHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcblxuICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ3VsJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1haW4tbWVudScpO1xuXG4gICAgaWYgKHRoaXMuZGF0YS5jYW52YXMudGl0bGUpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmQoJ2xpJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRpdGxlJykuYXBwZW5kKCdhJykuaHRtbCh0aGlzLmRhdGEuY2FudmFzLnRpdGxlKTtcbiAgICB9XG5cbiAgICB2YXIgZW50cnkgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdsaScpO1xuICAgIGVudHJ5LmFwcGVuZCgnYScpLmh0bWwoJ0ZyYW5jeScpO1xuICAgIHZhciBjb250ZW50ID0gZW50cnkuYXBwZW5kKCd1bCcpO1xuICAgIGlmICh0aGlzLmRhdGEuY2FudmFzLnpvb21Ub0ZpdCkge1xuICAgICAgY29udGVudC5hcHBlbmQoJ2xpJykuYXBwZW5kKCdhJykub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmNhbnZhcy56b29tVG9GaXQoKSkuYXR0cigndGl0bGUnLCAnWm9vbSB0byBGaXQnKS5odG1sKCdab29tIHRvIEZpdCcpO1xuICAgIH1cbiAgICBjb250ZW50LmFwcGVuZCgnbGknKS5hcHBlbmQoJ2EnKS5vbignY2xpY2snLCAoKSA9PiBTdmdUb1BuZy5zYXZlU3ZnQXNQbmcoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kYXRhLmNhbnZhcy5pZCksIFwiZGlhZ3JhbS5wbmdcIikpLmF0dHIoJ3RpdGxlJywgJ1NhdmUgdG8gUE5HJykuaHRtbCgnU2F2ZSB0byBQTkcnKTtcbiAgICBjb250ZW50LmFwcGVuZCgnbGknKS5hcHBlbmQoJ2EnKS5vbignY2xpY2snLCAoKSA9PiBhYm91dE1vZGFsLmxvYWQodGhpcy5kYXRhKS5yZW5kZXIoKSkuYXR0cigndGl0bGUnLCAnQWJvdXQnKS5odG1sKCdBYm91dCcpO1xuXG4gICAgLy8gVHJhdmVyc2UgYWxsIG1lbnVzIGFuZCBmbGF0dGVuIHRoZW0hXG4gICAgdmFyIG1lbnVzSXRlcmF0b3IgPSB0aGlzLml0ZXJhdG9yKE9iamVjdC52YWx1ZXModGhpcy5kYXRhLmNhbnZhcy5tZW51cykpO1xuICAgIHRoaXMudHJhdmVyc2UodGhpcy5lbGVtZW50LCBtZW51c0l0ZXJhdG9yKTtcblxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBNYWluIE1lbnUgdXBkYXRlZCBbJHttZW51SWR9XS4uLmApO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG5cbn1cbiIsImltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyJztcbmltcG9ydCBDYWxsYmFjayBmcm9tICcuL2NhbGxiYWNrJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVudSBleHRlbmRzIFJlbmRlcmVyIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICB9XG5cbiAgdHJhdmVyc2UoYXBwZW5kVG8sIG1lbnVzSXRlcmF0b3IpIHtcbiAgICB3aGlsZSAobWVudXNJdGVyYXRvci5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBtZW51SXRlbSA9IG1lbnVzSXRlcmF0b3IubmV4dCgpO1xuICAgICAgdmFyIGVudHJ5ID0gYXBwZW5kVG8uYXBwZW5kKCdsaScpO1xuICAgICAgdmFyIGFjdGlvbiA9IGVudHJ5LnNlbGVjdEFsbCgnYScpLmRhdGEoW21lbnVJdGVtXSkuZW50ZXIoKS5hcHBlbmQoJ2EnKS5hdHRyKCd0aXRsZScsIG1lbnVJdGVtLnRpdGxlKS5odG1sKG1lbnVJdGVtLnRpdGxlKTtcbiAgICAgIGlmIChtZW51SXRlbS5jYWxsYmFjayAmJiBPYmplY3QudmFsdWVzKG1lbnVJdGVtLmNhbGxiYWNrKS5sZW5ndGgpIHtcbiAgICAgICAgYWN0aW9uLm9uKCdjbGljaycsIChkKSA9PiBuZXcgQ2FsbGJhY2sodGhpcy5vcHRpb25zKS5sb2FkKGQsIHRydWUpLmV4ZWN1dGUoKSk7XG4gICAgICB9XG4gICAgICBpZiAobWVudUl0ZW0ubWVudXMgJiYgT2JqZWN0LnZhbHVlcyhtZW51SXRlbS5tZW51cykubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgY29udGVudCA9IGVudHJ5LmFwcGVuZCgndWwnKTtcbiAgICAgICAgdmFyIHN1Yk1lbnVzSXRlcmF0b3IgPSB0aGlzLml0ZXJhdG9yKE9iamVjdC52YWx1ZXMobWVudUl0ZW0ubWVudXMpKTtcbiAgICAgICAgdGhpcy50cmF2ZXJzZShjb250ZW50LCBzdWJNZW51c0l0ZXJhdG9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpdGVyYXRvcihhcnJheSkge1xuICAgIHZhciBuZXh0SW5kZXggPSAwO1xuICAgIHJldHVybiB7XG4gICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzTmV4dCgpID8gYXJyYXlbbmV4dEluZGV4KytdIDogdW5kZWZpbmVkO1xuICAgICAgfSxcbiAgICAgIGhhc05leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV4dEluZGV4IDwgYXJyYXkubGVuZ3RoO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgeyBkb250RXhlY3V0ZUlmTm9EYXRhIH0gZnJvbSAnLi4vZGVjb3JhdG9yL2RhdGEnO1xuXG4vKiBnbG9iYWwgZDMgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzc2FnZSBleHRlbmRzIFJlbmRlcmVyIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICB9XG5cbiAgQGRvbnRFeGVjdXRlSWZOb0RhdGEoJ2NhbnZhcy5tZXNzYWdlcycpXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XG5cbiAgICB2YXIgbWVzc2FnZXMgPSBPYmplY3Qua2V5cyh0aGlzLmRhdGEuY2FudmFzLm1lc3NhZ2VzKS5tYXAoKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGtleSxcbiAgICAgICAgdHlwZTogdGhpcy5kYXRhLmNhbnZhcy5tZXNzYWdlc1trZXldLnR5cGUsXG4gICAgICAgIHRpdGxlOiB0aGlzLmRhdGEuY2FudmFzLm1lc3NhZ2VzW2tleV0udGl0bGUsXG4gICAgICAgIHRleHQ6IHRoaXMuZGF0YS5jYW52YXMubWVzc2FnZXNba2V5XS50ZXh0XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdmFyIGFsZXJ0c0lkID0gYE1lc3NhZ2VzLSR7dGhpcy5kYXRhLmNhbnZhcy5pZH1gO1xuICAgIHRoaXMuZWxlbWVudCA9IGQzLnNlbGVjdChgIyR7YWxlcnRzSWR9YCk7XG4gICAgLy8gY2hlY2sgaWYgdGhlIHdpbmRvdyBpcyBhbHJlYWR5IHByZXNlbnRcbiAgICBpZiAoIXRoaXMuZWxlbWVudC5ub2RlKCkpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IHBhcmVudC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tZXNzYWdlLWhvbGRlcicpLmF0dHIoJ2lkJywgYWxlcnRzSWQpO1xuICAgIH1cblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBtZXNzYWdlcy5tYXAoZnVuY3Rpb24oZCkge1xuICAgICAgLy8gb25seSByZW5kZXIgbmV3IG9uZXNcbiAgICAgIGlmICghc2VsZi5lbGVtZW50LnNlbGVjdChgZGl2IyR7ZC5pZH1gKS5ub2RlKCkpIHtcbiAgICAgICAgdmFyIHJvdyA9IHNlbGYuZWxlbWVudC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2lkJywgZC5pZClcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCBgZnJhbmN5LWFsZXJ0IGFsZXJ0LSR7ZC50eXBlfWApLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgcm93LmFwcGVuZCgnc3BhbicpLmF0dHIoJ2NsYXNzJywgJ3N0cm9uZycpLnRleHQoZC50aXRsZSk7XG4gICAgICAgIHJvdy5hcHBlbmQoJ3NwYW4nKS50ZXh0KGQudGV4dCk7XG4gICAgICAgIHJvdy5hcHBlbmQoJ3NwYW4nKS5hdHRyKCdjbGFzcycsICdzdHJvbmcnKS5zdHlsZSgnZGlzcGxheScsICdub25lJykudGV4dChcInhcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxufVxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xuXG4vKiBnbG9iYWwgZDMgSnVweXRlciAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBYm91dE1vZGFsIGV4dGVuZHMgUmVuZGVyZXIge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdmFyIG1vZGFsSWQgPSAnQWJvdXRNb2RhbFdpbmRvdyc7XG5cbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgQ3JlYXRpbmcgQWJvdXQgTW9kYWwgWyR7bW9kYWxJZH1dLi4uYCk7XG5cbiAgICAvLyB3ZSB3YW50IHRvIG92ZXJsYXkgZXZlcnl0aGluZywgaGVuY2UgJ2JvZHknIG11c3QgYmUgdXNlZFxuICAgIHZhciBvdmVybGF5ID0gZDMuc2VsZWN0KCdib2R5JykuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1vdmVybGF5Jyk7XG4gICAgdmFyIGhvbGRlciA9IGQzLnNlbGVjdCgnYm9keScpLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3knKTtcbiAgICB0aGlzLmVsZW1lbnQgPSBob2xkZXIuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2lkJywgbW9kYWxJZClcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktbW9kYWwnKTtcblxuICAgIHZhciBmb3JtID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZm9ybScpO1xuXG4gICAgdmFyIGhlYWRlciA9IGZvcm0uYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbW9kYWwtaGVhZGVyJyk7XG5cbiAgICBoZWFkZXIuYXBwZW5kKCdzcGFuJykuaHRtbChgQWJvdXQgRnJhbmN5IHYke3RoaXMuZGF0YS52ZXJzaW9uIHx8ICdOL0EnfWApO1xuXG4gICAgdmFyIGNvbnRlbnQgPSBmb3JtLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1vZGFsLWNvbnRlbnQnKS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZScpLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLWJvZHknKTtcblxuICAgIGNvbnRlbnQuYXBwZW5kKCdzcGFuJykudGV4dCgnTG9hZGVkIE9iamVjdDonKTtcbiAgICBjb250ZW50LmFwcGVuZCgncHJlJykuYXR0cignY2xhc3MnLCAnZnJhbmN5JykuaHRtbCh0aGlzLnN5bnRheEhpZ2hsaWdodChKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEuY2FudmFzLCBudWxsLCAyKSkpO1xuICAgIGNvbnRlbnQuYXBwZW5kKCdzcGFuJykuYXBwZW5kKCdhJykuYXR0cignaHJlZicsICdodHRwczovL2dpdGh1Yi5jb20vbWNtYXJ0aW5zL2ZyYW5jeScpLnRleHQoJ0ZyYW5jeSBvbiBHaXRodWInKTtcblxuICAgIHZhciBmb290ZXIgPSBmb3JtLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1vZGFsLWZvb3RlcicpO1xuXG4gICAgZm9vdGVyLmFwcGVuZCgnYnV0dG9uJykudGV4dCgnT2snKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIGhvbGRlci5yZW1vdmUoKTtcbiAgICAgIG92ZXJsYXkucmVtb3ZlKCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gZGlzYWJsZSBrZXlib2FyZCBzaG9ydGN1dHMgd2hlbiB1c2luZyB0aGlzIG1vZGFsIGluIEp1cHl0ZXJcbiAgICB0cnkge1xuICAgICAgSnVweXRlci5rZXlib2FyZF9tYW5hZ2VyLnJlZ2lzdGVyX2V2ZW50cygnLmZyYW5jeScpO1xuICAgICAgSnVweXRlci5rZXlib2FyZF9tYW5hZ2VyLnJlZ2lzdGVyX2V2ZW50cygnLmZyYW5jeS1hcmcnKTtcbiAgICAgIEp1cHl0ZXIua2V5Ym9hcmRfbWFuYWdlci5yZWdpc3Rlcl9ldmVudHMoJy5mcmFuY3ktb3ZlcmxheScpO1xuICAgICAgSnVweXRlci5rZXlib2FyZF9tYW5hZ2VyLnJlZ2lzdGVyX2V2ZW50cygnLmZyYW5jeS1tb2RhbCcpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgaWYgKGUubmFtZSA9PSAnUmVmZXJlbmNlRXJyb3InKSB7XG4gICAgICAgIHNlbGYubG9nZ2VyLmRlYnVnKCdJdCBzZWVtcyB3ZVxcJ3JlIG5vdCBydW5uaW5nIG9uIEp1cHl0ZXIuLi4nLCBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgQ2FsbGJhY2sgQWJvdXQgdXBkYXRlZCBbJHttb2RhbElkfV0uLi5gKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxuXG4gIC8vIGNyZWRpdHMgaGVyZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDgxMDg0MS9ob3ctY2FuLWktcHJldHR5LXByaW50LWpzb24tdXNpbmctamF2YXNjcmlwdCNhbnN3ZXItNzIyMDUxMFxuICBzeW50YXhIaWdobGlnaHQoanNvbikge1xuICAgIGpzb24gPSBqc29uLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbiAgICByZXR1cm4ganNvbi5yZXBsYWNlKC8oXCIoXFxcXHVbYS16QS1aMC05XXs0fXxcXFxcW151XXxbXlwiXSkqXCIoXFxzKjopP3xcXGIodHJ1ZXxmYWxzZXxudWxsKVxcYnwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWystXT9cXGQrKT8pL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICB2YXIgY2xzID0gJ251bWJlcic7XG4gICAgICBpZiAoL15cIi8udGVzdChtYXRjaCkpIHtcbiAgICAgICAgaWYgKC86JC8udGVzdChtYXRjaCkpIHtcbiAgICAgICAgICBjbHMgPSAna2V5JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjbHMgPSAnc3RyaW5nJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoL3RydWV8ZmFsc2UvLnRlc3QobWF0Y2gpKSB7XG4gICAgICAgIGNscyA9ICdib29sZWFuJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKC9udWxsLy50ZXN0KG1hdGNoKSkge1xuICAgICAgICBjbHMgPSAnbnVsbCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiJyArIGNscyArICdcIj4nICsgbWF0Y2ggKyAnPC9zcGFuPic7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyJztcblxuLyogZ2xvYmFsIGQzIEp1cHl0ZXIgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVxdWlyZWRBcmdzTW9kYWwgZXh0ZW5kcyBSZW5kZXJlciB7XG5cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgbW9kYWxJZCA9IHRoaXMuZGF0YS5jYWxsYmFjay5pZDtcblxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBDcmVhdGluZyBDYWxsYmFjayBNb2RhbCBbJHttb2RhbElkfV0uLi5gKTtcblxuICAgIC8vIHdlIHdhbnQgdG8gb3ZlcmxheSBldmVyeXRoaW5nLCBoZW5jZSAnYm9keScgbXVzdCBiZSB1c2VkXG4gICAgdmFyIG92ZXJsYXkgPSBkMy5zZWxlY3QoJ2JvZHknKS5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LW92ZXJsYXknKTtcbiAgICB2YXIgaG9sZGVyID0gZDMuc2VsZWN0KCdib2R5JykuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeScpO1xuICAgIHRoaXMuZWxlbWVudCA9IGhvbGRlci5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCBtb2RhbElkKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tb2RhbCcpO1xuXG4gICAgdmFyIGZvcm0gPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdmb3JtJyk7XG5cbiAgICB2YXIgaGVhZGVyID0gZm9ybS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tb2RhbC1oZWFkZXInKTtcblxuICAgIHZhciBoZWFkZXJUaXRsZSA9IGhlYWRlci5hcHBlbmQoJ3NwYW4nKS5odG1sKCdSZXF1aXJlZCBhcmd1bWVudHMmbmJzcDsnKTtcbiAgICBpZiAodGhpcy5kYXRhLnRpdGxlKSB7XG4gICAgICBoZWFkZXJUaXRsZS5hcHBlbmQoJ3NwYW4nKS5hdHRyKCdzdHlsZScsICdmb250LXdlaWdodDogYm9sZDsnKS50ZXh0KGBmb3IgJHt0aGlzLmRhdGEudGl0bGV9YCk7XG4gICAgfVxuXG4gICAgdmFyIGNvbnRlbnQgPSBmb3JtLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1vZGFsLWNvbnRlbnQnKS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZScpLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLWJvZHknKTtcblxuICAgIGZvciAodmFyIGFyZyBvZiBPYmplY3QudmFsdWVzKHRoaXMuZGF0YS5jYWxsYmFjay5yZXF1aXJlZEFyZ3MpKSB7XG4gICAgICB2YXIgcm93ID0gY29udGVudC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1yb3cnKTtcbiAgICAgIHJvdy5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1jZWxsJykuYXBwZW5kKCdsYWJlbCcpLmF0dHIoJ2ZvcicsIGFyZy5pZCkudGV4dChhcmcudGl0bGUpO1xuICAgICAgdmFyIGlucHV0ID0gcm93LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLWNlbGwnKS5hcHBlbmQoJ2lucHV0JykuYXR0cignaWQnLCBhcmcuaWQpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1hcmcnKVxuICAgICAgICAuYXR0cigncmVxdWlyZWQnLCAnJylcbiAgICAgICAgLmF0dHIoJ25hbWUnLCBhcmcuaWQpXG4gICAgICAgIC5hdHRyKCd0eXBlJywgYXJnLnR5cGUpXG4gICAgICAgIC5hdHRyKCd2YWx1ZScsIGFyZy52YWx1ZSlcbiAgICAgICAgLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsgc2VsZi5kYXRhLmNhbGxiYWNrLnJlcXVpcmVkQXJnc1t0aGlzLmlkXS52YWx1ZSA9IHRoaXMudmFsdWU7IH0pXG4gICAgICAgIC5vbignaW5wdXQnLCB0aGlzLm9uY2hhbmdlKVxuICAgICAgICAub24oJ2tleXVwJywgdGhpcy5vbmNoYW5nZSlcbiAgICAgICAgLm9uKCdwYXN0ZScsIHRoaXMub25jaGFuZ2UpO1xuICAgICAgLy8gd2FpdCwgaWYgaXQgaXMgYm9vbGVhbiB3ZSBjcmVhdGUgYSBjaGVja2JveFxuICAgICAgaWYgKGFyZy50eXBlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgLy8gd2VsbCwgYSBjaGVja2JveCB3b3JrcyB0aGlzIHdheSBzbyB3ZSBuZWVkIHRvIGluaXRpYWxpemUgXG4gICAgICAgIC8vIHRoZSB2YWx1ZSB0byBmYWxzZSBhbmQgdXBkYXRlIHRoZSB2YWx1ZSBiYXNlZCBvbiB0aGUgY2hlY2tlZCBcbiAgICAgICAgLy8gcHJvcGVydHkgdGhhdCB0cmlnZ2VycyB0aGUgb25jaGFuZ2UgZXZlbnRcbiAgICAgICAgYXJnLnZhbHVlID0gYXJnLnZhbHVlIHx8IGZhbHNlO1xuICAgICAgICBpbnB1dC5hdHRyKCd0eXBlJywgJ2NoZWNrYm94JykuYXR0cigncmVxdWlyZWQnLCBudWxsKVxuICAgICAgICAgIC5hdHRyKCd2YWx1ZScsIGFyZy52YWx1ZSlcbiAgICAgICAgICAub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkgeyBzZWxmLmRhdGEuY2FsbGJhY2sucmVxdWlyZWRBcmdzW3RoaXMuaWRdLnZhbHVlID0gdGhpcy52YWx1ZSA9IHRoaXMuY2hlY2tlZDsgfSk7XG4gICAgICB9XG4gICAgICByb3cuYXBwZW5kKCdzcGFuJykuYXR0cignY2xhc3MnLCAndmFsaWRpdHknKTtcbiAgICB9XG5cbiAgICB2YXIgZm9vdGVyID0gZm9ybS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tb2RhbC1mb290ZXInKTtcblxuICAgIGZvb3Rlci5hcHBlbmQoJ2J1dHRvbicpLnRleHQoJ09rJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoZm9ybS5ub2RlKCkuY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KHNlbGYuZGF0YS5jYWxsYmFjayk7XG4gICAgICAgIHNlbGYub3B0aW9ucy5jYWxsYmFja0hhbmRsZXIoc2VsZi5kYXRhLmNhbGxiYWNrKTtcbiAgICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgICAgc2VsZi5lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICBob2xkZXIucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gICAgZm9vdGVyLmFwcGVuZCgnYnV0dG9uJykudGV4dCgnQ2FuY2VsJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgIHNlbGYuZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIGhvbGRlci5yZW1vdmUoKTtcbiAgICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAvLyBkaXNhYmxlIGtleWJvYXJkIHNob3J0Y3V0cyB3aGVuIHVzaW5nIHRoaXMgbW9kYWwgaW4gSnVweXRlclxuICAgIHRyeSB7XG4gICAgICBKdXB5dGVyLmtleWJvYXJkX21hbmFnZXIucmVnaXN0ZXJfZXZlbnRzKCcuZnJhbmN5Jyk7XG4gICAgICBKdXB5dGVyLmtleWJvYXJkX21hbmFnZXIucmVnaXN0ZXJfZXZlbnRzKCcuZnJhbmN5LWFyZycpO1xuICAgICAgSnVweXRlci5rZXlib2FyZF9tYW5hZ2VyLnJlZ2lzdGVyX2V2ZW50cygnLmZyYW5jeS1vdmVybGF5Jyk7XG4gICAgICBKdXB5dGVyLmtleWJvYXJkX21hbmFnZXIucmVnaXN0ZXJfZXZlbnRzKCcuZnJhbmN5LW1vZGFsJyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5uYW1lID09ICdSZWZlcmVuY2VFcnJvcicpIHtcbiAgICAgICAgc2VsZi5sb2dnZXIuZGVidWcoJ0l0IHNlZW1zIHdlXFwncmUgbm90IHJ1bm5pbmcgb24gSnVweXRlci4uLicsIGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRlbnQuc2VsZWN0QWxsKCcuZnJhbmN5LWFyZycpLm5vZGUoKS5mb2N1cygpO1xuXG4gICAgdGhpcy5sb2dnZXIuZGVidWcoYENhbGxiYWNrIE1vZGFsIHVwZGF0ZWQgWyR7bW9kYWxJZH1dLi4uYCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHVucmVuZGVyKCkge31cbn1cbiIsImltcG9ydCBCYXNlIGZyb20gJy4vYmFzZSc7XG5cbi8qIGdsb2JhbCBkMyAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlciBleHRlbmRzIEJhc2Uge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gICAgaWYgKG5ldy50YXJnZXQgPT09IFJlbmRlcmVyKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFtSZW5kZXJlcl0gaW5zdGFuY2VzIGRpcmVjdGx5IScpO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZW5kZXIgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdGhpcy5yZW5kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ011c3Qgb3ZlcnJpZGUgW3JlbmRlcigpXSBtZXRob2QhJyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnVucmVuZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdObyBbdW5yZW5kZXIoKV0gbWV0aG9kIHNwZWNpZmllZC4uLicpO1xuICAgIH1cbiAgICB0aGlzLmVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXQgSFRNTFBhcmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQubm9kZSgpLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NWRycgPyBkMy5zZWxlY3QodGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQubm9kZSgpLnBhcmVudE5vZGUpIDogdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XG4gIH1cblxuICBnZXQgU1ZHUGFyZW50KCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYXBwZW5kVG8uZWxlbWVudC5ub2RlKCkudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnRElWJyA/IHRoaXMub3B0aW9ucy5hcHBlbmRUby5lbGVtZW50LnNlbGVjdCgnc3ZnJykgOiB0aGlzLm9wdGlvbnMuYXBwZW5kVG8uZWxlbWVudDtcbiAgfVxuXG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgeyBkb250RXhlY3V0ZUlmTm9EYXRhIH0gZnJvbSAnLi4vZGVjb3JhdG9yL2RhdGEnO1xuXG4vKiBnbG9iYWwgZDMgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbHRpcCBleHRlbmRzIFJlbmRlcmVyIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICB9XG5cbiAgQGRvbnRFeGVjdXRlSWZOb0RhdGEoKVxuICByZW5kZXIoKSB7XG5cbiAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLkhUTUxQYXJlbnQuc2VsZWN0KCdkaXYuZnJhbmN5LXRvb2x0aXAtaG9sZGVyJyk7XG4gICAgLy8gY2hlY2sgaWYgdGhlIHdpbmRvdyBpcyBhbHJlYWR5IHByZXNlbnRcbiAgICBpZiAoIXRoaXMuZWxlbWVudC5ub2RlKCkpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuSFRNTFBhcmVudC5hcHBlbmQoJ2RpdicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktdG9vbHRpcC1ob2xkZXInKTtcbiAgICB9XG5cbiAgICB2YXIgcG9zID0gZDMubW91c2UodGhpcy5TVkdQYXJlbnQubm9kZSgpKTtcblxuICAgIC8vIFRPRE8gZml4IGFsd2F5cyB2aXNpYmxlIHRvb2x0aXAsIGZpbmUgdW50aWwgc29tZW9uZSBjb21wbGFpbnMgYWJvdXQgOlBcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUoJ2xlZnQnLCBwb3NbMF0gKyAncHgnKS5zdHlsZSgndG9wJywgcG9zWzFdICsgJ3B4Jyk7XG5cbiAgICAvLyBjaGVjayBpZiBpdCBleGlzdHMgYWxyZWFkeVxuICAgIGlmICh0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCcqJykubm9kZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRhYmxlID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRvb2x0aXAnKVxuICAgICAgLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlJylcbiAgICAgIC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1ib2R5Jyk7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIE9iamVjdC5rZXlzKHRoaXMuZGF0YSkubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIHJvdyA9IHRhYmxlLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLXJvdycpO1xuICAgICAgcm93LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLWNlbGwnKS50ZXh0KHNlbGYuZGF0YVtrZXldLnRpdGxlKTtcbiAgICAgIHJvdy5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1jZWxsJykudGV4dChzZWxmLmRhdGFba2V5XS50ZXh0KTtcbiAgICB9KTtcblxuICAgIC8vIHNob3cgdG9vbHRpcFxuICAgIHRoaXMuZWxlbWVudC5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xuXG4gICAgdGhpcztcbiAgfVxuXG4gIHVucmVuZGVyKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdG8gZGVhbCB3aXRoIEpTT04uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEpzb25VdGlscyB7XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBhbiBpbnB1dCBuZCBjaGVja3Mgd2hldGhlciB0aGlzIGlucHV0IGlzIHZhbGlkIGFuZCByZXR1cm5zIGEgSlNPTiBvYmplY3QuXG4gICAqIEBwYXJhbSBpbnB1dCAtIHRoZSBpbnB1dCB0byBwYXJzZVxuICAgKiBAcmV0dXJucyB7anNvbn0gLSBpZiB0aGUgaW5wdXQgaXMgYSB2YWxpZCBKU09OIG9iamVjdCwgb3RoZXJ3aXNlIHJldHVybnMge3VuZGVmaW5lZH1cbiAgICovXG4gIHN0YXRpYyBwYXJzZShpbnB1dCwgcGFydGlhbCkge1xuICAgIGlmICghaW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5wdXQgPSB0eXBlb2YgaW5wdXQgIT09IFwic3RyaW5nXCIgPyBKU09OLnN0cmluZ2lmeShpbnB1dCkgOiBpbnB1dDtcbiAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoL1tcXG5cXHJcXGJcXFxcXSt8KGdhcD4pL2csICcnKTtcbiAgICBsZXQganNvblJlZ2V4ID0gL3soPzpbXl0pKn0vZztcbiAgICBsZXQgbWF0Y2ggPSBqc29uUmVnZXguZXhlYyhpbnB1dCk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBpbnB1dCA9IG1hdGNoWzBdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIGpzb24ubWltZSA9PT0gSnNvblV0aWxzLk1JTUUgfHwgcGFydGlhbCA/IGpzb24gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBzdGF0aWMgZ2V0IE1JTUUoKSB7XG4gICAgcmV0dXJuICdhcHBsaWNhdGlvbi92bmQuZnJhbmN5K2pzb24nO1xuICB9XG59XG4iLCIvKipcbiAqIFRoaXMgY2xhc3MgaXMgYSBzaW5nbGV0b24gdGhhdCBwcm92aWRlcyBhIGxvZ2dlciBmb3IgdGhlIEZyYW5jeSBhcHBsaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9nZ2VyIHtcblxuICAvKipcbiAgICogU2luZ2xldG9uOiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSBsb2dnZXIgYW5kIHdpbGwgcmV0dXJuZWQgdGhhdCBpbnN0YW5jZSxcbiAgICogZXZlcnl0aW1lIGEgbmV3IGluc3RhbmNlIGlzIHJlcXVlc3RlZC5cbiAgICogQHBhcmFtIHZlcmJvc2UgcHJpbnRzIGV4dHJhIGxvZyBpbmZvcm1hdGlvbiB0byBjb25zb2xlLmxvZywgZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgdGhpcy52ZXJib3NlID0gdmVyYm9zZTtcbiAgICB0aGlzLmNvbnNvbGUgPSBjb25zb2xlO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBbREVCVUddIGVudHJ5IGluIHRoZSBjb25zb2xlIGxvZ1xuICAgKiBAcGFyYW0gbWVzc2FnZSB0aGUgbWVzc2FnZSB0byBwcmludFxuICAgKi9cbiAgZGVidWcobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLnZlcmJvc2UpIHtcbiAgICAgIHRoaXMuY29uc29sZS5kZWJ1Zyh0aGlzLl9mb3JtYXQoJ0RFQlVHJywgbWVzc2FnZSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgW0lORk9dIGVudHJ5IGluIHRoZSBjb25zb2xlIGxvZ1xuICAgKiBAcGFyYW0gbWVzc2FnZSB0aGUgbWVzc2FnZSB0byBwcmludFxuICAgKi9cbiAgaW5mbyhtZXNzYWdlKSB7XG4gICAgdGhpcy5jb25zb2xlLmluZm8odGhpcy5fZm9ybWF0KCdJTkZPJywgbWVzc2FnZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBbRVJST1JdIGVudHJ5IGluIHRoZSBjb25zb2xlIGxvZ1xuICAgKiBAcGFyYW0gbWVzc2FnZSB0aGUgbWVzc2FnZSB0byBwcmludFxuICAgKiBAcGFyYW0gZXJyb3IgdGhlIGVycm9yIE9iamVjdCB0byBhdHRhY2ggdG8gdGhlIG1lc3NhZ2VcbiAgICovXG4gIGVycm9yKG1lc3NhZ2UsIGVycm9yKSB7XG4gICAgdGhpcy5jb25zb2xlLmVycm9yKHRoaXMuX2Zvcm1hdCgnRVJST1InLCBtZXNzYWdlKSwgZXJyb3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBbV0FSTl0gZW50cnkgaW4gdGhlIGNvbnNvbGUgbG9nXG4gICAqIEBwYXJhbSBtZXNzYWdlIHRoZSBtZXNzYWdlIHRvIHByaW50XG4gICAqIEBwYXJhbSBlcnJvciB0aGUgZXJyb3IgT2JqZWN0IHRvIGF0dGFjaCB0byB0aGUgbWVzc2FnZVxuICAgKi9cbiAgd2FybihtZXNzYWdlLCBlcnJvcikge1xuICAgIGVycm9yID0gZXJyb3IgfHwge307XG4gICAgdGhpcy5jb25zb2xlLmVycm9yKHRoaXMuX2Zvcm1hdCgnV0FSTicsIG1lc3NhZ2UpLCBlcnJvcik7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyBhIHByaXZhdGUgbWV0aG9kIHRoYXQgZm9ybWF0cyBhbGwgbG9nIG1lc3NhZ2VzXG4gICAqIEBwYXJhbSBtZXNzYWdlIHRoZSBtZXNzYWdlIHRvIHByaW50XG4gICAqL1xuICBfZm9ybWF0KGxldmVsLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIGBbJHtsZXZlbH1dIC0gJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9IC0gJHttZXNzYWdlfWA7XG4gIH1cbn1cbiJdfQ==\n"]}