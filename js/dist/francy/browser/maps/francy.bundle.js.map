{"version":3,"sources":["francy.bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Object","defineProperty","value","dontExecuteIfNoData","props","target","name","descriptor","oldValue","obj","Array","values","hasData","propertyPath","tmp","properties","split","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","property","hasOwnProperty","err","return","getProperty","this","data","apply","arguments","logger","debug","2","_interopRequireDefault","__esModule","default","_createClass","defineProperties","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_frame2","_renderer2","ALL_CANVAS","Francy","_Renderer","_ref","_ref$verbose","verbose","appendTo","callbackHandler","instance","TypeError","_classCallCheck","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","d3","subClass","superClass","create","constructor","setPrototypeOf","_inherits","frame","options","load","render","canvas","id","element","node","window","oldResize","onresize","forEach","zoomToFit","./render/frame","./render/renderer","3","_logger2","_jsonUtils2","Base","settings","log","_ref2","json","partial","parse","get","../util/json-utils","../util/logger","4","_dec","_class","_base2","_modalRequired2","CallbackHandler","_Base","callback","_this2","keys","requiredArgs","calbackObj","_execute","JSON","stringify","decorators","context","desc","initializer","slice","reverse","reduce","decorator","getOwnPropertyDescriptor","../decorator/data","./base","./modal-required","5","_composite2","_graph2","_chart2","Canvas","_Composite","graph","chart","add","zoomed","content","attr","event","transform","parent","canvasId","select","append","width","height","zoom","on","defaultPrevented","stopPropagation","bounds","getBBox","clientBounds","getBoundingClientRect","fullWidth","right","left","fullHeight","bottom","top","midX","x","midY","y","scale","Math","max","translateX","translateY","transition","duration","zoomIdentity","translate","updateZoom","renderChildren","./chart","./composite","./graph","6","_tooltip2","BarChart","tooltip","axis","datasets","datasetNames","margin","scaleBand","range","padding","domain","scaleLinear","concat","d","domainRange","barsGroup","selectAll","index","bar","exit","remove","enter","style","colors","bandwidth","unrender","merge","xAxisGroup","axisBottom","text","title","yAxisGroup","axisLeft","legendGroup","legend","./renderer","./tooltip","7","LineChart","linesGroup","valueLine","line","8","ScatterChart","scatterGroup","scatter","9","_chartBar2","_chartLine2","_chartScatter2","Chart","type","dataset","A","B","from","_","map","scaleSequential","interpolator","interpolateRainbow","./chart-bar","./chart-line","./chart-scatter","10","Composite","renderers","renderer","push","11","_canvas2","_menuMain2","_message2","Frame","menu","messages","frameId","./canvas","./menu-main","./message","12","_menuContext2","_callback2","Graph","symbolCircle","symbolCross","symbolDiamond","symbolSquare","symbolTriangle","symbolStar","symbolWye","ticked","link","source","label","sqrt","size","each","alpha","quadTree","quadtree","canvasNodes","rb","nx1","nx2","ny1","ny2","visit","quad","x1","y1","x2","y2","point","collide","connectedNodes","neighboring","b","linkedByIndex","preventDefault","toggle","__data__","dragstarted","active","simulationActive","dataChanged","simulation","alphaTarget","restart","fx","fy","dragged","dragended","executeCallback","callbacks","cb","trigger","execute","contextMenu","nodes","canvasLinks","links","linkGroup","nodeGroup","symbol","getSymbol","layer","highlight","menus","drag","labelGroup","centerForce","forceCenter","manyForce","forceManyBody","strength","linkForce","forceLink","distance","collideForce","forceCollide","forceX","forceY","forceSimulation","force","./callback","./menu-context","13","_menu2","ContextMenu","_Menu","HTMLParent","pos","mouse","SVGParent","menusIterator","traverse","./menu","14","_modalAbout2","MainMenu","aboutModal","menuId","html","entry","./modal-about","15","Menu","hasNext","menuItem","action","subMenusIterator","array","nextIndex","16","Message","alertsId","row","17","AboutModal","modalId","overlay","holder","form","version","syntaxHighlight","Jupyter","keyboard_manager","register_events","replace","match","cls","test","18","RequiredArgsModal","headerTitle","arg","input","onchange","checked","footer","checkValidity","focus","19","Renderer","tagName","toUpperCase","parentNode","20","Tooltip","table","21","JsonUtils","exec","mime","MIME","console","error","22","Logger","message","_format","info","_error","level","Date","toISOString"],"mappings":"CAAA,SAAUA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,IAAIS,YAAYb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAkD,IAAI,IAA1CL,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAAvb,EAA4ba,GAAG,SAAST,EAAQU,EAAOJ,GACvd,aAEAK,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQQ,oBACR,SAA6BC,GAC3B,OAAO,SAAmBC,EAAQC,EAAMC,GACtC,IAAIC,EAAWD,EAAWL,MAU1B,OARAK,EAAWL,MAAQ,WACjB,GAoDN,SAAiBO,GACf,SAAIA,KAAQA,aAAeC,OAASD,EAAIZ,QAAUY,aAAeT,QAAUA,OAAOW,OAAOF,GAAKZ,SArDrFe,CAWX,SAAqBH,EAAKI,GAExB,IAAIC,EAAML,EAEV,GAAIK,GAAOD,EAAc,CACvB,IAAIE,EAAaF,EAAaG,MAAM,KAEhCC,GAA4B,EAC5BC,GAAoB,EACpBC,OAAiBC,EAErB,IACE,IAAK,IAA+CC,EAA3CC,EAAYP,EAAWQ,OAAOC,cAAsBP,GAA6BI,EAAQC,EAAUG,QAAQC,MAAOT,GAA4B,EAAM,CAC3J,IAAIU,EAAWN,EAAMnB,MAErB,IAAKY,EAAIc,eAAeD,GAAW,CACjCb,OAAMM,EACN,MAEAN,EAAMA,EAAIa,IAGd,MAAOE,GACPX,GAAoB,EACpBC,EAAiBU,EACjB,QACA,KACOZ,GAA6BK,EAAUQ,QAC1CR,EAAUQ,SAEZ,QACA,GAAIZ,EACF,MAAMC,IAMd,OAAOL,EAjDUiB,CAAYC,KAAKC,KAAM7B,IAIpC,OAAOI,EAAS0B,MAAMF,KAAMG,WAH1BH,KAAKI,OAAOC,MAAM,iBAAmBjC,EAAQ,0CAM1CG,SAoDL+B,GAAG,SAASjD,EAAQU,EAAOJ,GACjC,aAiBA,SAAS4C,EAAuB9B,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAfvFT,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAAIsB,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAIfI,EAAUb,EAFDlD,EAAQ,mBAMjBgE,EAAad,EAFDlD,EAAQ,sBAcpBiE,KAgBAC,EAAS,SAAUC,GAUrB,SAASD,EAAOE,GACd,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,iBAtC/B,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCAwC5GC,CAAgBhC,KAAMuB,GAEtB,IAAIU,EAxCR,SAAoCC,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EAwClNwE,CAA2BpC,MAAOuB,EAAOc,WAAarE,OAAOsE,eAAef,IAAS3D,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KAErK,IAAKU,GACH,MAAM,IAAI/E,MAAM,6EAElB,OAAOyE,EA2BT,OAtEF,SAAmBO,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAqB/dI,CAAUtB,EAkDVF,EAAWZ,SAlBXC,EAAaa,IACXR,IAAK,SACL7C,MAAO,WAIL,IAAI4E,EAAQ,IAAI1B,EAAQX,QAAQT,KAAK+C,SAASC,KAAKhD,KAAKC,MAAMgD,SAE9D,OADA3B,EAAWtB,KAAKC,KAAKiD,OAAOC,IAAML,EAAMI,OACjCJ,EAAMM,QAAQC,UAGvBtC,IAAK,WACL7C,MAAO,SAAkBiF,UAChB7B,EAAW6B,OAIf5B,EAlDI,GAqDb5D,EAAQ8C,QAAUc,EAGlB,IACE5D,EAAQ4D,OAAS+B,OAAO/B,OAASA,EAEjC,IAAIgC,EAAYD,OAAOE,SACvBF,OAAOE,SAAW,WAEhBxF,OAAOW,OAAO2C,GAAYmC,QAAQ,SAAUP,GAC1CA,EAAOQ,cAGgB,mBAAdH,GACTA,KAGJ,MAAO1G,GACPc,EAAQ4D,OAASA,KAGhBoC,iBAAiB,GAAGC,oBAAoB,KAAKC,GAAG,SAASxG,EAAQU,EAAOJ,GAC3E,aAiBA,SAAS4C,EAAuB9B,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAfvFT,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAAIsB,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAIf8C,EAAWvD,EAFDlD,EAAQ,mBAMlB0G,EAAcxD,EAFDlD,EAAQ,uBAQrB2G,EAAO,WACT,SAASA,EAAKvC,GACZ,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,iBAP/B,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCAS5GC,CAAgBhC,KAAMgE,GAEtBhE,KAAKiE,UAAWtC,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,IAIvE7B,KAAKkE,IAAM,IAAIJ,EAASrD,QAAQT,KAAK+C,SA4CvC,OAzCArC,EAAasD,IACXjD,IAAK,WACL7C,MAAO,SAAkBiG,GACvB,IAAIxC,EAAUwC,EAAMxC,QAChBC,EAAWuC,EAAMvC,SACjBC,EAAkBsC,EAAMtC,gBAE5B,IAAKA,EACH,MAAM,IAAIrE,MAAM,0GAElB,IAAKoE,EACH,MAAM,IAAIpE,MAAM,0DAYlB,OAJAwC,KAAK+C,WACL/C,KAAK+C,QAAQpB,QAAUA,GAAW3B,KAAK+C,QAAQpB,QAC/C3B,KAAK+C,QAAQnB,SAAWA,GAAY5B,KAAK+C,QAAQpB,QACjD3B,KAAK+C,QAAQlB,gBAAkBA,GAAmB7B,KAAK+C,QAAQlB,gBACxD7B,QAGTe,IAAK,OACL7C,MAAO,SAAckG,EAAMC,GACzB,IAAIpE,EAAO8D,EAAYtD,QAAQ6D,MAAMF,EAAMC,GAI3C,OAHIpE,IACFD,KAAKC,KAAOA,GAEPD,QAGTe,IAAK,SACLwD,IAAK,WACH,OAAOvE,KAAKkE,QAITF,EAzDE,GA4DXrG,EAAQ8C,QAAUuD,IAEfQ,qBAAqB,GAAGC,iBAAiB,KAAKC,GAAG,SAASrH,EAAQU,EAAOJ,GAC5E,aAqBA,SAAS4C,EAAuB9B,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAnBvFT,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAEIuF,EAAqBC,EAFrBlE,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAMf6D,EAAStE,EAFDlD,EAAQ,WAMhByH,EAAkBvE,EAFDlD,EAAQ,qBA2CzB0H,GAAmBJ,GAAO,EAvClBtH,EAAQ,qBAuCoBc,uBAAyByG,EAAS,SAAUI,GAGlF,SAASD,EAAgBtD,GACvB,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,iBA1C/B,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCA4C5GC,CAAgBhC,KAAM+E,GAEtB,IAAI9C,EA5CR,SAAoCC,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EA4ClNwE,CAA2BpC,MAAO+E,EAAgB1C,WAAarE,OAAOsE,eAAeyC,IAAkBnH,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KAGvL,OADAI,EAAMgD,SAAWpD,EACVI,EA0BT,OAvEF,SAAmBO,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAgC/dI,CAAUkC,EAwCVF,EAAOpE,SAxBPC,EAAaqE,IACXhE,IAAK,UACL7C,MAAO,WACL,IAAIgH,EAASlF,KAEb,GAAIhC,OAAOmH,KAAKnF,KAAKC,KAAKgF,SAASG,cAAcvH,OAAQ,CACvD,IAAIkF,EAAU/C,KAAK+C,QAInB,OAHAA,EAAQlB,gBAAkB,SAAUwD,GAClC,OAAOH,EAAOI,SAAS1H,KAAKsH,EAAQG,IAE/B,IAAIP,EAAgBrE,QAAQsC,GAASC,KAAKhD,KAAKC,MAAM,GAAMgD,SAGlEjD,KAAKsF,SAAStF,KAAKC,KAAKgF,aAI5BlE,IAAK,WACL7C,MAAO,SAAkBmH,GACvBrF,KAAKiF,SAAS,WAAaM,KAAKC,UAAUD,KAAKC,UAAUH,IAAe,UAIrEN,EAxCiE,GA7B1E,SAAmC1G,EAAQsB,EAAU8F,EAAYlH,EAAYmH,GAC3E,IAAIC,KACJ3H,OAAkB,KAAEO,GAAYkF,QAAQ,SAAU1C,GAChD4E,EAAK5E,GAAOxC,EAAWwC,KAEzB4E,EAAK/E,aAAe+E,EAAK/E,WACzB+E,EAAK9E,eAAiB8E,EAAK9E,cAEvB,UAAW8E,GAAQA,EAAKC,eAC1BD,EAAK7E,UAAW,GAGlB6E,EAAOF,EAAWI,QAAQC,UAAUC,OAAO,SAAUJ,EAAMK,GACzD,OAAOA,EAAU3H,EAAQsB,EAAUgG,IAASA,GAC3CA,GAECD,QAAgC,IAArBC,EAAKC,cAClBD,EAAKzH,MAAQyH,EAAKC,YAAcD,EAAKC,YAAYhI,KAAK8H,QAAW,EACjEC,EAAKC,iBAAcxG,QAGI,IAArBuG,EAAKC,cACP5H,OAA4B,eAAEK,EAAQsB,EAAUgG,GAChDA,EAAO,MA+CQ,CAA2Bf,EAAOzD,UAAW,WAAYwD,GAAO3G,OAAOiI,yBAAyBrB,EAAOzD,UAAW,WAAYyD,EAAOzD,WAAayD,GACrKjH,EAAQ8C,QAAUsE,IAEfmB,oBAAoB,EAAEC,SAAS,EAAEC,mBAAmB,KAAKC,GAAG,SAAShJ,EAAQU,EAAOJ,GACvF,aAyBA,SAAS4C,EAAuB9B,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAvBvFT,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAEIuF,EAAqBC,EAFrBlE,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAMfsF,EAAc/F,EAFDlD,EAAQ,gBAMrBkJ,EAAUhG,EAFDlD,EAAQ,YAMjBmJ,EAAUjG,EAFDlD,EAAQ,YA6CjBoJ,GAAU9B,GAAO,EAzCTtH,EAAQ,qBAyCWc,uBAAyByG,EAAS,SAAU8B,GAGzE,SAASD,EAAOhF,GACd,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,iBA5C/B,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCA8C5GC,CAAgBhC,KAAMyG,GAEtB,IAAIxE,EA9CR,SAAoCC,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EA8ClNwE,CAA2BpC,MAAOyG,EAAOpE,WAAarE,OAAOsE,eAAemE,IAAS7I,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KAKrK,OAHAI,EAAM0E,MAAQ,IAAIJ,EAAQ9F,QAAQwB,EAAMc,SACxCd,EAAM2E,MAAQ,IAAIJ,EAAQ/F,QAAQwB,EAAMc,SACxCd,EAAM4E,IAAI5E,EAAM0E,OAAOE,IAAI5E,EAAM2E,OAC1B3E,EAyFT,OA1IF,SAAmBO,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAkC/dI,CAAU4D,EAyGVH,EAAY7F,SAvFZC,EAAa+F,IACX1F,IAAK,SACL7C,MAAO,WA+DL,SAAS4I,IACPC,EAAQC,KAAK,YAAazE,GAAG0E,MAAMC,WA/DrC,IAAIC,EAASnH,KAAK+C,QAAQnB,SAASwB,QAE/BgE,EAAWpH,KAAKC,KAAKiD,OAAOC,GAUhC,GATAnD,KAAKoD,QAAUb,GAAG8E,OAAO,OAASD,GAE7BpH,KAAKoD,QAAQC,SAEhBrD,KAAKI,OAAOC,MAAM,oBAAsB+G,EAAW,QACnDpH,KAAKoD,QAAU+D,EAAOG,OAAO,OAAON,KAAK,QAAS,iBAAiBA,KAAK,KAAMI,KAI3EpH,KAAKoD,QAAQC,OAChB,MAAM,IAAI7F,MAAM,0CAA4C4J,EAAW,wBAGzEpH,KAAKoD,QAAQ4D,KAAK,QAAShH,KAAKC,KAAKiD,OAAOqE,OAAOP,KAAK,SAAUhH,KAAKC,KAAKiD,OAAOsE,QAEnF,IAAIC,EAAOlF,GAAGkF,OAEVV,EAAU/G,KAAKoD,QAAQiE,OAAO,oBAE7BN,EAAQ1D,SACX0D,EAAU/G,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,kBACjDS,EAAKC,GAAG,OAAQZ,GAChB9G,KAAKoD,QAAQxF,KAAK6J,GAAMC,GAAG,gBAAiB,OAG9C1H,KAAKoD,QAAQsE,GAAG,QAsChB,WACMnF,GAAG0E,MAAMU,kBACXpF,GAAG0E,MAAMW,oBAxCqB,GAElC,IAAI1F,EAAOlC,KA8CX,OA7CAA,KAAKoD,QAAQM,UAAY1D,KAAK0D,UAAY,WAExC,GAAIxB,EAAKjC,KAAKiD,OAAOQ,UAAW,CAC9B,IAAImE,EAASd,EAAQ1D,OAAOyE,UAExBC,EAAe7F,EAAKkB,QAAQC,OAAO2E,wBACnCC,EAAYF,EAAaG,MAAQH,EAAaI,KAC9CC,EAAaL,EAAaM,OAASN,EAAaO,IAEhDf,EAAQM,EAAON,MACfC,EAASK,EAAOL,OAEpB,GAAa,GAATD,GAAwB,GAAVC,EAAa,OAE/B,IAAIe,EAAOV,EAAOW,EAAIjB,EAAQ,EAC1BkB,EAAOZ,EAAOa,EAAIlB,EAAS,EAE3BmB,EAAQ,GAAMC,KAAKC,IAAItB,EAAQU,EAAWT,EAASY,GACnDU,EAAab,EAAY,EAAIU,EAAQJ,EACrCQ,EAAaX,EAAa,EAAIO,EAAQF,EAE1C1B,EAAQiC,aAAaC,SAAS,KAAMjC,KAAK,YAAa,aAAe8B,EAAa,IAAMC,EAAa,UAAYJ,EAAQ,IAAMA,EAAQ,KAAKjB,GAAG,MAAO,WACpJ,OAKN,SAAoBoB,EAAYC,EAAYJ,GAC1CzG,EAAKkB,QAAQxF,KAAK6J,EAAKP,UAAW3E,GAAG2G,aAAaC,UAAUL,EAAYC,GAAYJ,MAAMA,EAAOA,IANtFS,CAAWN,EAAYC,EAAYJ,OAmBhD3I,KAAKI,OAAOC,MAAM,mBAAqB+G,EAAW,QAElDpH,KAAKqJ,iBAEErJ,QAGTe,IAAK,WACL7C,MAAO,gBAGFuI,EAzGwD,GA/BjE,SAAmCpI,EAAQsB,EAAU8F,EAAYlH,EAAYmH,GAC3E,IAAIC,KACJ3H,OAAkB,KAAEO,GAAYkF,QAAQ,SAAU1C,GAChD4E,EAAK5E,GAAOxC,EAAWwC,KAEzB4E,EAAK/E,aAAe+E,EAAK/E,WACzB+E,EAAK9E,eAAiB8E,EAAK9E,cAEvB,UAAW8E,GAAQA,EAAKC,eAC1BD,EAAK7E,UAAW,GAGlB6E,EAAOF,EAAWI,QAAQC,UAAUC,OAAO,SAAUJ,EAAMK,GACzD,OAAOA,EAAU3H,EAAQsB,EAAUgG,IAASA,GAC3CA,GAECD,QAAgC,IAArBC,EAAKC,cAClBD,EAAKzH,MAAQyH,EAAKC,YAAcD,EAAKC,YAAYhI,KAAK8H,QAAW,EACjEC,EAAKC,iBAAcxG,QAGI,IAArBuG,EAAKC,cACP5H,OAA4B,eAAEK,EAAQsB,EAAUgG,GAChDA,EAAO,MAkHa,CAA2Bf,EAAOzD,UAAW,UAAWwD,GAAO3G,OAAOiI,yBAAyBrB,EAAOzD,UAAW,UAAWyD,EAAOzD,WAAayD,GACxKjH,EAAQ8C,QAAUgG,IAEfP,oBAAoB,EAAEoD,UAAU,EAAEC,cAAc,GAAGC,UAAU,KAAKC,GAAG,SAASpM,EAAQU,EAAOJ,GAChG,aAqBA,SAAS4C,EAAuB9B,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAnBvFT,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAAIsB,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAIfK,EAAad,EAFDlD,EAAQ,eAMpBqM,EAAYnJ,EAFDlD,EAAQ,cAMnBmJ,EAAUjG,EAFDlD,EAAQ,YAcjBsM,EAAW,SAAUnI,GAGvB,SAASmI,EAASlI,GAChB,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,gBAI3B,OAnBJ,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCAiB5GC,CAAgBhC,KAAM2J,GAf1B,SAAoCzH,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EAiBvNwE,CAA2BpC,MAAO2J,EAAStH,WAAarE,OAAOsE,eAAeqH,IAAW/L,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KAoItK,OAnJF,SAAmBW,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAK/dI,CAAU8G,EA+IVtI,EAAWZ,SAlIXC,EAAaiJ,IACX5I,IAAK,SACL7C,MAAO,WAEL,IAAI0L,EAAU,IAAIF,EAAUjJ,QAAQT,KAAK+C,SAErCoE,EAASnH,KAAK+C,QAAQnB,SAASwB,QAE/ByG,EAAO7J,KAAKC,KAAKiD,OAAO0D,MAAMiD,KAC9BC,EAAW9J,KAAKC,KAAKiD,OAAO0D,MAAM3G,KAClC8J,EAAe/L,OAAOmH,KAAK2E,GAE/B9J,KAAKoD,QAAU+D,EAAOE,OAAO,oBAE7B,IAAI2C,EAAgB,GAAhBA,EAA2B,GAA3BA,EAAuC,GAAvCA,EAAiD,GACjDzC,GAASJ,EAAOH,KAAK,UAAYzE,GAAG8E,OAAO,QAAQhE,OAAO2E,wBAAwBT,MAClFC,GAAUL,EAAOH,KAAK,WAAazE,GAAG8E,OAAO,QAAQhE,OAAO2E,wBAAwBR,OAGxFD,EAAQA,EAAQyC,EAAcA,EAC9BxC,EAASA,EAASwC,EAAaA,EAG/B,IAAIxB,EAAIjG,GAAG0H,YAAYC,OAAO,EAAG3C,IAAQ4C,QAAQ,IAAKC,OAAOP,EAAKrB,EAAE4B,QAChE1B,EAAInG,GAAG8H,cAAcH,OAAO1C,EAAQ,IAAI4C,OAAOP,EAAKnB,EAAE0B,QAEtDtL,KACJiL,EAAatG,QAAQ,SAAU1C,GAC7B,OAAOjC,EAAMA,EAAIwL,OAAOR,EAAS/I,MAG9B8I,EAAKnB,EAAE0B,OAAOvM,QACjB6K,EAAE0B,QAAQ,EAAG7H,GAAGsG,IAAI/J,EAAK,SAAUyL,GACjC,OAAOA,MAINV,EAAKrB,EAAE4B,OAAOvM,SACjBgM,EAAKrB,EAAE4B,OAAS5D,EAAQ/F,QAAQ+J,YAAY1L,EAAIjB,OAASkM,EAAalM,QACtE2K,EAAE4B,OAAOP,EAAKrB,EAAE4B,SAGlB,IAAIK,EAAYzK,KAAKoD,QAAQsH,UAAU,iBAElCD,EAAUpH,SACboH,EAAYzK,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,gBAGrD+C,EAAatG,QAAQ,SAAU1C,EAAK4J,GAClC,IAAIC,EAAMH,EAAUC,UAAU,cAAgBC,GAAO1K,KAAK6J,EAAS/I,IAEnE6J,EAAIC,OAAOC,SAGXF,EAAIG,QAAQzD,OAAO,QAAQ0D,MAAM,OAAQ,WACvC,OAAOxE,EAAQ/F,QAAQwK,OAAe,EAARN,KAC7B3D,KAAK,QAAS,aAAe2D,GAAO3D,KAAK,IAAK,SAAUuD,EAAGjN,GAC5D,OAAOkL,EAAEqB,EAAKrB,EAAE4B,OAAO9M,IAAMqN,GAASnC,EAAE0C,YAAcnB,EAAalM,UAClEmJ,KAAK,QAASwB,EAAE0C,YAAcnB,EAAalM,OAAS,GAAGmJ,KAAK,IAAK,SAAUuD,GAC5E,OAAO7B,EAAE6B,KACRvD,KAAK,SAAU,SAAUuD,GAC1B,OAAO/C,EAASkB,EAAE6B,KACjB7C,GAAG,aAAc,SAAU6C,GAC5BhI,GAAG8E,OAAOrH,MAAMgJ,aAAaC,SAAS,KAAK+B,MAAM,eAAgB,IACjEpB,EAAQ5G,KAAKwD,EAAQ/F,QAAQmJ,QAAQ7I,EAAKwJ,IAAI,GAAMtH,WACnDyE,GAAG,aAAc,WAClBnF,GAAG8E,OAAOrH,MAAMgJ,aAAaC,SAAS,KAAK+B,MAAM,eAAgB,GACjEpB,EAAQuB,aAGVP,EAAIQ,MAAMR,KAIZ,IAAIS,EAAarL,KAAKoD,QAAQsH,UAAU,mBAEnCW,EAAWhI,SACdgI,EAAarL,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,kBAGtDqE,EAAWX,UAAU,KAAKI,SAG1BO,EAAWrE,KAAK,YAAa,eAAiBQ,EAAS,KAAK5J,KAAK2E,GAAG+I,WAAW9C,IAAIlB,OAAO,QAAQN,KAAK,KAAM,IAAIA,KAAK,KAAMO,EAAQ,GAAGP,KAAK,OAAQ,SAASA,KAAK,QAAS,eAAegE,MAAM,cAAe,OAAOO,KAAK1B,EAAKrB,EAAEgD,OAGlO,IAAIC,EAAazL,KAAKoD,QAAQsH,UAAU,mBAEnCe,EAAWpI,SACdoI,EAAazL,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,kBAGtDyE,EAAWf,UAAU,KAAKI,SAG1BW,EAAW7N,KAAK2E,GAAGmJ,SAAShD,IAAIpB,OAAO,QAAQN,KAAK,MAAO,IAAIA,KAAK,KAAMQ,EAAS,GAAGR,KAAK,OAAQ,SAASA,KAAK,QAAS,eAAegE,MAAM,cAAe,OAAOO,KAAK1B,EAAKnB,EAAE8C,OAEjL,IAAIG,EAAc3L,KAAKoD,QAAQsH,UAAU,kBAEpCiB,EAAYtI,SACfsI,EAAc3L,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,kBAIvD2E,EAAYjB,UAAU,KAAKI,SAE3B,IAAIc,EAASD,EAAYjB,UAAU,KAAKzK,KAAK8J,EAAalE,SAgB1D,OAdA+F,EAAOf,OAAOC,UAEdc,EAASA,EAAOb,QAAQzD,OAAO,KAAKN,KAAK,YAAa,SAAUuD,EAAGjN,GACjE,MAAO,eAAqB,GAAJA,EAAS,MAChC8N,MAAMQ,IAEFtE,OAAO,QAAQN,KAAK,IAAKO,EAAQ,IAAIP,KAAK,QAAS,IAAIA,KAAK,SAAU,IAAIgE,MAAM,OAAQ,SAAUT,EAAGjN,GAC1G,OAAOkJ,EAAQ/F,QAAQwK,OAAW,EAAJ3N,KAGhCsO,EAAOtE,OAAO,QAAQN,KAAK,IAAKO,EAAQ,IAAIP,KAAK,IAAK,GAAGA,KAAK,KAAM,SAASgE,MAAM,cAAe,OAAOO,KAAK,SAAUhB,GACtH,OAAOA,IAGFvK,QAGTe,IAAK,WACL7C,MAAO,gBAGFyL,EA/IM,GAkJfhM,EAAQ8C,QAAUkJ,IAEfL,UAAU,EAAEuC,aAAa,GAAGC,YAAY,KAAKC,GAAG,SAAS1O,EAAQU,EAAOJ,GAC3E,aAqBA,SAAS4C,EAAuB9B,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAnBvFT,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAAIsB,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAIfK,EAAad,EAFDlD,EAAQ,eAMpBqM,EAAYnJ,EAFDlD,EAAQ,cAMnBmJ,EAAUjG,EAFDlD,EAAQ,YAcjB2O,EAAY,SAAUxK,GAGxB,SAASwK,EAAUvK,GACjB,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,gBAI3B,OAnBJ,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCAiB5GC,CAAgBhC,KAAMgM,GAf1B,SAAoC9J,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EAiBvNwE,CAA2BpC,MAAOgM,EAAU3J,WAAarE,OAAOsE,eAAe0J,IAAYpO,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KAmIxK,OAlJF,SAAmBW,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAK/dI,CAAUmJ,EA8IV3K,EAAWZ,SAjIXC,EAAasL,IACXjL,IAAK,SACL7C,MAAO,WAEL,IAAI0L,EAAU,IAAIF,EAAUjJ,QAAQT,KAAK+C,SAErCoE,EAASnH,KAAK+C,QAAQnB,SAASwB,QAE/ByG,EAAO7J,KAAKC,KAAKiD,OAAO0D,MAAMiD,KAC9BC,EAAW9J,KAAKC,KAAKiD,OAAO0D,MAAM3G,KAClC8J,EAAe/L,OAAOmH,KAAK2E,GAE/B9J,KAAKoD,QAAU+D,EAAOE,OAAO,oBAE7B,IAAI2C,EAAgB,GAAhBA,EAA2B,GAA3BA,EAAuC,GAAvCA,EAAiD,GACjDzC,GAASJ,EAAOH,KAAK,UAAYzE,GAAG8E,OAAO,QAAQhE,OAAO2E,wBAAwBT,MAClFC,GAAUL,EAAOH,KAAK,WAAazE,GAAG8E,OAAO,QAAQhE,OAAO2E,wBAAwBR,OAGxFD,EAAQA,EAAQyC,EAAcA,EAC9BxC,EAASA,EAASwC,EAAaA,EAG/B,IAAIxB,EAAIjG,GAAG8H,cAAcH,OAAO,EAAG3C,IAAQ6C,OAAOP,EAAKrB,EAAE4B,QACrD1B,EAAInG,GAAG8H,cAAcH,OAAO1C,EAAQ,IAAI4C,OAAOP,EAAKnB,EAAE0B,QAEtDtL,KACJiL,EAAatG,QAAQ,SAAU1C,GAC7B,OAAOjC,EAAMA,EAAIwL,OAAOR,EAAS/I,MAG9B8I,EAAKnB,EAAE0B,OAAOvM,QACjB6K,EAAE0B,QAAQ,EAAG7H,GAAGsG,IAAI/J,EAAK,SAAUyL,GACjC,OAAOA,MAINV,EAAKrB,EAAE4B,OAAOvM,QACjB2K,EAAE4B,QAAQ,EAAGtL,EAAIjB,OAASkM,EAAalM,SAGzC,IAAIoO,EAAajM,KAAKoD,QAAQsH,UAAU,kBAEnCuB,EAAW5I,SACd4I,EAAajM,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,iBAGtD+C,EAAatG,QAAQ,SAAU1C,EAAK4J,GAClC,IAAIuB,EAAY3J,GAAG4J,OAAO3D,EAAE,SAAU+B,EAAGjN,GACvC,OAAOkL,EAAElL,KACRoL,EAAE,SAAU6B,GACb,OAAO7B,EAAE6B,KAGP4B,EAAOF,EAAWvB,UAAU,QAAUC,GAAO1K,MAAM6J,EAAS/I,KAEhEoL,EAAKtB,OAAOC,SAGZqB,EAAKpB,QAAQzD,OAAO,QAAQ0D,MAAM,SAAU,WAC1C,OAAOxE,EAAQ/F,QAAQwK,OAAe,EAARN,KAC7BK,MAAM,eAAgB,OAAOhE,KAAK,QAAS,cAAgB2D,GAAO3D,KAAK,IAAKkF,GAAWxE,GAAG,aAAc,SAAU6C,GACnHhI,GAAG8E,OAAOrH,MAAMgJ,aAAaC,SAAS,KAAK+B,MAAM,iBAAkB,IAAKA,MAAM,eAAgB,QAC9FpB,EAAQ5G,KAAKwD,EAAQ/F,QAAQmJ,QAAQ7I,EAAKwJ,IAAI,GAAMtH,WACnDyE,GAAG,aAAc,WAClBnF,GAAG8E,OAAOrH,MAAMgJ,aAAaC,SAAS,KAAK+B,MAAM,iBAAkB,GAAGA,MAAM,eAAgB,OAC5FpB,EAAQuB,aAGVgB,EAAKf,MAAMe,KAIb,IAAId,EAAarL,KAAKoD,QAAQsH,UAAU,mBAEnCW,EAAWhI,SACdgI,EAAarL,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,kBAGtDqE,EAAWX,UAAU,KAAKI,SAG1BO,EAAWrE,KAAK,YAAa,eAAiBQ,EAAS,KAAK5J,KAAK2E,GAAG+I,WAAW9C,IAAIlB,OAAO,QAAQN,KAAK,KAAM,IAAIA,KAAK,KAAMO,EAAQ,GAAGP,KAAK,OAAQ,SAASA,KAAK,QAAS,eAAegE,MAAM,cAAe,OAAOO,KAAK1B,EAAKrB,EAAEgD,OAGlO,IAAIC,EAAazL,KAAKoD,QAAQsH,UAAU,mBAEnCe,EAAWpI,SACdoI,EAAazL,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,kBAGtDyE,EAAWf,UAAU,KAAKI,SAG1BW,EAAW7N,KAAK2E,GAAGmJ,SAAShD,IAAIpB,OAAO,QAAQN,KAAK,MAAO,IAAIA,KAAK,KAAMQ,EAAS,GAAGR,KAAK,OAAQ,SAASA,KAAK,QAAS,eAAegE,MAAM,cAAe,OAAOO,KAAK1B,EAAKnB,EAAE8C,OAEjL,IAAIG,EAAc3L,KAAKoD,QAAQsH,UAAU,kBAEpCiB,EAAYtI,SACfsI,EAAc3L,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,kBAIvD2E,EAAYjB,UAAU,KAAKI,SAE3B,IAAIc,EAASD,EAAYjB,UAAU,KAAKzK,KAAK8J,EAAalE,SAgB1D,OAdA+F,EAAOf,OAAOC,UAEdc,EAASA,EAAOb,QAAQzD,OAAO,KAAKN,KAAK,YAAa,SAAUuD,EAAGjN,GACjE,MAAO,eAAqB,GAAJA,EAAS,MAChC8N,MAAMQ,IAEFtE,OAAO,QAAQN,KAAK,IAAKO,EAAQ,IAAIP,KAAK,QAAS,IAAIA,KAAK,SAAU,IAAIgE,MAAM,OAAQ,SAAUT,EAAGjN,GAC1G,OAAOkJ,EAAQ/F,QAAQwK,OAAW,EAAJ3N,KAGhCsO,EAAOtE,OAAO,QAAQN,KAAK,IAAKO,EAAQ,IAAIP,KAAK,IAAK,GAAGA,KAAK,KAAM,SAASgE,MAAM,cAAe,OAAOO,KAAK,SAAUhB,GACtH,OAAOA,IAGFvK,QAGTe,IAAK,WACL7C,MAAO,gBAGF8N,EA9IO,GAiJhBrO,EAAQ8C,QAAUuL,IAEf1C,UAAU,EAAEuC,aAAa,GAAGC,YAAY,KAAKM,GAAG,SAAS/O,EAAQU,EAAOJ,GAC3E,aAqBA,SAAS4C,EAAuB9B,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAnBvFT,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAAIsB,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAIfK,EAAad,EAFDlD,EAAQ,eAMpBqM,EAAYnJ,EAFDlD,EAAQ,cAMnBmJ,EAAUjG,EAFDlD,EAAQ,YAcjBgP,EAAe,SAAU7K,GAG3B,SAAS6K,EAAa5K,GACpB,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,gBAI3B,OAnBJ,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCAiB5GC,CAAgBhC,KAAMqM,GAf1B,SAAoCnK,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EAiBvNwE,CAA2BpC,MAAOqM,EAAahK,WAAarE,OAAOsE,eAAe+J,IAAezO,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KAiI9K,OAhJF,SAAmBW,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAK/dI,CAAUwJ,EA4IVhL,EAAWZ,SA/HXC,EAAa2L,IACXtL,IAAK,SACL7C,MAAO,WAEL,IAAI0L,EAAU,IAAIF,EAAUjJ,QAAQT,KAAK+C,SAErCoE,EAASnH,KAAK+C,QAAQnB,SAASwB,QAE/ByG,EAAO7J,KAAKC,KAAKiD,OAAO0D,MAAMiD,KAC9BC,EAAW9J,KAAKC,KAAKiD,OAAO0D,MAAM3G,KAClC8J,EAAe/L,OAAOmH,KAAK2E,GAE/B9J,KAAKoD,QAAU+D,EAAOE,OAAO,oBAE7B,IAAI2C,EAAgB,GAAhBA,EAA2B,GAA3BA,EAAuC,GAAvCA,EAAiD,GACjDzC,GAASJ,EAAOH,KAAK,UAAYzE,GAAG8E,OAAO,QAAQhE,OAAO2E,wBAAwBT,MAClFC,GAAUL,EAAOH,KAAK,WAAazE,GAAG8E,OAAO,QAAQhE,OAAO2E,wBAAwBR,OAGxFD,EAAQA,EAAQyC,EAAcA,EAC9BxC,EAASA,EAASwC,EAAaA,EAG/B,IAAIxB,EAAIjG,GAAG8H,cAAcH,OAAO,EAAG3C,IAAQ6C,OAAOP,EAAKrB,EAAE4B,QACrD1B,EAAInG,GAAG8H,cAAcH,OAAO1C,EAAQ,IAAI4C,OAAOP,EAAKnB,EAAE0B,QAEtDtL,KACJiL,EAAatG,QAAQ,SAAU1C,GAC7B,OAAOjC,EAAMA,EAAIwL,OAAOR,EAAS/I,MAG9B8I,EAAKnB,EAAE0B,OAAOvM,QACjB6K,EAAE0B,QAAQ,EAAG7H,GAAGsG,IAAI/J,EAAK,SAAUyL,GACjC,OAAOA,MAINV,EAAKrB,EAAE4B,OAAOvM,QACjB2K,EAAE4B,QAAQ,EAAGtL,EAAIjB,OAASkM,EAAalM,SAGzC,IAAIyO,EAAetM,KAAKoD,QAAQsH,UAAU,qBAErC4B,EAAajJ,SAChBiJ,EAAetM,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,oBAGxD+C,EAAatG,QAAQ,SAAU1C,EAAK4J,GAClC,IAAI4B,EAAUD,EAAa5B,UAAU,WAAaC,GAAO1K,KAAK6J,EAAS/I,IAEvEwL,EAAQ1B,OAAOC,SAGfyB,EAAQxB,QAAQzD,OAAO,UAAU0D,MAAM,OAAQ,WAC7C,OAAOxE,EAAQ/F,QAAQwK,OAAe,EAARN,KAC7B3D,KAAK,QAAS,iBAAmB2D,GAAO3D,KAAK,IAAK,GAAGA,KAAK,KAAM,SAAUuD,EAAGjN,GAC9E,OAAOkL,EAAElL,KACR0J,KAAK,KAAM,SAAUuD,GACtB,OAAO7B,EAAE6B,KACR7C,GAAG,aAAc,SAAU6C,GAC5BhI,GAAG8E,OAAOrH,MAAMgJ,aAAaC,SAAS,KAAK+B,MAAM,eAAgB,IAAKhE,KAAK,IAAK,IAChF4C,EAAQ5G,KAAKwD,EAAQ/F,QAAQmJ,QAAQ7I,EAAKwJ,IAAI,GAAMtH,WACnDyE,GAAG,aAAc,WAClBnF,GAAG8E,OAAOrH,MAAMgJ,aAAaC,SAAS,KAAK+B,MAAM,eAAgB,GAAGhE,KAAK,IAAK,GAC9E4C,EAAQuB,aAGVoB,EAAQnB,MAAMmB,KAIhB,IAAIlB,EAAarL,KAAKoD,QAAQsH,UAAU,mBAEnCW,EAAWhI,SACdgI,EAAarL,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,kBAGtDqE,EAAWX,UAAU,KAAKI,SAG1BO,EAAWrE,KAAK,YAAa,eAAiBQ,EAAS,KAAK5J,KAAK2E,GAAG+I,WAAW9C,IAAIlB,OAAO,QAAQN,KAAK,KAAM,IAAIA,KAAK,KAAMO,EAAQ,GAAGP,KAAK,OAAQ,SAASA,KAAK,QAAS,eAAegE,MAAM,cAAe,OAAOO,KAAK1B,EAAKrB,EAAEgD,OAGlO,IAAIC,EAAazL,KAAKoD,QAAQsH,UAAU,mBAEnCe,EAAWpI,SACdoI,EAAazL,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,kBAGtDyE,EAAWf,UAAU,KAAKI,SAG1BW,EAAW7N,KAAK2E,GAAGmJ,SAAShD,IAAIpB,OAAO,QAAQN,KAAK,MAAO,IAAIA,KAAK,KAAMQ,EAAS,GAAGR,KAAK,OAAQ,SAASA,KAAK,QAAS,eAAegE,MAAM,cAAe,OAAOO,KAAK1B,EAAKnB,EAAE8C,OAEjL,IAAIG,EAAc3L,KAAKoD,QAAQsH,UAAU,kBAEpCiB,EAAYtI,SACfsI,EAAc3L,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,kBAIvD2E,EAAYjB,UAAU,KAAKI,SAE3B,IAAIc,EAASD,EAAYjB,UAAU,KAAKzK,KAAK8J,EAAalE,SAgB1D,OAdA+F,EAAOf,OAAOC,UAEdc,EAASA,EAAOb,QAAQzD,OAAO,KAAKN,KAAK,YAAa,SAAUuD,EAAGjN,GACjE,MAAO,eAAqB,GAAJA,EAAS,MAChC8N,MAAMQ,IAEFtE,OAAO,QAAQN,KAAK,IAAKO,EAAQ,IAAIP,KAAK,QAAS,IAAIA,KAAK,SAAU,IAAIgE,MAAM,OAAQ,SAAUT,EAAGjN,GAC1G,OAAOkJ,EAAQ/F,QAAQwK,OAAW,EAAJ3N,KAGhCsO,EAAOtE,OAAO,QAAQN,KAAK,IAAKO,EAAQ,IAAIP,KAAK,IAAK,GAAGA,KAAK,KAAM,SAASgE,MAAM,cAAe,OAAOO,KAAK,SAAUhB,GACtH,OAAOA,IAGFvK,QAGTe,IAAK,WACL7C,MAAO,gBAGFmO,EA5IU,GA+InB1O,EAAQ8C,QAAU4L,IAEf/C,UAAU,EAAEuC,aAAa,GAAGC,YAAY,KAAKU,GAAG,SAASnP,EAAQU,EAAOJ,GAC3E,aA6BA,SAAS4C,EAAuB9B,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GA3BvFT,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAEIuF,EAAqBC,EAFrBlE,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAMfK,EAAad,EAFDlD,EAAQ,eAMpBoP,EAAalM,EAFDlD,EAAQ,gBAMpBqP,EAAcnM,EAFDlD,EAAQ,iBAMrBsP,EAAiBpM,EAFDlD,EAAQ,oBA6CxBuP,GAASjI,GAAO,EAzCRtH,EAAQ,qBAyCUc,qBAAqB,gBAAkByG,EAAS,SAAUpD,GAGtF,SAASoL,EAAMnL,GACb,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,gBAI3B,OAhDJ,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCA8C5GC,CAAgBhC,KAAM4M,GA5C1B,SAAoC1K,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EA8CvNwE,CAA2BpC,MAAO4M,EAAMvK,WAAarE,OAAOsE,eAAesK,IAAQhP,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KAgDhK,OA5FF,SAAmBW,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAkC/dI,CAAU+J,EA2DVvL,EAAWZ,SA9CXC,EAAakM,IACX7L,IAAK,SACL7C,MAAO,WAEL,IAAIkF,OAAUhE,EACd,OAAQY,KAAKC,KAAKiD,OAAO0D,MAAMiG,MAC7B,IAAK,MACHzJ,EAAU,IAAIqJ,EAAWhM,QAAQT,KAAK+C,SAASC,KAAKhD,KAAKC,MAAMgD,SAC/D,MACF,IAAK,OACHG,EAAU,IAAIsJ,EAAYjM,QAAQT,KAAK+C,SAASC,KAAKhD,KAAKC,MAAMgD,SAChE,MACF,IAAK,UACHG,EAAU,IAAIuJ,EAAelM,QAAQT,KAAK+C,SAASC,KAAKhD,KAAKC,MAAMgD,SAMvE,OAFAjD,KAAK+C,QAAQnB,SAASwB,QAAQM,YAEvBN,KAGTrC,IAAK,WACL7C,MAAO,iBAEP6C,IAAK,UACL7C,MAAO,SAAiB4O,EAAS5O,GAC/B,OAAS6O,GAAOvB,MAAS,UAAWD,KAAQuB,GAAWE,GAAOxB,MAAS,QAASD,KAAQrN,OAG1F6C,IAAK,cACL7C,MAAO,SAAqB2K,GAC1B,OAAOnK,MAAMuO,KAAK,IAAIvO,MAAMmK,GAAM,SAAUqE,EAAG5P,GAC7C,OAAOA,IACN6P,IAAI,SAAU3E,GACf,OAAOA,OAIXzH,IAAK,SACLwD,IAAK,WACH,OAAOhC,GAAG6K,kBAAkBhD,QAAQ,EAAG,MAAMiD,aAAa9K,GAAG+K,wBAI1DV,EA3DqE,GA/B9E,SAAmCvO,EAAQsB,EAAU8F,EAAYlH,EAAYmH,GAC3E,IAAIC,KACJ3H,OAAkB,KAAEO,GAAYkF,QAAQ,SAAU1C,GAChD4E,EAAK5E,GAAOxC,EAAWwC,KAEzB4E,EAAK/E,aAAe+E,EAAK/E,WACzB+E,EAAK9E,eAAiB8E,EAAK9E,cAEvB,UAAW8E,GAAQA,EAAKC,eAC1BD,EAAK7E,UAAW,GAGlB6E,EAAOF,EAAWI,QAAQC,UAAUC,OAAO,SAAUJ,EAAMK,GACzD,OAAOA,EAAU3H,EAAQsB,EAAUgG,IAASA,GAC3CA,GAECD,QAAgC,IAArBC,EAAKC,cAClBD,EAAKzH,MAAQyH,EAAKC,YAAcD,EAAKC,YAAYhI,KAAK8H,QAAW,EACjEC,EAAKC,iBAAcxG,QAGI,IAArBuG,EAAKC,cACP5H,OAA4B,eAAEK,EAAQsB,EAAUgG,GAChDA,EAAO,MAoEY,CAA2Bf,EAAOzD,UAAW,UAAWwD,GAAO3G,OAAOiI,yBAAyBrB,EAAOzD,UAAW,UAAWyD,EAAOzD,WAAayD,GACvKjH,EAAQ8C,QAAUmM,IAEf1G,oBAAoB,EAAEqH,cAAc,EAAEC,eAAe,EAAEC,kBAAkB,EAAE5B,aAAa,KAAK6B,IAAI,SAASrQ,EAAQU,EAAOJ,GAC5H,aAEAK,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAAIsB,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAIfK,EAEJ,SAAgC5C,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAFtE8B,CAFDlD,EAAQ,eAYpBsQ,EAAY,SAAUnM,GAGxB,SAASmM,EAAUlM,GACjB,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,iBAb/B,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCAe5GC,CAAgBhC,KAAM2N,GAEtB,IAAI1L,EAfR,SAAoCC,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EAelNwE,CAA2BpC,MAAO2N,EAAUtL,WAAarE,OAAOsE,eAAeqL,IAAY/P,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KAE3K,gBAAmB8L,EACjB,MAAM,IAAI5L,UAAU,oDAGtB,OADAE,EAAM2L,aACC3L,EA2CT,OA9DF,SAAmBO,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAG/dI,CAAU8K,EA4DVtM,EAAWZ,SAzCXC,EAAaiN,IACX5M,IAAK,MACL7C,MAAO,SAAa2P,GAElB,OADA7N,KAAK4N,UAAUE,KAAKD,GACb7N,QAGTe,IAAK,iBACL7C,MAAO,WAEL,IAAI6E,EAAU/C,KAAK+C,QACnBA,EAAQnB,SAAW5B,KAEnB,IAAIf,GAA4B,EAC5BC,GAAoB,EACpBC,OAAiBC,EAErB,IACE,IAAK,IAAmDC,EAA/CC,EAAYU,KAAK4N,UAAUrO,OAAOC,cAAsBP,GAA6BI,EAAQC,EAAUG,QAAQC,MAAOT,GAA4B,EAAM,CAChJI,EAAMnB,MAEZ+F,SAASlB,GAASC,KAAKhD,KAAKC,MAAMgD,UAE7C,MAAOpD,GACPX,GAAoB,EACpBC,EAAiBU,EACjB,QACA,KACOZ,GAA6BK,EAAUQ,QAC1CR,EAAUQ,SAEZ,QACA,GAAIZ,EACF,MAAMC,QAOTwO,EA5DO,GA+DhBhQ,EAAQ8C,QAAUkN,IAEf9B,aAAa,KAAKkC,IAAI,SAAS1Q,EAAQU,EAAOJ,GACjD,aA6BA,SAAS4C,EAAuB9B,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GA3BvFT,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAEIuF,EAAqBC,EAFrBlE,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAMfsF,EAAc/F,EAFDlD,EAAQ,gBAMrB2Q,EAAWzN,EAFDlD,EAAQ,aAMlB4Q,EAAa1N,EAFDlD,EAAQ,gBAMpB6Q,EAAY3N,EAFDlD,EAAQ,cA6CnB8Q,GAASxJ,GAAO,EAzCRtH,EAAQ,qBAyCUc,uBAAyByG,EAAS,SAAU8B,GAGxE,SAASyH,EAAM1M,GACb,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,iBA5C/B,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCA8C5GC,CAAgBhC,KAAMmO,GAEtB,IAAIlM,EA9CR,SAAoCC,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EA8ClNwE,CAA2BpC,MAAOmO,EAAM9L,WAAarE,OAAOsE,eAAe6L,IAAQvQ,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KAOnK,OALAI,EAAMiB,OAAS,IAAI8K,EAASvN,QAAQwB,EAAMc,SAC1Cd,EAAMmM,KAAO,IAAIH,EAAWxN,QAAQwB,EAAMc,SAC1Cd,EAAMoM,SAAW,IAAIH,EAAUzN,QAAQwB,EAAMc,SAC7Cd,EAAM4E,IAAI5E,EAAMoM,UAAUxH,IAAI5E,EAAMmM,MAAMvH,IAAI5E,EAAMiB,QACpDjB,EAAMmB,aAAUhE,EACT6C,EAiCT,OApFF,SAAmBO,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAkC/dI,CAAUsL,EAmDV7H,EAAY7F,SA/BZC,EAAayN,IACXpN,IAAK,SACL7C,MAAO,WACL,IAAIiJ,EAAS5E,GAAG8E,OAAOrH,KAAK+C,QAAQnB,UAEhC0M,EAAU,IAAMtO,KAAKC,KAAKiD,OAAOC,GAUrC,GATAnD,KAAKoD,QAAUb,GAAG8E,OAAO,OAASiH,GAE7BtO,KAAKoD,QAAQC,SAEhBrD,KAAKI,OAAOC,MAAM,mBAAqBiO,EAAU,QACjDtO,KAAKoD,QAAU+D,EAAOG,OAAO,OAAON,KAAK,QAAS,UAAUA,KAAK,KAAMsH,KAIpEtO,KAAKoD,QAAQC,OAChB,MAAM,IAAI7F,MAAM,yCAA2C8Q,EAAU,wBAOvE,OAJAtO,KAAKI,OAAOC,MAAM,kBAAoBiO,EAAU,QAEhDtO,KAAKqJ,iBAEErJ,QAGTe,IAAK,WACL7C,MAAO,gBAGFiQ,EAnDuD,GA/BhE,SAAmC9P,EAAQsB,EAAU8F,EAAYlH,EAAYmH,GAC3E,IAAIC,KACJ3H,OAAkB,KAAEO,GAAYkF,QAAQ,SAAU1C,GAChD4E,EAAK5E,GAAOxC,EAAWwC,KAEzB4E,EAAK/E,aAAe+E,EAAK/E,WACzB+E,EAAK9E,eAAiB8E,EAAK9E,cAEvB,UAAW8E,GAAQA,EAAKC,eAC1BD,EAAK7E,UAAW,GAGlB6E,EAAOF,EAAWI,QAAQC,UAAUC,OAAO,SAAUJ,EAAMK,GACzD,OAAOA,EAAU3H,EAAQsB,EAAUgG,IAASA,GAC3CA,GAECD,QAAgC,IAArBC,EAAKC,cAClBD,EAAKzH,MAAQyH,EAAKC,YAAcD,EAAKC,YAAYhI,KAAK8H,QAAW,EACjEC,EAAKC,iBAAcxG,QAGI,IAArBuG,EAAKC,cACP5H,OAA4B,eAAEK,EAAQsB,EAAUgG,GAChDA,EAAO,MA4Da,CAA2Bf,EAAOzD,UAAW,UAAWwD,GAAO3G,OAAOiI,yBAAyBrB,EAAOzD,UAAW,UAAWyD,EAAOzD,WAAayD,GACxKjH,EAAQ8C,QAAU0N,IAEfjI,oBAAoB,EAAEqI,WAAW,EAAEhF,cAAc,GAAGiF,cAAc,GAAGC,YAAY,KAAKC,IAAI,SAASrR,EAAQU,EAAOJ,GACrH,aA6BA,SAAS4C,EAAuB9B,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GA3BvFT,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAEIuF,EAAqBC,EAFrBlE,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAMfK,EAAad,EAFDlD,EAAQ,eAMpBsR,EAAgBpO,EAFDlD,EAAQ,mBAMvBqM,EAAYnJ,EAFDlD,EAAQ,cAMnBuR,EAAarO,EAFDlD,EAAQ,eA6CpBwR,GAASlK,GAAO,EAzCRtH,EAAQ,qBAyCUc,qBAAqB,gBAAkByG,EAAS,SAAUpD,GA+BtF,SAASqN,EAAMpN,GACb,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,gBAI3B,OA5EJ,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCA0E5GC,CAAgBhC,KAAM6O,GAxE1B,SAAoC3M,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EA0EvNwE,CAA2BpC,MAAO6O,EAAMxM,WAAarE,OAAOsE,eAAeuM,IAAQjR,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KA+ThK,OAvYF,SAAmBW,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAkC/dI,CAAUgM,EAsWVxN,EAAWZ,SApWXC,EAAamO,EAAO,OAClB9N,IAAK,YACL7C,MAAO,SAAmB2O,GACxB,MAAa,WAATA,EACKtK,GAAGuM,aACQ,UAATjC,EACFtK,GAAGwM,YACQ,YAATlC,EACFtK,GAAGyM,cACQ,WAATnC,EACFtK,GAAG0M,aACQ,aAATpC,EACFtK,GAAG2M,eACQ,SAATrC,EACFtK,GAAG4M,WACQ,QAATtC,EACFtK,GAAG6M,UAEH7M,GAAGuM,gBAId/N,IAAK,SACLwD,IAAK,WACH,OAAOhC,GAAG6K,kBAAkBhD,QAAQ,EAAG,MAAMiD,aAAa9K,GAAG+K,wBAejE5M,EAAamO,IACX9N,IAAK,SACL7C,MAAO,WAyLL,SAASmR,IACPC,EAAKtI,KAAK,KAAM,SAAUuD,GACxB,OAAOA,EAAEgF,OAAO/G,IACfxB,KAAK,KAAM,SAAUuD,GACtB,OAAOA,EAAEgF,OAAO7G,IACf1B,KAAK,KAAM,SAAUuD,GACtB,OAAOA,EAAElM,OAAOmK,IACfxB,KAAK,KAAM,SAAUuD,GACtB,OAAOA,EAAElM,OAAOqK,IAGlBrF,EAAK2D,KAAK,YAAa,SAAUuD,GAC/B,MAAO,aAAeA,EAAE/B,EAAI,IAAM+B,EAAE7B,EAAI,MAG1C8G,EAAMxI,KAAK,IAAK,SAAUuD,GACxB,OAAOA,EAAE/B,EAAI+B,EAAEiB,MAAM3N,OAAS+K,KAAK6G,KAAKlF,EAAEmF,KAAOnF,EAAEiB,MAAM3N,OAAS,KACjEmJ,KAAK,IAAK,SAAUuD,GACrB,OAAOA,EAAE7B,EAAIE,KAAK6G,KAAc,EAATlF,EAAEmF,QAG3BrM,EAAKsM,KAMP,SAAiBC,GACf,IAAIC,EAAWtN,GAAGuN,SAASC,GAC3B,OAAO,SAAUxF,GACf,IAAIyF,EAAK,IAAMzF,EAAEmF,KAAOvF,EACpB8F,EAAM1F,EAAE/B,EAAIwH,EACZE,EAAM3F,EAAE/B,EAAIwH,EACZG,EAAM5F,EAAE7B,EAAIsH,EACZI,EAAM7F,EAAE7B,EAAIsH,EAChBH,EAASQ,MAAM,SAAUC,EAAMC,EAAIC,EAAIC,EAAIC,GACzC,GAAIJ,EAAKK,OAASL,EAAKK,QAAUpG,EAAG,CAClC,IAAI/B,EAAI+B,EAAE/B,EAAI8H,EAAKK,MAAMnI,EACrBE,EAAI6B,EAAE7B,EAAI4H,EAAKK,MAAMjI,EACrBhL,EAAIkL,KAAK6G,KAAKjH,EAAIA,EAAIE,EAAIA,GAC1BhL,EAAIsS,IACNtS,GAAKA,EAAIsS,GAAMtS,EAAIkS,EACnBrF,EAAE/B,GAAKA,GAAK9K,EACZ6M,EAAE7B,GAAKA,GAAKhL,EACZ4S,EAAKK,MAAMnI,GAAKA,EAChB8H,EAAKK,MAAMjI,GAAKA,GAGpB,OAAO6H,EAAKL,GAAOO,EAAKR,GAAOO,EAAKJ,GAAOM,EAAKP,KA3B1CS,CAAQ,IA8CpB,SAASC,IAEP,SAASC,EAAY1T,EAAG2T,GACtB,OAAOC,EAAc5T,EAAEuN,MAAQ,IAAMoG,EAAEpG,OAGzC,GADApI,GAAG0E,MAAMgK,iBACM,IAAXC,EAAc,CAEhB,IAAI3G,EAAIhI,GAAG8E,OAAOrH,MAAMqD,OAAO8N,SAC/B9N,EAAK2H,MAAM,UAAW,SAAU9N,GAC9B,OAAO4T,EAAYvG,EAAGrN,IAAM4T,EAAY5T,EAAGqN,GAAK,EAAI,KAEtD+E,EAAKtE,MAAM,UAAW,SAAU9N,GAC9B,OAAOqN,EAAEI,QAAUzN,EAAEqS,OAAO5E,OAASJ,EAAEI,QAAUzN,EAAEmB,OAAOsM,MAAQ,EAAI,KAGxEuG,EAAS,OAGT7N,EAAK2H,MAAM,UAAW,GACtBsE,EAAKtE,MAAM,UAAW,GACtBkG,EAAS,EAIb,SAASE,EAAY7G,IACdhI,GAAG0E,MAAMoK,QAAUC,GAAoBC,GAC1CC,EAAWC,YAAY,KAAMC,UAE/BnH,EAAEoH,GAAKpH,EAAE/B,EACT+B,EAAEqH,GAAKrH,EAAE7B,EAGX,SAASmJ,EAAQtH,GACfA,EAAEoH,GAAKpP,GAAG0E,MAAMuB,EAChB+B,EAAEqH,GAAKrP,GAAG0E,MAAMyB,EAGlB,SAASoJ,EAAUvH,IACZhI,GAAG0E,MAAMoK,QAAUC,GAAoBC,GAC1CC,EAAWC,YAAY,GAEzBlH,EAAEoH,GAAK,KACPpH,EAAEqH,GAAK,KAGT,SAASG,EAAgB9R,EAAMgH,GACzBhH,EAAK+R,WACPhU,OAAOW,OAAOsB,EAAK+R,WAAWvO,QAAQ,SAAUwO,GAE9CA,EAAGC,UAAYjL,GAAShC,EAASjC,MAAOiC,SAAUgN,IAAM,GAAME,YA5SpE,IAAIhL,EAASnH,KAAK+C,QAAQnB,SAASwB,QAE/BmO,GAAc,EACd3H,EAAU,IAAIF,EAAUjJ,QAAQT,KAAK+C,SACrCqP,EAAc,IAAIzD,EAAclO,QAAQT,KAAK+C,SAC7CkC,EAAW,IAAI2J,EAAWnO,QAAQT,KAAK+C,SAEvCuO,EAAmBtR,KAAKC,KAAKiD,OAAOyD,MAAM6K,WAE1CzB,EAAc/P,KAAKC,KAAKiD,OAAOyD,MAAM0L,MAAQrU,OAAOW,OAAOqB,KAAKC,KAAKiD,OAAOyD,MAAM0L,UAClFC,EAActS,KAAKC,KAAKiD,OAAOyD,MAAM4L,MAAQvU,OAAOW,OAAOqB,KAAKC,KAAKiD,OAAOyD,MAAM4L,UAEtFvS,KAAKoD,QAAU+D,EAAOE,OAAO,oBAE7B,IAAIE,GAASJ,EAAOH,KAAK,UAAYzE,GAAG8E,OAAO,QAAQhE,OAAO2E,wBAAwBT,MAClFC,GAAUL,EAAOH,KAAK,WAAazE,GAAG8E,OAAO,QAAQhE,OAAO2E,wBAAwBR,OAEpFgL,EAAYxS,KAAKoD,QAAQsH,UAAU,kBAElC8H,EAAUnP,SACbmP,EAAYxS,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,iBAGrD,IAAIsI,EAAOkD,EAAU9H,UAAU,oBAAoBzK,KAAKqS,IAEpDhD,EAAKvE,QAAQ9K,OAAOpC,OAAS,GAAKyR,EAAKvE,QAAQ9K,OAAOpC,OAAS,KACjE0T,GAAc,GAGhBjC,EAAKzE,OAAOC,SAEZwE,EAAOA,EAAKvE,QAAQzD,OAAO,QAAQN,KAAK,QAAS,eAAeA,KAAK,KAAM,SAAUuD,GACnF,OAAOA,EAAEgF,OAAS,IAAMhF,EAAElM,SACzB2I,KAAK,KAAM,SAAUuD,GACtB,OAAOA,EAAEgF,OAAO/G,IACfxB,KAAK,KAAM,SAAUuD,GACtB,OAAOA,EAAEgF,OAAO7G,IACf1B,KAAK,KAAM,SAAUuD,GACtB,OAAOA,EAAElM,OAAOmK,IACfxB,KAAK,KAAM,SAAUuD,GACtB,OAAOA,EAAElM,OAAOqK,IACf0C,MAAMkE,GAE2B,aAAhCtP,KAAKC,KAAKiD,OAAOyD,MAAMkG,OAEzB1F,EAAOG,OAAO,QAAQoD,UAAU,UAAUzK,MAAM,UAAU8K,QAAQzD,OAAO,UAAUN,KAAK,QAAS,iBAAiBA,KAAK,KAAM,SAAUuD,GACrI,OAAOA,IACNvD,KAAK,UAAW,cAAcA,KAAK,OAAQ,IAAIA,KAAK,OAAQ,GAAGA,KAAK,cAAe,IAAIA,KAAK,eAAgB,IAAIA,KAAK,SAAU,QAAQM,OAAO,QAAQN,KAAK,IAAK,+BAEnKsI,EAAKtE,MAAM,aAAc,gBAG3B,IAAIyH,EAAYzS,KAAKoD,QAAQsH,UAAU,kBAElC+H,EAAUpP,SACboP,EAAYzS,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,iBAGrD,IAAI3D,EAAOoP,EAAU/H,UAAU,oBAAoBzK,KAAK8P,IAEpD1M,EAAKwH,OAAO5K,OAAOpC,OAAS,GAAKwF,EAAK0H,QAAQ9K,OAAOpC,OAAS,KAChE0T,GAAc,GAGhBlO,EAAKwH,OAAOC,SAEZzH,EAAOA,EAAK0H,QAAQzD,OAAO,QAAQ8D,MAAM/H,GAAM2D,KAAK,IAAKzE,GAAGmQ,SAAS7F,KAAK,SAAUtC,GAClF,OAAOsE,EAAM8D,UAAUpI,EAAEsC,QACxB6C,KAAK,SAAUnF,GAChB,OAAgB,IAATA,EAAEmF,QACP1I,KAAK,YAAa,SAAUuD,GAC9B,MAAO,aAAeA,EAAE/B,EAAI,IAAM+B,EAAE7B,EAAI,MACvCsC,MAAM,OAAQ,SAAUT,GACzB,OAAOsE,EAAM5D,OAAiB,EAAVV,EAAEqI,SACrB5L,KAAK,QAAS,SAAUuD,GACzB,MAAO,eAAiBA,EAAEsI,UAAY,oBAAsB,KAAO7U,OAAOW,OAAO4L,EAAEuI,OAAOjV,OAAS,kBAAoB,MACtHmJ,KAAK,KAAM,SAAUuD,GACtB,OAAOA,EAAEpH,KAGPnD,KAAKC,KAAKiD,OAAOyD,MAAMoM,MACzB1P,EAAKzF,KAAK2E,GAAGwQ,OAAOrL,GAAG,QAAS0J,GAAa1J,GAAG,OAAQmK,GAASnK,GAAG,MAAOoK,IAG7EzO,EAAKqE,GAAG,cAAe,SAAU6C,GAE/B6H,EAAYpP,KAAKuH,GAAG,GAAMtH,SAE1B8O,EAAgBnU,KAAKoC,KAAMuK,EAAG,iBAC7B7C,GAAG,QAAS,SAAU6C,GAEvBsG,EAAejT,KAAKoC,MAEpB+R,EAAgBnU,KAAKoC,KAAMuK,EAAG,WAC7B7C,GAAG,WAAY,SAAU6C,GAE1BwH,EAAgBnU,KAAKoC,KAAMuK,EAAG,cAC7B7C,GAAG,aAAc,SAAU6C,GAE5BX,EAAQ5G,KAAKuH,EAAE8D,UAAU,GAAMpL,WAC9ByE,GAAG,aAAc,WAElBkC,EAAQuB,aAGV,IAAI6H,EAAahT,KAAKoD,QAAQsH,UAAU,kBAEnCsI,EAAW3P,SACd2P,EAAahT,KAAKoD,QAAQkE,OAAO,KAAKN,KAAK,QAAS,kBAGtD,IAAIwI,EAAQwD,EAAWtI,UAAU,QAAQzK,KAAK8P,GAiC9C,GA/BAP,EAAM3E,OAAOC,UAEb0E,EAAQA,EAAMzE,QAAQzD,OAAO,QAAQ8D,MAAMoE,GAAOxI,KAAK,QAAS,gBAAgBuE,KAAK,SAAUhB,GAC7F,OAAOA,EAAEiB,QACRxE,KAAK,IAAK,SAAUuD,GACrB,OAAOA,EAAE/B,EAAI+B,EAAEiB,MAAM3N,OAAS+K,KAAK6G,KAAKlF,EAAEmF,KAAOnF,EAAEiB,MAAM3N,OAAS,KACjEmJ,KAAK,IAAK,SAAUuD,GACrB,OAAOA,EAAE7B,EAAIE,KAAK6G,KAAc,EAATlF,EAAEmF,SAGrBhI,GAAG,cAAe,SAAU6C,GAEhC6H,EAAYpP,KAAKuH,GAAG,GAAMtH,SAE1B8O,EAAgBnU,KAAKoC,KAAMuK,EAAG,iBAC7B7C,GAAG,QAAS,SAAU6C,GAEvBsG,EAAejT,KAAKoC,MAEpB+R,EAAgBnU,KAAKoC,KAAMuK,EAAG,WAC7B7C,GAAG,WAAY,SAAU6C,GAE1BwH,EAAgBnU,KAAKoC,KAAMuK,EAAG,cAC7B7C,GAAG,YAAa,SAAU6C,GAE3BX,EAAQ5G,KAAKuH,EAAE8D,UAAU,GAAMpL,WAC9ByE,GAAG,WAAY,WAEhBkC,EAAQuB,aAGNmG,EAAkB,CAGpB,IAAI2B,EAAc1Q,GAAG2Q,cAAc1K,EAAEjB,EAAQ,GAAGmB,EAAElB,EAAS,GACvD2L,EAAY5Q,GAAG6Q,gBAAgBC,SAA+B,IAArBtD,EAAYlS,QACrDyV,EAAY/Q,GAAGgR,UAAUjB,GAAanP,GAAG,SAAUoH,GACrD,OAAOA,EAAEpH,KACRqQ,SAAS,IACRC,EAAelR,GAAGmR,aAAa,SAAUnJ,GAC3C,OAAgB,EAATA,EAAEmF,OAIPiE,EAASpR,GAAGoR,OAAOpM,EAAQ,GAAG8L,SAAS,KAGvCO,EAASrR,GAAGqR,OAAOpM,EAAS,GAAG6L,SAAS,KAER,UAAhCrT,KAAKC,KAAKiD,OAAOyD,MAAMkG,OAEzB8G,EAASpR,GAAGoR,OAAOpM,EAAQ,GAAG8L,SAAS,IAEvCO,EAASrR,GAAGqR,OAAO,SAAUrJ,GAC3B,OAAiB,GAAVA,EAAEqI,QACRS,SAAS,IAGd,IAAI7B,EAAajP,GAAGsR,gBAAgB9D,GAAa+D,MAAM,SAAUX,GAAWW,MAAM,OAAQR,GAAWQ,MAAM,SAAUb,GAAaa,MAAM,IAAKH,GAAQG,MAAM,IAAKF,GAAQE,MAAM,UAAWL,GAAc/L,GAAG,OAAQ2H,GAAQ3H,GAAG,MAAO,WAElOP,EAAOzD,cAIT8N,EAAWE,eAGXvK,EAAOzD,YA8DT,IAAK,IAlCDyG,EAAU,GA8BV+G,EAAS,EAETF,KAEK1T,EAAI,EAAGA,EAAIyS,EAAYlS,OAAQP,IACtC0T,EAAc1T,EAAI,IAAMA,GAAK,EA8D/B,OA3DAgV,EAAY7O,QAAQ,SAAU8G,GAC5ByG,EAAczG,EAAEgF,OAAO5E,MAAQ,IAAMJ,EAAElM,OAAOsM,OAAS,IA0DlD3K,QAGTe,IAAK,WACL7C,MAAO,gBAGF2Q,EAtWqE,GA/B9E,SAAmCxQ,EAAQsB,EAAU8F,EAAYlH,EAAYmH,GAC3E,IAAIC,KACJ3H,OAAkB,KAAEO,GAAYkF,QAAQ,SAAU1C,GAChD4E,EAAK5E,GAAOxC,EAAWwC,KAEzB4E,EAAK/E,aAAe+E,EAAK/E,WACzB+E,EAAK9E,eAAiB8E,EAAK9E,cAEvB,UAAW8E,GAAQA,EAAKC,eAC1BD,EAAK7E,UAAW,GAGlB6E,EAAOF,EAAWI,QAAQC,UAAUC,OAAO,SAAUJ,EAAMK,GACzD,OAAOA,EAAU3H,EAAQsB,EAAUgG,IAASA,GAC3CA,GAECD,QAAgC,IAArBC,EAAKC,cAClBD,EAAKzH,MAAQyH,EAAKC,YAAcD,EAAKC,YAAYhI,KAAK8H,QAAW,EACjEC,EAAKC,iBAAcxG,QAGI,IAArBuG,EAAKC,cACP5H,OAA4B,eAAEK,EAAQsB,EAAUgG,GAChDA,EAAO,MA+WY,CAA2Bf,EAAOzD,UAAW,UAAWwD,GAAO3G,OAAOiI,yBAAyBrB,EAAOzD,UAAW,UAAWyD,EAAOzD,WAAayD,GACvKjH,EAAQ8C,QAAUoO,IAEf3I,oBAAoB,EAAE6N,aAAa,EAAEC,iBAAiB,GAAGnI,aAAa,GAAGC,YAAY,KAAKmI,IAAI,SAAS5W,EAAQU,EAAOJ,GACzH,aAEAK,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAEIuF,EAAqBC,EAFrBlE,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAMfkT,EAIJ,SAAgCzV,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAJ1E8B,CAFDlD,EAAQ,WA6ChB8W,GAAexP,GAAO,EAzCdtH,EAAQ,qBAyCgBc,qBAAqB,SAAWyG,EAAS,SAAUwP,GAGrF,SAASD,EAAY1S,GACnB,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,gBAI3B,OAhDJ,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCA8C5GC,CAAgBhC,KAAMmU,GA5C1B,SAAoCjS,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EA8CvNwE,CAA2BpC,MAAOmU,EAAY9R,WAAarE,OAAOsE,eAAe6R,IAAcvW,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KAkD5K,OA9FF,SAAmBW,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAkC/dI,CAAUsR,EA6DVD,EAAOzT,SAhDPC,EAAayT,IACXpT,IAAK,SACL7C,MAAO,WACL,IAAIgH,EAASlF,KAEbuC,GAAG0E,MAAMgK,iBAETjR,KAAKoD,QAAUpD,KAAKqU,WAAWhN,OAAO,kCAEjCrH,KAAKoD,QAAQC,SAChBrD,KAAKoD,QAAUpD,KAAKqU,WAAW/M,OAAO,OAAON,KAAK,QAAS,+BAG7D,IAAIsN,EAAM/R,GAAGgS,MAAMvU,KAAKwU,UAAUnR,QAQlC,GANArD,KAAKoD,QAAQ4H,MAAM,OAAQsJ,EAAI,GAAK,EAAI,MAAMtJ,MAAM,MAAOsJ,EAAI,GAAK,EAAI,MAGxEtU,KAAKoD,QAAQ4H,MAAM,UAAW,UAG1BhL,KAAKoD,QAAQsH,UAAU,KAAKrH,OAAhC,CAKAd,GAAG8E,OAAO,QAAQK,GAAG,4BAA6B,WAChD,OAAOxC,EAAOiG,aAIhB,IAAIiD,EAAOpO,KAAKoD,QAAQkE,OAAO,OAAON,KAAK,QAAS,uBAAuBM,OAAO,MAC9EmN,EAAgBzU,KAAKR,SAASxB,OAAOW,OAAOqB,KAAKC,KAAK6S,QAG1D,OAFA9S,KAAK0U,SAAStG,EAAMqG,GAEbzU,SAGTe,IAAK,WACL7C,MAAO,WACD8B,KAAKoD,UACPpD,KAAKoD,QAAQsH,UAAU,KAAKI,SAC5B9K,KAAKoD,QAAQ4H,MAAM,UAAW,WAK7BmJ,EA7DoE,GA/B7E,SAAmC9V,EAAQsB,EAAU8F,EAAYlH,EAAYmH,GAC3E,IAAIC,KACJ3H,OAAkB,KAAEO,GAAYkF,QAAQ,SAAU1C,GAChD4E,EAAK5E,GAAOxC,EAAWwC,KAEzB4E,EAAK/E,aAAe+E,EAAK/E,WACzB+E,EAAK9E,eAAiB8E,EAAK9E,cAEvB,UAAW8E,GAAQA,EAAKC,eAC1BD,EAAK7E,UAAW,GAGlB6E,EAAOF,EAAWI,QAAQC,UAAUC,OAAO,SAAUJ,EAAMK,GACzD,OAAOA,EAAU3H,EAAQsB,EAAUgG,IAASA,GAC3CA,GAECD,QAAgC,IAArBC,EAAKC,cAClBD,EAAKzH,MAAQyH,EAAKC,YAAcD,EAAKC,YAAYhI,KAAK8H,QAAW,EACjEC,EAAKC,iBAAcxG,QAGI,IAArBuG,EAAKC,cACP5H,OAA4B,eAAEK,EAAQsB,EAAUgG,GAChDA,EAAO,MAsEQ,CAA2Bf,EAAOzD,UAAW,UAAWwD,GAAO3G,OAAOiI,yBAAyBrB,EAAOzD,UAAW,UAAWyD,EAAOzD,WAAayD,GACnKjH,EAAQ8C,QAAU0T,IAEfjO,oBAAoB,EAAEyO,SAAS,KAAKC,IAAI,SAASvX,EAAQU,EAAOJ,GACnE,aAiBA,SAAS4C,EAAuB9B,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAfvFT,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAAIsB,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAIfkT,EAAS3T,EAFDlD,EAAQ,WAMhBwX,EAAetU,EAFDlD,EAAQ,kBAgBtByX,EAAW,SAAUV,GAGvB,SAASU,EAASrT,GAChB,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,gBAI3B,OArBJ,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCAmB5GC,CAAgBhC,KAAM8U,GAjB1B,SAAoC5S,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EAmBvNwE,CAA2BpC,MAAO8U,EAASzS,WAAarE,OAAOsE,eAAewS,IAAWlX,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KA0DtK,OA3EF,SAAmBW,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAO/dI,CAAUiS,EAqEVZ,EAAOzT,SAxDPC,EAAaoU,IACX/T,IAAK,SACL7C,MAAO,WACL,IAAIgH,EAASlF,KAETmH,EAASnH,KAAK+C,QAAQnB,SAASwB,QAE/B2R,EAAa,IAAIF,EAAapU,QAAQT,KAAK+C,SAG3CiS,EAAS,YAAchV,KAAKC,KAAKiD,OAAOC,GAC5CnD,KAAKoD,QAAUb,GAAG8E,OAAO,IAAM2N,GAG1BhV,KAAKoD,QAAQC,SAEhBrD,KAAKI,OAAOC,MAAM,uBAAyB2U,EAAS,QACpDhV,KAAKoD,QAAU+D,EAAOG,OAAO,OAAON,KAAK,QAAS,2BAA2BA,KAAK,KAAMgO,IAI1FhV,KAAKoD,QAAQsH,UAAU,KAAKI,SAE5B9K,KAAKoD,QAAUpD,KAAKoD,QAAQkE,OAAO,MAAMN,KAAK,QAAS,oBAEnDhH,KAAKC,KAAKiD,OAAOsI,OACnBxL,KAAKoD,QAAQkE,OAAO,MAAMN,KAAK,QAAS,gBAAgBM,OAAO,KAAK2N,KAAKjV,KAAKC,KAAKiD,OAAOsI,OAG5F,IAAI0J,EAAQlV,KAAKoD,QAAQkE,OAAO,MAChC4N,EAAM5N,OAAO,KAAK2N,KAAK,UACvB,IAAIlO,EAAUmO,EAAM5N,OAAO,MACvBtH,KAAKC,KAAKiD,OAAOQ,WACnBqD,EAAQO,OAAO,MAAMA,OAAO,KAAKI,GAAG,QAAS,WAC3C,OAAOxC,EAAOnC,QAAQnB,SAASsB,OAAOQ,cACrCsD,KAAK,QAAS,eAAeiO,KAAK,eAGvClO,EAAQO,OAAO,MAAMA,OAAO,KAAKI,GAAG,QAAS,WAC3C,OAAOqN,EAAW/R,KAAKkC,EAAOjF,MAAMgD,WACnC+D,KAAK,QAAS,SAASiO,KAAK,SAG/B,IAAIR,EAAgBzU,KAAKR,SAASxB,OAAOW,OAAOqB,KAAKC,KAAKiD,OAAO4P,QAKjE,OAJA9S,KAAK0U,SAAS1U,KAAKoD,QAASqR,GAE5BzU,KAAKI,OAAOC,MAAM,sBAAwB2U,EAAS,QAE5ChV,QAGTe,IAAK,WACL7C,MAAO,gBAGF4W,EArEM,GAwEfnX,EAAQ8C,QAAUqU,IAEfH,SAAS,GAAGQ,gBAAgB,KAAKC,IAAI,SAAS/X,EAAQU,EAAOJ,GAChE,aAiBA,SAAS4C,EAAuB9B,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAfvFT,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAAIsB,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAIfK,EAAad,EAFDlD,EAAQ,eAMpBuR,EAAarO,EAFDlD,EAAQ,eAYpBgY,EAAO,SAAU7T,GAGnB,SAAS6T,EAAK5T,GACZ,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,gBAI3B,OAjBJ,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCAe5GC,CAAgBhC,KAAMqV,GAb1B,SAAoCnT,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EAevNwE,CAA2BpC,MAAOqV,EAAKhT,WAAarE,OAAOsE,eAAe+S,IAAOzX,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KA0C9J,OAvDF,SAAmBW,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAG/dI,CAAUwS,EAqDVhU,EAAWZ,SAxCXC,EAAa2U,IACXtU,IAAK,WACL7C,MAAO,SAAkB0D,EAAU6S,GAGjC,IAFA,IAAIvP,EAASlF,KAENyU,EAAca,WAAW,CAC9B,IAAIC,EAAWd,EAAchV,OACzByV,EAAQtT,EAAS0F,OAAO,MACxBkO,EAASN,EAAMxK,UAAU,KAAKzK,MAAMsV,IAAWxK,QAAQzD,OAAO,KAAKN,KAAK,QAASuO,EAAS/J,OAAOyJ,KAAKM,EAAS/J,OAMnH,GALI+J,EAAStQ,UAAYjH,OAAOW,OAAO4W,EAAStQ,UAAUpH,QACxD2X,EAAO9N,GAAG,QAAS,SAAU6C,GAC3B,OAAO,IAAIqE,EAAWnO,QAAQyE,EAAOnC,SAASC,KAAKuH,GAAG,GAAM4H,YAG5DoD,EAASzC,OAAS9U,OAAOW,OAAO4W,EAASzC,OAAOjV,OAAS,EAAG,CAC9D,IAAIkJ,EAAUmO,EAAM5N,OAAO,MACvBmO,EAAmBzV,KAAKR,SAASxB,OAAOW,OAAO4W,EAASzC,QAC5D9S,KAAK0U,SAAS3N,EAAS0O,QAK7B1U,IAAK,WACL7C,MAAO,SAAkBwX,GACvB,IAAIC,EAAY,EAChB,OACElW,KAAM,WACJ,OAAOO,KAAKsV,UAAYI,EAAMC,UAAevW,GAE/CkW,QAAS,WACP,OAAOK,EAAYD,EAAM7X,YAK/BkD,IAAK,WACL7C,MAAO,gBAGFmX,EArDE,GAwDX1X,EAAQ8C,QAAU4U,IAEftB,aAAa,EAAElI,aAAa,KAAK+J,IAAI,SAASvY,EAAQU,EAAOJ,GAChE,aAEAK,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAEIuF,EAAqBC,EAFrBlE,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAMfK,EAIJ,SAAgC5C,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAJtE8B,CAFDlD,EAAQ,eA6CpBwY,GAAWlR,GAAO,EAzCVtH,EAAQ,qBAyCYc,qBAAqB,mBAAqByG,EAAS,SAAUpD,GAG3F,SAASqU,EAAQpU,GACf,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,gBAI3B,OAhDJ,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCA8C5GC,CAAgBhC,KAAM6V,GA5C1B,SAAoC3T,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EA8CvNwE,CAA2BpC,MAAO6V,EAAQxT,WAAarE,OAAOsE,eAAeuT,IAAUjY,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KAgDpK,OA5FF,SAAmBW,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAkC/dI,CAAUgT,EA2DVxU,EAAWZ,SA9CXC,EAAamV,IACX9U,IAAK,SACL7C,MAAO,WACL,IAAIgH,EAASlF,KAETmH,EAASnH,KAAK+C,QAAQnB,SAASwB,QAE/BiL,EAAWrQ,OAAOmH,KAAKnF,KAAKC,KAAKiD,OAAOmL,UAAUlB,IAAI,SAAUpM,GAClE,OACEoC,GAAIpC,EACJ8L,KAAM3H,EAAOjF,KAAKiD,OAAOmL,SAAStN,GAAK8L,KACvCrB,MAAOtG,EAAOjF,KAAKiD,OAAOmL,SAAStN,GAAKyK,MACxCD,KAAMrG,EAAOjF,KAAKiD,OAAOmL,SAAStN,GAAKwK,QAIvCuK,EAAW,YAAc9V,KAAKC,KAAKiD,OAAOC,GAC9CnD,KAAKoD,QAAUb,GAAG8E,OAAO,IAAMyO,GAE1B9V,KAAKoD,QAAQC,SAChBrD,KAAKoD,QAAU+D,EAAOG,OAAO,OAAON,KAAK,QAAS,yBAAyBA,KAAK,KAAM8O,IAGxF,IAAI5T,EAAOlC,KAeX,OAdAqO,EAASlB,IAAI,SAAU5C,GAErB,IAAKrI,EAAKkB,QAAQiE,OAAO,OAASkD,EAAEpH,IAAIE,OAAQ,CAC9C,IAAI0S,EAAM7T,EAAKkB,QAAQkE,OAAO,OAAON,KAAK,KAAMuD,EAAEpH,IAAI6D,KAAK,QAAS,sBAAwBuD,EAAEsC,MAAMnF,GAAG,QAAS,WAC9GnF,GAAG8E,OAAOrH,MAAMgL,MAAM,UAAW,UAEnC+K,EAAIzO,OAAO,QAAQN,KAAK,QAAS,UAAUuE,KAAKhB,EAAEiB,OAClDuK,EAAIzO,OAAO,QAAQiE,KAAKhB,EAAEgB,MAC1BwK,EAAIzO,OAAO,QAAQN,KAAK,QAAS,UAAUgE,MAAM,UAAW,QAAQO,KAAK,QAI7EvL,KAAKoD,QAAQ4H,MAAM,UAAW,SAEvBhL,QAGTe,IAAK,WACL7C,MAAO,gBAGF2X,EA3D0E,GA/BnF,SAAmCxX,EAAQsB,EAAU8F,EAAYlH,EAAYmH,GAC3E,IAAIC,KACJ3H,OAAkB,KAAEO,GAAYkF,QAAQ,SAAU1C,GAChD4E,EAAK5E,GAAOxC,EAAWwC,KAEzB4E,EAAK/E,aAAe+E,EAAK/E,WACzB+E,EAAK9E,eAAiB8E,EAAK9E,cAEvB,UAAW8E,GAAQA,EAAKC,eAC1BD,EAAK7E,UAAW,GAGlB6E,EAAOF,EAAWI,QAAQC,UAAUC,OAAO,SAAUJ,EAAMK,GACzD,OAAOA,EAAU3H,EAAQsB,EAAUgG,IAASA,GAC3CA,GAECD,QAAgC,IAArBC,EAAKC,cAClBD,EAAKzH,MAAQyH,EAAKC,YAAcD,EAAKC,YAAYhI,KAAK8H,QAAW,EACjEC,EAAKC,iBAAcxG,QAGI,IAArBuG,EAAKC,cACP5H,OAA4B,eAAEK,EAAQsB,EAAUgG,GAChDA,EAAO,MAoEY,CAA2Bf,EAAOzD,UAAW,UAAWwD,GAAO3G,OAAOiI,yBAAyBrB,EAAOzD,UAAW,UAAWyD,EAAOzD,WAAayD,GACvKjH,EAAQ8C,QAAUoV,IAEf3P,oBAAoB,EAAE2F,aAAa,KAAKmK,IAAI,SAAS3Y,EAAQU,EAAOJ,GACvE,aAEAK,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAAIsB,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAIfK,EAEJ,SAAgC5C,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAFtE8B,CAFDlD,EAAQ,eAcpB4Y,EAAa,SAAUzU,GAGzB,SAASyU,EAAWxU,GAClB,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,gBAI3B,OAnBJ,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCAiB5GC,CAAgBhC,KAAMiW,GAf1B,SAAoC/T,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EAiBvNwE,CAA2BpC,MAAOiW,EAAW5T,WAAarE,OAAOsE,eAAe2T,IAAarY,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KAiF1K,OAhGF,SAAmBW,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAK/dI,CAAUoT,EA4FV5U,EAAWZ,SA/EXC,EAAauV,IACXlV,IAAK,SACL7C,MAAO,WACL,IAAIgY,EAAU,mBAEdlW,KAAKI,OAAOC,MAAM,yBAA2B6V,EAAU,QAGvD,IAAIC,EAAU5T,GAAG8E,OAAO,QAAQC,OAAO,OAAON,KAAK,QAAS,kBACxDoP,EAAS7T,GAAG8E,OAAO,QAAQC,OAAO,OAAON,KAAK,QAAS,UAC3DhH,KAAKoD,QAAUgT,EAAO9O,OAAO,OAAON,KAAK,KAAMkP,GAASlP,KAAK,QAAS,gBAEtE,IAAIqP,EAAOrW,KAAKoD,QAAQkE,OAAO,QAElB+O,EAAK/O,OAAO,OAAON,KAAK,QAAS,uBAEvCM,OAAO,QAAQ2N,KAAK,kBAAoBjV,KAAKC,KAAKqW,SAAW,QAEpE,IAAIvP,EAAUsP,EAAK/O,OAAO,OAAON,KAAK,QAAS,wBAAwBM,OAAO,OAAON,KAAK,QAAS,gBAAgBM,OAAO,OAAON,KAAK,QAAS,qBAE/ID,EAAQO,OAAO,QAAQiE,KAAK,kBAC5BxE,EAAQO,OAAO,OAAON,KAAK,QAAS,UAAUiO,KAAKjV,KAAKuW,gBAAgBhR,KAAKC,UAAUxF,KAAKC,KAAKiD,OAAQ,KAAM,KAC/G6D,EAAQO,OAAO,QAAQA,OAAO,KAAKN,KAAK,OAAQ,uCAAuCuE,KAAK,oBAE/E8K,EAAK/O,OAAO,OAAON,KAAK,QAAS,uBAEvCM,OAAO,UAAUiE,KAAK,MAAM7D,GAAG,QAAS,WAK7C,OAJA1H,KAAKoD,QAAQ0H,SACbsL,EAAOtL,SACPqL,EAAQrL,SACRvI,GAAG0E,MAAMgK,kBACF,IAIT,IACEuF,QAAQC,iBAAiBC,gBAAgB,WACzCF,QAAQC,iBAAiBC,gBAAgB,eACzCF,QAAQC,iBAAiBC,gBAAgB,mBACzCF,QAAQC,iBAAiBC,gBAAgB,iBACzC,MAAO7Z,GACO,kBAAVA,EAAEyB,MACJ4D,KAAK9B,OAAOC,MAAM,2CAA6CxD,GAMnE,OAFAmD,KAAKI,OAAOC,MAAM,2BAA6B6V,EAAU,QAElDlW,QAGTe,IAAK,WACL7C,MAAO,eAKP6C,IAAK,kBACL7C,MAAO,SAAyBkG,GAE9B,OADAA,EAAOA,EAAKuS,QAAQ,KAAM,SAASA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,SAC3DA,QAAQ,sGAAuG,SAAUC,GACnI,IAAIC,EAAM,SAYV,MAXI,KAAKC,KAAKF,GAEVC,EADE,KAAKC,KAAKF,GACN,MAEA,SAEC,aAAaE,KAAKF,GAC3BC,EAAM,UACG,OAAOC,KAAKF,KACrBC,EAAM,QAED,gBAAkBA,EAAM,KAAOD,EAAQ,gBAK7CX,EA5FQ,GA+FjBtY,EAAQ8C,QAAUwV,IAEfpK,aAAa,KAAKkL,IAAI,SAAS1Z,EAAQU,EAAOJ,GACjD,aAEAK,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAAIsB,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAIfK,EAEJ,SAAgC5C,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAFtE8B,CAFDlD,EAAQ,eAcpB2Z,EAAoB,SAAUxV,GAGhC,SAASwV,EAAkBvV,GACzB,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,gBAI3B,OAnBJ,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCAiB5GC,CAAgBhC,KAAMgX,GAf1B,SAAoC9U,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EAiBvNwE,CAA2BpC,MAAOgX,EAAkB3U,WAAarE,OAAOsE,eAAe0U,IAAoBpZ,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KA+GxL,OA9HF,SAAmBW,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAK/dI,CAAUmU,EA0HV3V,EAAWZ,SA7GXC,EAAasW,IACXjW,IAAK,SACL7C,MAAO,WACL,IAAIgE,EAAOlC,KAEPkW,EAAUlW,KAAKC,KAAKgF,SAAS9B,GAEjCnD,KAAKI,OAAOC,MAAM,4BAA8B6V,EAAU,QAG1D,IAAIC,EAAU5T,GAAG8E,OAAO,QAAQC,OAAO,OAAON,KAAK,QAAS,kBACxDoP,EAAS7T,GAAG8E,OAAO,QAAQC,OAAO,OAAON,KAAK,QAAS,UAC3DhH,KAAKoD,QAAUgT,EAAO9O,OAAO,OAAON,KAAK,KAAMkP,GAASlP,KAAK,QAAS,gBAEtE,IAAIqP,EAAOrW,KAAKoD,QAAQkE,OAAO,QAI3B2P,EAFSZ,EAAK/O,OAAO,OAAON,KAAK,QAAS,uBAErBM,OAAO,QAAQ2N,KAAK,4BACzCjV,KAAKC,KAAKuL,OACZyL,EAAY3P,OAAO,QAAQN,KAAK,QAAS,sBAAsBuE,KAAK,OAASvL,KAAKC,KAAKuL,OAGzF,IAAIzE,EAAUsP,EAAK/O,OAAO,OAAON,KAAK,QAAS,wBAAwBM,OAAO,OAAON,KAAK,QAAS,gBAAgBM,OAAO,OAAON,KAAK,QAAS,qBAE3I/H,GAA4B,EAC5BC,GAAoB,EACpBC,OAAiBC,EAErB,IACE,IAAK,IAAmFC,EAA/EC,EAAYtB,OAAOW,OAAOqB,KAAKC,KAAKgF,SAASG,cAAc7F,OAAOC,cAAsBP,GAA6BI,EAAQC,EAAUG,QAAQC,MAAOT,GAA4B,EAAM,CAC/L,IAAIiY,EAAM7X,EAAMnB,MAEZ6X,EAAMhP,EAAQO,OAAO,OAAON,KAAK,QAAS,oBAC9C+O,EAAIzO,OAAO,OAAON,KAAK,QAAS,qBAAqBM,OAAO,SAASN,KAAK,MAAOkQ,EAAI/T,IAAIoI,KAAK2L,EAAI1L,OAClG,IAAI2L,EAAQpB,EAAIzO,OAAO,OAAON,KAAK,QAAS,qBAAqBM,OAAO,SAASN,KAAK,KAAMkQ,EAAI/T,IAAI6D,KAAK,QAAS,cAAcA,KAAK,WAAY,IAAIA,KAAK,OAAQkQ,EAAI/T,IAAI6D,KAAK,OAAQkQ,EAAIrK,MAAM7F,KAAK,QAASkQ,EAAIhZ,OAAOwJ,GAAG,SAAU,WACrOxF,EAAKjC,KAAKgF,SAASG,aAAapF,KAAKmD,IAAIjF,MAAQ8B,KAAK9B,QACrDwJ,GAAG,QAAS1H,KAAKoX,UAAU1P,GAAG,QAAS1H,KAAKoX,UAAU1P,GAAG,QAAS1H,KAAKoX,UAEzD,YAAbF,EAAIrK,OAINqK,EAAIhZ,MAAQgZ,EAAIhZ,QAAS,EACzBiZ,EAAMnQ,KAAK,OAAQ,YAAYA,KAAK,WAAY,MAAMA,KAAK,QAASkQ,EAAIhZ,OAAOwJ,GAAG,SAAU,WAC1FxF,EAAKjC,KAAKgF,SAASG,aAAapF,KAAKmD,IAAIjF,MAAQ8B,KAAK9B,MAAQ8B,KAAKqX,WAGvEtB,EAAIzO,OAAO,QAAQN,KAAK,QAAS,aAEnC,MAAOnH,GACPX,GAAoB,EACpBC,EAAiBU,EACjB,QACA,KACOZ,GAA6BK,EAAUQ,QAC1CR,EAAUQ,SAEZ,QACA,GAAIZ,EACF,MAAMC,GAKZ,IAAImY,EAASjB,EAAK/O,OAAO,OAAON,KAAK,QAAS,uBAE9CsQ,EAAOhQ,OAAO,UAAUiE,KAAK,MAAM7D,GAAG,QAAS,WAQ7C,OAPI2O,EAAKhT,OAAOkU,kBACdhV,GAAG0E,MAAMgK,iBACT/O,EAAKa,QAAQlB,gBAAgBK,EAAKjC,KAAKgF,UACvCkR,EAAQrL,SACR5I,EAAKkB,QAAQ0H,SACbsL,EAAOtL,WAEF,IAETwM,EAAOhQ,OAAO,UAAUiE,KAAK,UAAU7D,GAAG,QAAS,WAKjD,OAJAyO,EAAQrL,SACR5I,EAAKkB,QAAQ0H,SACbsL,EAAOtL,SACPvI,GAAG0E,MAAMgK,kBACF,IAIT,IACEuF,QAAQC,iBAAiBC,gBAAgB,WACzCF,QAAQC,iBAAiBC,gBAAgB,eACzCF,QAAQC,iBAAiBC,gBAAgB,mBACzCF,QAAQC,iBAAiBC,gBAAgB,iBACzC,MAAO7Z,GACO,kBAAVA,EAAEyB,MACJ4D,EAAK9B,OAAOC,MAAM,2CAA6CxD,GAQnE,OAJAkK,EAAQ2D,UAAU,eAAerH,OAAOmU,QAExCxX,KAAKI,OAAOC,MAAM,2BAA6B6V,EAAU,QAElDlW,QAGTe,IAAK,WACL7C,MAAO,gBAGF8Y,EA1He,GA6HxBrZ,EAAQ8C,QAAUuW,IAEfnL,aAAa,KAAK4L,IAAI,SAASpa,EAAQU,EAAOJ,GACjD,aAEAK,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAAIsB,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAIf6D,EAEJ,SAAgCpG,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAF1E8B,CAFDlD,EAAQ,WAchBqa,EAAW,SAAU1S,GAGvB,SAAS0S,EAASjW,GAChB,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,iBAf/B,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCAiB5GC,CAAgBhC,KAAM0X,GAEtB,IAAIzV,EAjBR,SAAoCC,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EAiBlNwE,CAA2BpC,MAAO0X,EAASrV,WAAarE,OAAOsE,eAAeoV,IAAW9Z,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KAEzK,gBAAmB6V,EACjB,MAAM,IAAI3V,UAAU,mDAEtB,QAAqB3C,IAAjB6C,EAAMgB,QAAgD,mBAAjBhB,EAAMgB,OAC7C,MAAM,IAAIlB,UAAU,oCAMtB,YAJuB3C,IAAnB6C,EAAMkJ,UACRlJ,EAAM7B,OAAOC,MAAM,uCAErB4B,EAAMmB,aAAUhE,EACT6C,EAeT,OA1CF,SAAmBO,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAK/dI,CAAU6U,EAsCV7S,EAAOpE,SAbPC,EAAagX,IACX3W,IAAK,aACLwD,IAAK,WACH,MAAsE,QAA/DvE,KAAK+C,QAAQnB,SAASwB,QAAQC,OAAOsU,QAAQC,cAA0BrV,GAAG8E,OAAOrH,KAAK+C,QAAQnB,SAASwB,QAAQC,OAAOwU,YAAc7X,KAAK+C,QAAQnB,SAASwB,WAGnKrC,IAAK,YACLwD,IAAK,WACH,MAAsE,QAA/DvE,KAAK+C,QAAQnB,SAASwB,QAAQC,OAAOsU,QAAQC,cAA0B5X,KAAK+C,QAAQnB,SAASwB,QAAQiE,OAAO,OAASrH,KAAK+C,QAAQnB,SAASwB,YAI/IsU,EAtCM,GAyCf/Z,EAAQ8C,QAAUiX,IAEfvR,SAAS,IAAI2R,IAAI,SAASza,EAAQU,EAAOJ,GAC5C,aAEAK,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAETP,EAAQ8C,aAAUrB,EAElB,IAEIuF,EAAqBC,EAFrBlE,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAMfK,EAIJ,SAAgC5C,GAAO,OAAOA,GAAOA,EAAI+B,WAAa/B,GAAQgC,QAAShC,GAJtE8B,CAFDlD,EAAQ,eA6CpB0a,GAAWpT,GAAO,EAzCVtH,EAAQ,qBAyCYc,uBAAyByG,EAAS,SAAUpD,GAG1E,SAASuW,EAAQtW,GACf,IAAIC,EAAeD,EAAKE,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,EAC/CE,EAAWH,EAAKG,SAChBC,EAAkBJ,EAAKI,gBAI3B,OAhDJ,SAAyBC,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCA8C5GC,CAAgBhC,KAAM+X,GA5C1B,SAAoC7V,EAAMtE,GAAQ,IAAKsE,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvE,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsE,EAAPtE,EA8CvNwE,CAA2BpC,MAAO+X,EAAQ1V,WAAarE,OAAOsE,eAAeyV,IAAUna,KAAKoC,MAAQ2B,QAASA,EAASC,SAAUA,EAAUC,gBAAiBA,KA8CpK,OA1FF,SAAmBW,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIV,UAAU,kEAAoEU,GAAeD,EAASrB,UAAYnD,OAAO0E,OAAOD,GAAcA,EAAWtB,WAAawB,aAAezE,MAAOsE,EAAU5B,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe4B,IAAYzE,OAAO4E,eAAiB5E,OAAO4E,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAkC/dI,CAAUkV,EAyDV1W,EAAWZ,SA5CXC,EAAaqX,IACXhX,IAAK,SACL7C,MAAO,WAEL8B,KAAKoD,QAAUpD,KAAKqU,WAAWhN,OAAO,6BAEjCrH,KAAKoD,QAAQC,SAChBrD,KAAKoD,QAAUpD,KAAKqU,WAAW/M,OAAO,OAAON,KAAK,QAAS,0BAG7D,IAAIsN,EAAM/R,GAAGgS,MAAMvU,KAAKwU,UAAUnR,QAMlC,GAHArD,KAAKoD,QAAQ4H,MAAM,OAAQsJ,EAAI,GAAK,MAAMtJ,MAAM,MAAOsJ,EAAI,GAAK,OAG5DtU,KAAKoD,QAAQsH,UAAU,KAAKrH,OAAhC,CAIA,IAAI2U,EAAQhY,KAAKoD,QAAQkE,OAAO,OAAON,KAAK,QAAS,kBAAkBM,OAAO,OAAON,KAAK,QAAS,gBAAgBM,OAAO,OAAON,KAAK,QAAS,qBAC3I9E,EAAOlC,KACXhC,OAAOmH,KAAKnF,KAAKC,MAAMkN,IAAI,SAAUpM,GACnC,IAAIgV,EAAMiC,EAAM1Q,OAAO,OAAON,KAAK,QAAS,oBAC5C+O,EAAIzO,OAAO,OAAON,KAAK,QAAS,qBAAqBuE,KAAKrJ,EAAKjC,KAAKc,GAAKyK,OACzEuK,EAAIzO,OAAO,OAAON,KAAK,QAAS,qBAAqBuE,KAAKrJ,EAAKjC,KAAKc,GAAKwK,QAI3EvL,KAAKoD,QAAQ4H,MAAM,UAAW,aAKhCjK,IAAK,WACL7C,MAAO,WACD8B,KAAKoD,UACPpD,KAAKoD,QAAQsH,UAAU,KAAKI,SAC5B9K,KAAKoD,QAAQ4H,MAAM,UAAW,WAK7B+M,EAzDyD,GA/BlE,SAAmC1Z,EAAQsB,EAAU8F,EAAYlH,EAAYmH,GAC3E,IAAIC,KACJ3H,OAAkB,KAAEO,GAAYkF,QAAQ,SAAU1C,GAChD4E,EAAK5E,GAAOxC,EAAWwC,KAEzB4E,EAAK/E,aAAe+E,EAAK/E,WACzB+E,EAAK9E,eAAiB8E,EAAK9E,cAEvB,UAAW8E,GAAQA,EAAKC,eAC1BD,EAAK7E,UAAW,GAGlB6E,EAAOF,EAAWI,QAAQC,UAAUC,OAAO,SAAUJ,EAAMK,GACzD,OAAOA,EAAU3H,EAAQsB,EAAUgG,IAASA,GAC3CA,GAECD,QAAgC,IAArBC,EAAKC,cAClBD,EAAKzH,MAAQyH,EAAKC,YAAcD,EAAKC,YAAYhI,KAAK8H,QAAW,EACjEC,EAAKC,iBAAcxG,QAGI,IAArBuG,EAAKC,cACP5H,OAA4B,eAAEK,EAAQsB,EAAUgG,GAChDA,EAAO,MAkEY,CAA2Bf,EAAOzD,UAAW,UAAWwD,GAAO3G,OAAOiI,yBAAyBrB,EAAOzD,UAAW,UAAWyD,EAAOzD,WAAayD,GACvKjH,EAAQ8C,QAAUsX,IAEf7R,oBAAoB,EAAE2F,aAAa,KAAKoM,IAAI,SAAS5a,EAAQU,EAAOJ,GACvE,aAEAK,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAGT,IAAIwC,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAOfkX,EAAY,WACd,SAASA,KANX,SAAyBpW,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCAO5GC,CAAgBhC,KAAMkY,GAwCxB,OArCAxX,EAAawX,EAAW,OACtBnX,IAAK,QAQL7C,MAAO,SAAeiZ,EAAO9S,GAC3B,GAAK8S,EAAL,CAIAA,GADAA,EAAyB,iBAAVA,EAAqB5R,KAAKC,UAAU2R,GAASA,GAC9CR,QAAQ,sBAAuB,IAC7C,IACIC,EADY,cACMuB,KAAKhB,GAC3B,GAAIP,EAAO,CACTO,EAAQP,EAAM,GACd,IACE,IAAIxS,EAAOmB,KAAKjB,MAAM6S,GACtB,OAAO/S,EAAKgU,OAASF,EAAUG,MAAQhU,EAAUD,OAAOhF,EACxD,MAAOvC,GAEPyb,QAAQC,MAAM1b,SAOpBkE,IAAK,OACLwD,IAAK,WACH,MAAO,kCAIJ2T,EA1CO,GA6ChBva,EAAQ8C,QAAUyX,OAEZM,IAAI,SAASnb,EAAQU,EAAOJ,GAClC,aAEAK,OAAOC,eAAeN,EAAS,cAC7BO,OAAO,IAGT,IAAIwC,EAAe,WAAc,SAASC,EAAiBtC,EAAQD,GAAS,IAAK,IAAId,EAAI,EAAGA,EAAIc,EAAMP,OAAQP,IAAK,CAAE,IAAIiB,EAAaH,EAAMd,GAAIiB,EAAWqC,WAAarC,EAAWqC,aAAc,EAAOrC,EAAWsC,cAAe,EAAU,UAAWtC,IAAYA,EAAWuC,UAAW,GAAM9C,OAAOC,eAAeI,EAAQE,EAAWwC,IAAKxC,IAAiB,OAAO,SAAUyC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYG,UAAWF,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAOfyX,EAAS,WAOX,SAASA,IACP,IACI/W,GADOvB,UAAUtC,OAAS,QAAsBuB,IAAjBe,UAAU,GAAmBA,UAAU,OAClDwB,QACpBA,OAA2BvC,IAAjBsC,GAAqCA,GAfvD,SAAyBI,EAAUd,GAAe,KAAMc,aAAoBd,GAAgB,MAAM,IAAIe,UAAU,qCAiB5GC,CAAgBhC,KAAMyY,GAEtBzY,KAAK2B,QAAUA,EACf3B,KAAKsY,QAAUA,QAiEjB,OAxDA5X,EAAa+X,IACX1X,IAAK,QACL7C,MAAO,SAAewa,GAChB1Y,KAAK2B,SACP3B,KAAKsY,QAAQjY,MAAML,KAAK2Y,QAAQ,QAASD,OAU7C3X,IAAK,OACL7C,MAAO,SAAcwa,GACnB1Y,KAAKsY,QAAQM,KAAK5Y,KAAK2Y,QAAQ,OAAQD,OAUzC3X,IAAK,QACL7C,MAAO,SAAewa,EAASG,GAC7B7Y,KAAKsY,QAAQC,MAAMvY,KAAK2Y,QAAQ,QAASD,GAAUG,MAUrD9X,IAAK,OACL7C,MAAO,SAAcwa,EAASH,GAC5BA,EAAQA,MACRvY,KAAKsY,QAAQC,MAAMvY,KAAK2Y,QAAQ,OAAQD,GAAUH,MASpDxX,IAAK,UACL7C,MAAO,SAAiB4a,EAAOJ,GAC7B,MAAO,IAAMI,EAAQ,QAAS,IAAIC,MAAOC,cAAgB,MAAQN,MAI9DD,EAhFI,GAmFb9a,EAAQ8C,QAAUgY,YAEP","file":"../francy.bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dontExecuteIfNoData = dontExecuteIfNoData;\nfunction dontExecuteIfNoData(props) {\n  return function decorator(target, name, descriptor) {\n    var oldValue = descriptor.value;\n\n    descriptor.value = function () {\n      if (!hasData(getProperty(this.data, props))) {\n        this.logger.debug('No data here [' + props + '], nothing to render... continuing...');\n        return;\n      }\n      return oldValue.apply(this, arguments);\n    };\n\n    return descriptor;\n  };\n}\n\nfunction getProperty(obj, propertyPath) {\n\n  var tmp = obj;\n\n  if (tmp && propertyPath) {\n    var properties = propertyPath.split('.');\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = properties[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var property = _step.value;\n\n        if (!tmp.hasOwnProperty(property)) {\n          tmp = undefined;\n          break;\n        } else {\n          tmp = tmp[property];\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }\n\n  return tmp;\n}\n\nfunction hasData(obj) {\n  if (obj && (obj instanceof Array && obj.length || obj instanceof Object && Object.values(obj).length)) {\n    return true;\n  }\n  return false;\n}\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _frame = require('./render/frame');\n\nvar _frame2 = _interopRequireDefault(_frame);\n\nvar _renderer = require('./render/renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n//import Tracker from './tracker/change';\n\nvar ALL_CANVAS = {};\n\n/* global d3 */\n\n/**\n * Francy is the main entry point for the whole framework. By passing an input string/object to the {Francy.handle} function,\n * Francy will handle the creation of that json as long it is a valid and understandable json object to Francy.\n * @access public\n * \n * @version 0.5.0\n * \n * @example\n * let francy = new Francy({verbose: true, appendTo: '#div-id', callbackHandler: console.log});\n * francy.load(json).render();\n */\n\nvar Francy = function (_Renderer) {\n  _inherits(Francy, _Renderer);\n\n  /**\n   * Creates an instance of Francy with the following options:\n   * @typedef {Object} Options\n   * @property {Boolean} verbose prints extra log information to console.log, default false\n   * @property {Boolean} appendTo where the generated html/svg components will be attached to, default body\n   * @property {Function} callbackHandler this handler will be used to invoke actions from the menu, default console.log\n   */\n  function Francy(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Francy);\n\n    var _this = _possibleConstructorReturn(this, (Francy.__proto__ || Object.getPrototypeOf(Francy)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    if (!d3) {\n      throw new Error('D3 is not imported! Francy won\\'t work without it... please import D3 v4+.');\n    }\n    return _this;\n  }\n\n  /**\n   * Main entry point. Calling render passing a json representation string will \n   * trigger the drawing of a json object.\n   * @returns {Object} the html element created\n   */\n\n\n  _createClass(Francy, [{\n    key: 'render',\n    value: function render() {\n      //var tracker = new Tracker(json, this.options);\n      //tracker.subscribe(function(obj) { console.log(obj); });\n      //return new Draw(this.options).handle(tracker.object);\n      var frame = new _frame2.default(this.options).load(this.data).render();\n      ALL_CANVAS[this.data.canvas.id] = frame.canvas;\n      return frame.element.node();\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender(id) {\n      delete ALL_CANVAS[id];\n    }\n  }]);\n\n  return Francy;\n}(_renderer2.default);\n\nexports.default = Francy;\n\n\ntry {\n  exports.Francy = window.Francy = Francy;\n  // handle events on resize\n  var oldResize = window.onresize;\n  window.onresize = function () {\n    // zoom to fit all canvas on resize\n    Object.values(ALL_CANVAS).forEach(function (canvas) {\n      canvas.zoomToFit();\n    });\n    // call old resize function if any!\n    if (typeof oldResize === 'function') {\n      oldResize();\n    }\n  };\n} catch (e) {\n  exports.Francy = Francy;\n}\n\n},{\"./render/frame\":11,\"./render/renderer\":19}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _logger = require('../util/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _jsonUtils = require('../util/json-utils');\n\nvar _jsonUtils2 = _interopRequireDefault(_jsonUtils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Base = function () {\n  function Base(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Base);\n\n    this.settings({ verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler });\n    /**\n     * @type {Logger} the logger for this class\n     */\n    this.log = new _logger2.default(this.options);\n  }\n\n  _createClass(Base, [{\n    key: 'settings',\n    value: function settings(_ref2) {\n      var verbose = _ref2.verbose,\n          appendTo = _ref2.appendTo,\n          callbackHandler = _ref2.callbackHandler;\n\n      if (!callbackHandler) {\n        throw new Error('A Callback Handler must be provided! This will be used to trigger events from the graphics produced...');\n      }\n      if (!appendTo) {\n        throw new Error('Missing an element or id to append the graphics to...!');\n      }\n      /**\n       * @typedef {Object} Options\n       * @property {Boolean} verbose prints extra log information to console.log, default false\n       * @property {Boolean} appendTo where the generated html/svg components will be attached to, default body\n       * @property {Function} callbackHandler this handler will be used to invoke actions from the menu, default console.log\n       */\n      this.options = {};\n      this.options.verbose = verbose || this.options.verbose;\n      this.options.appendTo = appendTo || this.options.verbose;\n      this.options.callbackHandler = callbackHandler || this.options.callbackHandler;\n      return this;\n    }\n  }, {\n    key: 'load',\n    value: function load(json, partial) {\n      var data = _jsonUtils2.default.parse(json, partial);\n      if (data) {\n        this.data = data;\n      }\n      return this;\n    }\n  }, {\n    key: 'logger',\n    get: function get() {\n      return this.log;\n    }\n  }]);\n\n  return Base;\n}();\n\nexports.default = Base;\n\n},{\"../util/json-utils\":21,\"../util/logger\":22}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _base = require('./base');\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _modalRequired = require('./modal-required');\n\nvar _modalRequired2 = _interopRequireDefault(_modalRequired);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nvar CallbackHandler = (_dec = (0, _data.dontExecuteIfNoData)(), (_class = function (_Base) {\n  _inherits(CallbackHandler, _Base);\n\n  function CallbackHandler(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, CallbackHandler);\n\n    var _this = _possibleConstructorReturn(this, (CallbackHandler.__proto__ || Object.getPrototypeOf(CallbackHandler)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    _this.callback = callbackHandler;\n    return _this;\n  }\n\n  _createClass(CallbackHandler, [{\n    key: 'execute',\n    value: function execute() {\n      var _this2 = this;\n\n      if (Object.keys(this.data.callback.requiredArgs).length) {\n        var options = this.options;\n        options.callbackHandler = function (calbackObj) {\n          return _this2._execute.call(_this2, calbackObj);\n        };\n        return new _modalRequired2.default(options).load(this.data, true).render();\n      } else {\n        // Trigger is the expected command on GAP for this events!\n        this._execute(this.data.callback);\n      }\n    }\n  }, {\n    key: '_execute',\n    value: function _execute(calbackObj) {\n      this.callback('Trigger(' + JSON.stringify(JSON.stringify(calbackObj)) + ');');\n    }\n  }]);\n\n  return CallbackHandler;\n}(_base2.default), (_applyDecoratedDescriptor(_class.prototype, 'execute', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'execute'), _class.prototype)), _class));\nexports.default = CallbackHandler;\n\n},{\"../decorator/data\":1,\"./base\":3,\"./modal-required\":18}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _composite = require('./composite');\n\nvar _composite2 = _interopRequireDefault(_composite);\n\nvar _graph = require('./graph');\n\nvar _graph2 = _interopRequireDefault(_graph);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Canvas = (_dec = (0, _data.dontExecuteIfNoData)(), (_class = function (_Composite) {\n  _inherits(Canvas, _Composite);\n\n  function Canvas(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Canvas);\n\n    var _this = _possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    _this.graph = new _graph2.default(_this.options);\n    _this.chart = new _chart2.default(_this.options);\n    _this.add(_this.graph).add(_this.chart);\n    return _this;\n  }\n\n  _createClass(Canvas, [{\n    key: 'render',\n    value: function render() {\n      var parent = this.options.appendTo.element;\n\n      var canvasId = this.data.canvas.id;\n      this.element = d3.select('svg#' + canvasId);\n      // check if the canvas is already present\n      if (!this.element.node()) {\n        // create a svg element detached from the DOM!\n        this.logger.debug('Creating Canvas [' + canvasId + ']...');\n        this.element = parent.append('svg').attr('class', 'francy-canvas').attr('id', canvasId);\n      }\n\n      // cannot continue if canvas is not present\n      if (!this.element.node()) {\n        throw new Error('Oops, could not create canvas with id [' + canvasId + ']... Cannot proceed.');\n      }\n\n      this.element.attr('width', this.data.canvas.width).attr('height', this.data.canvas.height);\n\n      var zoom = d3.zoom();\n\n      var content = this.element.select('g.francy-content');\n\n      if (!content.node()) {\n        content = this.element.append('g').attr('class', 'francy-content');\n        zoom.on(\"zoom\", zoomed);\n        this.element.call(zoom).on(\"dblclick.zoom\", null);\n      }\n\n      this.element.on(\"click\", stopped, true);\n\n      var self = this;\n      this.element.zoomToFit = this.zoomToFit = function () {\n        // only execute if enable, of course\n        if (self.data.canvas.zoomToFit) {\n          var bounds = content.node().getBBox();\n\n          var clientBounds = self.element.node().getBoundingClientRect(),\n              fullWidth = clientBounds.right - clientBounds.left,\n              fullHeight = clientBounds.bottom - clientBounds.top;\n\n          var width = bounds.width,\n              height = bounds.height;\n\n          if (width == 0 || height == 0) return;\n\n          var midX = bounds.x + width / 2,\n              midY = bounds.y + height / 2;\n\n          var scale = 0.9 / Math.max(width / fullWidth, height / fullHeight);\n          var translateX = fullWidth / 2 - scale * midX,\n              translateY = fullHeight / 2 - scale * midY;\n\n          content.transition().duration(1000).attr('transform', 'translate(' + translateX + ',' + translateY + ')scale(' + scale + ',' + scale + ')').on('end', function () {\n            return updateZoom(translateX, translateY, scale);\n          });\n        }\n      };\n\n      function updateZoom(translateX, translateY, scale) {\n        self.element.call(zoom.transform, d3.zoomIdentity.translate(translateX, translateY).scale(scale, scale));\n      }\n\n      function zoomed() {\n        content.attr(\"transform\", d3.event.transform);\n      }\n\n      function stopped() {\n        if (d3.event.defaultPrevented) {\n          d3.event.stopPropagation();\n        }\n      }\n\n      this.logger.debug('Canvas updated [' + canvasId + ']...');\n\n      this.renderChildren();\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Canvas;\n}(_composite2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Canvas;\n\n},{\"../decorator/data\":1,\"./chart\":9,\"./composite\":10,\"./graph\":12}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar BarChart = function (_Renderer) {\n  _inherits(BarChart, _Renderer);\n\n  function BarChart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, BarChart);\n\n    return _possibleConstructorReturn(this, (BarChart.__proto__ || Object.getPrototypeOf(BarChart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(BarChart, [{\n    key: 'render',\n    value: function render() {\n\n      var tooltip = new _tooltip2.default(this.options);\n\n      var parent = this.options.appendTo.element;\n\n      var axis = this.data.canvas.chart.axis,\n          datasets = this.data.canvas.chart.data,\n          datasetNames = Object.keys(datasets);\n\n      this.element = parent.select('g.francy-content');\n\n      var margin = { top: 50, right: 50, bottom: 50, left: 50 },\n          width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      // set the dimensions and margins of the chart\n      width = width - margin.left - margin.right;\n      height = height - margin.top - margin.bottom;\n\n      // set the ranges\n      var x = d3.scaleBand().range([0, width]).padding(0.1).domain(axis.x.domain);\n      var y = d3.scaleLinear().range([height, 0]).domain(axis.y.domain);\n\n      var tmp = [];\n      datasetNames.forEach(function (key) {\n        return tmp = tmp.concat(datasets[key]);\n      });\n\n      if (!axis.y.domain.length) {\n        y.domain([0, d3.max(tmp, function (d) {\n          return d;\n        })]);\n      }\n\n      if (!axis.x.domain.length) {\n        axis.x.domain = _chart2.default.domainRange(tmp.length / datasetNames.length);\n        x.domain(axis.x.domain);\n      }\n\n      var barsGroup = this.element.selectAll('g.francy-bars');\n\n      if (!barsGroup.node()) {\n        barsGroup = this.element.append('g').attr('class', 'francy-bars');\n      }\n\n      datasetNames.forEach(function (key, index) {\n        var bar = barsGroup.selectAll('.francy-bar' + index).data(datasets[key]);\n\n        bar.exit().remove();\n\n        // append the rectangles for the bar chart\n        bar.enter().append('rect').style('fill', function () {\n          return _chart2.default.colors(index * 5);\n        }).attr('class', 'francy-bar' + index).attr('x', function (d, i) {\n          return x(axis.x.domain[i]) + index * (x.bandwidth() / datasetNames.length);\n        }).attr('width', x.bandwidth() / datasetNames.length - 1).attr('y', function (d) {\n          return y(d);\n        }).attr('height', function (d) {\n          return height - y(d);\n        }).on(\"mouseenter\", function (d) {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 0.5);\n          tooltip.load(_chart2.default.tooltip(key, d), true).render();\n        }).on(\"mouseleave\", function () {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 1);\n          tooltip.unrender();\n        });\n\n        bar.merge(bar);\n      });\n\n      // force rebuild axis again\n      var xAxisGroup = this.element.selectAll('g.francy-x-axis');\n\n      if (!xAxisGroup.node()) {\n        xAxisGroup = this.element.append('g').attr('class', 'francy-x-axis');\n      }\n\n      xAxisGroup.selectAll('*').remove();\n\n      // add the x Axis\n      xAxisGroup.attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x)).append('text').attr('dy', 50).attr('dx', width / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.x.title);\n\n      // force rebuild axis again\n      var yAxisGroup = this.element.selectAll('g.francy-y-axis');\n\n      if (!yAxisGroup.node()) {\n        yAxisGroup = this.element.append('g').attr('class', 'francy-y-axis');\n      }\n\n      yAxisGroup.selectAll('*').remove();\n\n      // add the y Axis\n      yAxisGroup.call(d3.axisLeft(y)).append('text').attr('dx', -50).attr('dy', height / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.y.title);\n\n      var legendGroup = this.element.selectAll('.francy-legend');\n\n      if (!legendGroup.node()) {\n        legendGroup = this.element.append('g').attr('class', 'francy-legend');\n      }\n\n      // force rebuild legend again\n      legendGroup.selectAll('*').remove();\n\n      var legend = legendGroup.selectAll('g').data(datasetNames.slice());\n\n      legend.exit().remove();\n\n      legend = legend.enter().append('g').attr('transform', function (d, i) {\n        return 'translate(0,' + i * 20 + ')';\n      }).merge(legend);\n\n      legend.append('rect').attr('x', width + 20).attr('width', 19).attr('height', 19).style('fill', function (d, i) {\n        return _chart2.default.colors(i * 5);\n      });\n\n      legend.append('text').attr('x', width + 80).attr('y', 9).attr('dy', '.35em').style('text-anchor', 'end').text(function (d) {\n        return d;\n      });\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return BarChart;\n}(_renderer2.default);\n\nexports.default = BarChart;\n\n},{\"./chart\":9,\"./renderer\":19,\"./tooltip\":20}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar LineChart = function (_Renderer) {\n  _inherits(LineChart, _Renderer);\n\n  function LineChart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, LineChart);\n\n    return _possibleConstructorReturn(this, (LineChart.__proto__ || Object.getPrototypeOf(LineChart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(LineChart, [{\n    key: 'render',\n    value: function render() {\n\n      var tooltip = new _tooltip2.default(this.options);\n\n      var parent = this.options.appendTo.element;\n\n      var axis = this.data.canvas.chart.axis,\n          datasets = this.data.canvas.chart.data,\n          datasetNames = Object.keys(datasets);\n\n      this.element = parent.select('g.francy-content');\n\n      var margin = { top: 50, right: 50, bottom: 50, left: 50 },\n          width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      // set the dimensions and margins of the chart\n      width = width - margin.left - margin.right;\n      height = height - margin.top - margin.bottom;\n\n      // set the ranges\n      var x = d3.scaleLinear().range([0, width]).domain(axis.x.domain);\n      var y = d3.scaleLinear().range([height, 0]).domain(axis.y.domain);\n\n      var tmp = [];\n      datasetNames.forEach(function (key) {\n        return tmp = tmp.concat(datasets[key]);\n      });\n\n      if (!axis.y.domain.length) {\n        y.domain([0, d3.max(tmp, function (d) {\n          return d;\n        })]);\n      }\n\n      if (!axis.x.domain.length) {\n        x.domain([0, tmp.length / datasetNames.length]);\n      }\n\n      var linesGroup = this.element.selectAll('g.francy-lines');\n\n      if (!linesGroup.node()) {\n        linesGroup = this.element.append('g').attr('class', 'francy-lines');\n      }\n\n      datasetNames.forEach(function (key, index) {\n        var valueLine = d3.line().x(function (d, i) {\n          return x(i);\n        }).y(function (d) {\n          return y(d);\n        });\n\n        var line = linesGroup.selectAll('.line' + index).data([datasets[key]]);\n\n        line.exit().remove();\n\n        // append the rectangles for the bar chart\n        line.enter().append('path').style('stroke', function () {\n          return _chart2.default.colors(index * 5);\n        }).style('stroke-width', '5px').attr('class', 'francy-line' + index).attr('d', valueLine).on(\"mouseenter\", function (d) {\n          d3.select(this).transition().duration(250).style(\"stroke-opacity\", 0.5).style('stroke-width', '10px');\n          tooltip.load(_chart2.default.tooltip(key, d), true).render();\n        }).on(\"mouseleave\", function () {\n          d3.select(this).transition().duration(250).style(\"stroke-opacity\", 1).style('stroke-width', '5px');\n          tooltip.unrender();\n        });\n\n        line.merge(line);\n      });\n\n      // force rebuild axis again\n      var xAxisGroup = this.element.selectAll('g.francy-x-axis');\n\n      if (!xAxisGroup.node()) {\n        xAxisGroup = this.element.append('g').attr('class', 'francy-x-axis');\n      }\n\n      xAxisGroup.selectAll('*').remove();\n\n      // add the x Axis\n      xAxisGroup.attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x)).append('text').attr('dy', 50).attr('dx', width / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.x.title);\n\n      // force rebuild axis again\n      var yAxisGroup = this.element.selectAll('g.francy-y-axis');\n\n      if (!yAxisGroup.node()) {\n        yAxisGroup = this.element.append('g').attr('class', 'francy-y-axis');\n      }\n\n      yAxisGroup.selectAll('*').remove();\n\n      // add the y Axis\n      yAxisGroup.call(d3.axisLeft(y)).append('text').attr('dx', -50).attr('dy', height / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.y.title);\n\n      var legendGroup = this.element.selectAll('.francy-legend');\n\n      if (!legendGroup.node()) {\n        legendGroup = this.element.append('g').attr('class', 'francy-legend');\n      }\n\n      // force rebuild legend again\n      legendGroup.selectAll('*').remove();\n\n      var legend = legendGroup.selectAll('g').data(datasetNames.slice());\n\n      legend.exit().remove();\n\n      legend = legend.enter().append('g').attr('transform', function (d, i) {\n        return 'translate(0,' + i * 20 + ')';\n      }).merge(legend);\n\n      legend.append('rect').attr('x', width + 20).attr('width', 19).attr('height', 19).style('fill', function (d, i) {\n        return _chart2.default.colors(i * 5);\n      });\n\n      legend.append('text').attr('x', width + 80).attr('y', 9).attr('dy', '.35em').style('text-anchor', 'end').text(function (d) {\n        return d;\n      });\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return LineChart;\n}(_renderer2.default);\n\nexports.default = LineChart;\n\n},{\"./chart\":9,\"./renderer\":19,\"./tooltip\":20}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar ScatterChart = function (_Renderer) {\n  _inherits(ScatterChart, _Renderer);\n\n  function ScatterChart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, ScatterChart);\n\n    return _possibleConstructorReturn(this, (ScatterChart.__proto__ || Object.getPrototypeOf(ScatterChart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(ScatterChart, [{\n    key: 'render',\n    value: function render() {\n\n      var tooltip = new _tooltip2.default(this.options);\n\n      var parent = this.options.appendTo.element;\n\n      var axis = this.data.canvas.chart.axis,\n          datasets = this.data.canvas.chart.data,\n          datasetNames = Object.keys(datasets);\n\n      this.element = parent.select('g.francy-content');\n\n      var margin = { top: 50, right: 50, bottom: 50, left: 50 },\n          width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      // set the dimensions and margins of the chart\n      width = width - margin.left - margin.right;\n      height = height - margin.top - margin.bottom;\n\n      // set the ranges\n      var x = d3.scaleLinear().range([0, width]).domain(axis.x.domain);\n      var y = d3.scaleLinear().range([height, 0]).domain(axis.y.domain);\n\n      var tmp = [];\n      datasetNames.forEach(function (key) {\n        return tmp = tmp.concat(datasets[key]);\n      });\n\n      if (!axis.y.domain.length) {\n        y.domain([0, d3.max(tmp, function (d) {\n          return d;\n        })]);\n      }\n\n      if (!axis.x.domain.length) {\n        x.domain([0, tmp.length / datasetNames.length]);\n      }\n\n      var scatterGroup = this.element.selectAll('g.francy-scatters');\n\n      if (!scatterGroup.node()) {\n        scatterGroup = this.element.append('g').attr('class', 'francy-scatters');\n      }\n\n      datasetNames.forEach(function (key, index) {\n        var scatter = scatterGroup.selectAll('.scatter' + index).data(datasets[key]);\n\n        scatter.exit().remove();\n\n        // append the rectangles for the bar chart\n        scatter.enter().append('circle').style('fill', function () {\n          return _chart2.default.colors(index * 5);\n        }).attr('class', 'francy-scatter' + index).attr(\"r\", 5).attr(\"cx\", function (d, i) {\n          return x(i);\n        }).attr(\"cy\", function (d) {\n          return y(d);\n        }).on(\"mouseenter\", function (d) {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 0.5).attr('r', 10);\n          tooltip.load(_chart2.default.tooltip(key, d), true).render();\n        }).on(\"mouseleave\", function () {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 1).attr('r', 5);\n          tooltip.unrender();\n        });\n\n        scatter.merge(scatter);\n      });\n\n      // force rebuild axis again\n      var xAxisGroup = this.element.selectAll('g.francy-x-axis');\n\n      if (!xAxisGroup.node()) {\n        xAxisGroup = this.element.append('g').attr('class', 'francy-x-axis');\n      }\n\n      xAxisGroup.selectAll('*').remove();\n\n      // add the x Axis\n      xAxisGroup.attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x)).append('text').attr('dy', 50).attr('dx', width / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.x.title);\n\n      // force rebuild axis again\n      var yAxisGroup = this.element.selectAll('g.francy-y-axis');\n\n      if (!yAxisGroup.node()) {\n        yAxisGroup = this.element.append('g').attr('class', 'francy-y-axis');\n      }\n\n      yAxisGroup.selectAll('*').remove();\n\n      // add the y Axis\n      yAxisGroup.call(d3.axisLeft(y)).append('text').attr('dx', -50).attr('dy', height / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.y.title);\n\n      var legendGroup = this.element.selectAll('.francy-legend');\n\n      if (!legendGroup.node()) {\n        legendGroup = this.element.append('g').attr('class', 'francy-legend');\n      }\n\n      // force rebuild legend again\n      legendGroup.selectAll('*').remove();\n\n      var legend = legendGroup.selectAll('g').data(datasetNames.slice());\n\n      legend.exit().remove();\n\n      legend = legend.enter().append('g').attr('transform', function (d, i) {\n        return 'translate(0,' + i * 20 + ')';\n      }).merge(legend);\n\n      legend.append('rect').attr('x', width + 20).attr('width', 19).attr('height', 19).style('fill', function (d, i) {\n        return _chart2.default.colors(i * 5);\n      });\n\n      legend.append('text').attr('x', width + 80).attr('y', 9).attr('dy', '.35em').style('text-anchor', 'end').text(function (d) {\n        return d;\n      });\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return ScatterChart;\n}(_renderer2.default);\n\nexports.default = ScatterChart;\n\n},{\"./chart\":9,\"./renderer\":19,\"./tooltip\":20}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _chartBar = require('./chart-bar');\n\nvar _chartBar2 = _interopRequireDefault(_chartBar);\n\nvar _chartLine = require('./chart-line');\n\nvar _chartLine2 = _interopRequireDefault(_chartLine);\n\nvar _chartScatter = require('./chart-scatter');\n\nvar _chartScatter2 = _interopRequireDefault(_chartScatter);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Chart = (_dec = (0, _data.dontExecuteIfNoData)('canvas.chart'), (_class = function (_Renderer) {\n  _inherits(Chart, _Renderer);\n\n  function Chart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Chart);\n\n    return _possibleConstructorReturn(this, (Chart.__proto__ || Object.getPrototypeOf(Chart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Chart, [{\n    key: 'render',\n    value: function render() {\n\n      var element = undefined;\n      switch (this.data.canvas.chart.type) {\n        case \"bar\":\n          element = new _chartBar2.default(this.options).load(this.data).render();\n          break;\n        case \"line\":\n          element = new _chartLine2.default(this.options).load(this.data).render();\n          break;\n        case \"scatter\":\n          element = new _chartScatter2.default(this.options).load(this.data).render();\n          break;\n      }\n\n      this.options.appendTo.element.zoomToFit();\n\n      return element;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }], [{\n    key: 'tooltip',\n    value: function tooltip(dataset, value) {\n      return { \"A\": { 'title': 'Dataset', 'text': dataset }, \"B\": { 'title': 'Value', 'text': value } };\n    }\n  }, {\n    key: 'domainRange',\n    value: function domainRange(max) {\n      return Array.from(new Array(max), function (_, i) {\n        return i;\n      }).map(function (x) {\n        return x;\n      });\n    }\n  }, {\n    key: 'colors',\n    get: function get() {\n      return d3.scaleSequential().domain([0, 100]).interpolator(d3.interpolateRainbow);\n    }\n  }]);\n\n  return Chart;\n}(_renderer2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Chart;\n\n},{\"../decorator/data\":1,\"./chart-bar\":6,\"./chart-line\":7,\"./chart-scatter\":8,\"./renderer\":19}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Composite = function (_Renderer) {\n  _inherits(Composite, _Renderer);\n\n  function Composite(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Composite);\n\n    var _this = _possibleConstructorReturn(this, (Composite.__proto__ || Object.getPrototypeOf(Composite)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    if (new.target === Composite) {\n      throw new TypeError('Cannot construct [Composite] instances directly!');\n    }\n    _this.renderers = [];\n    return _this;\n  }\n\n  _createClass(Composite, [{\n    key: 'add',\n    value: function add(renderer) {\n      this.renderers.push(renderer);\n      return this;\n    }\n  }, {\n    key: 'renderChildren',\n    value: function renderChildren() {\n      // update children rendering with a new parent!\n      var options = this.options;\n      options.appendTo = this;\n      // render other components\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.renderers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var renderer = _step.value;\n\n          renderer.settings(options).load(this.data).render();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }]);\n\n  return Composite;\n}(_renderer2.default);\n\nexports.default = Composite;\n\n},{\"./renderer\":19}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _composite = require('./composite');\n\nvar _composite2 = _interopRequireDefault(_composite);\n\nvar _canvas = require('./canvas');\n\nvar _canvas2 = _interopRequireDefault(_canvas);\n\nvar _menuMain = require('./menu-main');\n\nvar _menuMain2 = _interopRequireDefault(_menuMain);\n\nvar _message = require('./message');\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Frame = (_dec = (0, _data.dontExecuteIfNoData)(), (_class = function (_Composite) {\n  _inherits(Frame, _Composite);\n\n  function Frame(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Frame);\n\n    var _this = _possibleConstructorReturn(this, (Frame.__proto__ || Object.getPrototypeOf(Frame)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    _this.canvas = new _canvas2.default(_this.options);\n    _this.menu = new _menuMain2.default(_this.options);\n    _this.messages = new _message2.default(_this.options);\n    _this.add(_this.messages).add(_this.menu).add(_this.canvas);\n    _this.element = undefined;\n    return _this;\n  }\n\n  _createClass(Frame, [{\n    key: 'render',\n    value: function render() {\n      var parent = d3.select(this.options.appendTo);\n\n      var frameId = 'F' + this.data.canvas.id;\n      this.element = d3.select('div#' + frameId);\n      // check if the canvas is already present\n      if (!this.element.node()) {\n        // create a svg element detached from the DOM!\n        this.logger.debug('Creating Frame [' + frameId + ']...');\n        this.element = parent.append('div').attr('class', 'francy').attr('id', frameId);\n      }\n\n      // cannot continue if canvas is not present\n      if (!this.element.node()) {\n        throw new Error('Oops, could not create frame with id [' + frameId + ']... Cannot proceed.');\n      }\n\n      this.logger.debug('Frame updated [' + frameId + ']...');\n\n      this.renderChildren();\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Frame;\n}(_composite2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Frame;\n\n},{\"../decorator/data\":1,\"./canvas\":5,\"./composite\":10,\"./menu-main\":14,\"./message\":16}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _menuContext = require('./menu-context');\n\nvar _menuContext2 = _interopRequireDefault(_menuContext);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _callback = require('./callback');\n\nvar _callback2 = _interopRequireDefault(_callback);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Graph = (_dec = (0, _data.dontExecuteIfNoData)('canvas.graph'), (_class = function (_Renderer) {\n  _inherits(Graph, _Renderer);\n\n  _createClass(Graph, null, [{\n    key: 'getSymbol',\n    value: function getSymbol(type) {\n      if (type === 'circle') {\n        return d3.symbolCircle;\n      } else if (type === 'cross') {\n        return d3.symbolCross;\n      } else if (type === 'diamond') {\n        return d3.symbolDiamond;\n      } else if (type === 'square') {\n        return d3.symbolSquare;\n      } else if (type === 'triangle') {\n        return d3.symbolTriangle;\n      } else if (type === 'star') {\n        return d3.symbolStar;\n      } else if (type === 'wye') {\n        return d3.symbolWye;\n      } else {\n        return d3.symbolCircle;\n      }\n    }\n  }, {\n    key: 'colors',\n    get: function get() {\n      return d3.scaleSequential().domain([0, 100]).interpolator(d3.interpolateRainbow);\n    }\n  }]);\n\n  function Graph(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Graph);\n\n    return _possibleConstructorReturn(this, (Graph.__proto__ || Object.getPrototypeOf(Graph)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Graph, [{\n    key: 'render',\n    value: function render() {\n\n      var parent = this.options.appendTo.element;\n\n      var dataChanged = false;\n      var tooltip = new _tooltip2.default(this.options);\n      var contextMenu = new _menuContext2.default(this.options);\n      var callback = new _callback2.default(this.options);\n\n      var simulationActive = this.data.canvas.graph.simulation;\n\n      var canvasNodes = this.data.canvas.graph.nodes ? Object.values(this.data.canvas.graph.nodes) : [],\n          canvasLinks = this.data.canvas.graph.links ? Object.values(this.data.canvas.graph.links) : [];\n\n      this.element = parent.select('g.francy-content');\n\n      var width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      var linkGroup = this.element.selectAll('g.francy-links');\n\n      if (!linkGroup.node()) {\n        linkGroup = this.element.append('g').attr('class', 'francy-links');\n      }\n\n      var link = linkGroup.selectAll('line.francy-link').data(canvasLinks);\n\n      if (link.enter().data().length > 0 || link.enter().data().length > 0) {\n        dataChanged = true;\n      }\n\n      link.exit().remove();\n\n      link = link.enter().append('line').attr('class', 'francy-link').attr('id', function (d) {\n        return d.source + ',' + d.target;\n      }).attr('x1', function (d) {\n        return d.source.x;\n      }).attr('y1', function (d) {\n        return d.source.y;\n      }).attr('x2', function (d) {\n        return d.target.x;\n      }).attr('y2', function (d) {\n        return d.target.y;\n      }).merge(link);\n\n      if (this.data.canvas.graph.type === 'directed') {\n        // this means we need arrows, so we append the marker\n        parent.append('defs').selectAll('marker').data(['arrow']).enter().append('marker').attr('class', 'francy-arrows').attr('id', function (d) {\n          return d;\n        }).attr('viewBox', '0 -5 10 10').attr('refX', 25).attr('refY', 0).attr('markerWidth', 10).attr('markerHeight', 10).attr('orient', 'auto').append('path').attr('d', 'M0,-5L10,0L0,5 L10,0 L0, -5');\n        // update the style of the link\n        link.style('marker-end', 'url(#arrow)');\n      }\n\n      var nodeGroup = this.element.selectAll('g.francy-nodes');\n\n      if (!nodeGroup.node()) {\n        nodeGroup = this.element.append('g').attr('class', 'francy-nodes');\n      }\n\n      var node = nodeGroup.selectAll('path.francy-node').data(canvasNodes);\n\n      if (node.exit().data().length > 0 || node.enter().data().length > 0) {\n        dataChanged = true;\n      }\n\n      node.exit().remove();\n\n      node = node.enter().append('path').merge(node).attr('d', d3.symbol().type(function (d) {\n        return Graph.getSymbol(d.type);\n      }).size(function (d) {\n        return d.size * 100;\n      })).attr('transform', function (d) {\n        return 'translate(' + d.x + ',' + d.y + ')';\n      }).style('fill', function (d) {\n        return Graph.colors(d.layer * 5);\n      }).attr('class', function (d) {\n        return 'francy-node' + (d.highlight ? ' francy-highlight' : '') + (Object.values(d.menus).length ? ' francy-context' : '');\n      }).attr('id', function (d) {\n        return d.id;\n      });\n\n      if (this.data.canvas.graph.drag) {\n        node.call(d3.drag().on('start', dragstarted).on('drag', dragged).on('end', dragended));\n      }\n\n      node.on('contextmenu', function (d) {\n        // default, build context menu\n        contextMenu.load(d, true).render();\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'contextmenu');\n      }).on('click', function (d) {\n        // default, highlight connected nodes\n        connectedNodes.call(this);\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'click');\n      }).on('dblclick', function (d) {\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'dblclick');\n      }).on(\"mouseenter\", function (d) {\n        // default, show tooltip\n        tooltip.load(d.messages, true).render();\n      }).on(\"mouseleave\", function () {\n        // default, hide tooltip\n        tooltip.unrender();\n      });\n\n      var labelGroup = this.element.selectAll('.francy-labels');\n\n      if (!labelGroup.node()) {\n        labelGroup = this.element.append('g').attr('class', 'francy-labels');\n      }\n\n      var label = labelGroup.selectAll('text').data(canvasNodes);\n\n      label.exit().remove();\n\n      label = label.enter().append('text').merge(label).attr('class', 'francy-label').text(function (d) {\n        return d.title;\n      }).attr('x', function (d) {\n        return d.x - d.title.length - Math.sqrt(d.size * d.title.length * 2);\n      }).attr('y', function (d) {\n        return d.y - Math.sqrt(d.size * 2);\n      });\n\n      label.on('contextmenu', function (d) {\n        // default, build context menu\n        contextMenu.load(d, true).render();\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'contextmenu');\n      }).on('click', function (d) {\n        // default, highlight connected nodes\n        connectedNodes.call(this);\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'click');\n      }).on('dblclick', function (d) {\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'dblclick');\n      }).on(\"mouseover\", function (d) {\n        // default, show tooltip\n        tooltip.load(d.messages, true).render();\n      }).on(\"mouseout\", function () {\n        // default, hide tooltip\n        tooltip.unrender();\n      });\n\n      if (simulationActive) {\n        // && dataChanged) {\n        // Canvas Forces\n        var centerForce = d3.forceCenter().x(width / 2).y(height / 2);\n        var manyForce = d3.forceManyBody().strength(-canvasNodes.length * 30);\n        var linkForce = d3.forceLink(canvasLinks).id(function (d) {\n          return d.id;\n        }).distance(50);\n        var collideForce = d3.forceCollide(function (d) {\n          return d.size * 2;\n        });\n\n        //Generic gravity for the X position\n        var forceX = d3.forceX(width / 2).strength(0.05);\n\n        //Generic gravity for the Y position - undirected/directed graphs fall here\n        var forceY = d3.forceY(height / 2).strength(0.25);\n\n        if (this.data.canvas.graph.type === 'hasse') {\n          //Generic gravity for the X position\n          forceX = d3.forceX(width / 2).strength(0.5);\n          //Strong y positioning based on layer to simulate the hasse diagram\n          forceY = d3.forceY(function (d) {\n            return d.layer * 50;\n          }).strength(5);\n        }\n\n        var simulation = d3.forceSimulation(canvasNodes).force(\"charge\", manyForce).force(\"link\", linkForce).force(\"center\", centerForce).force(\"x\", forceX).force(\"y\", forceY).force(\"collide\", collideForce).on('tick', ticked).on(\"end\", function () {\n          // zoom to fit when simulation is over\n          parent.zoomToFit();\n        });\n\n        //force simulation restart\n        simulation.restart();\n      } else {\n        // well, simulation is off, zoom to fit now\n        parent.zoomToFit();\n      }\n\n      function ticked() {\n        link.attr('x1', function (d) {\n          return d.source.x;\n        }).attr('y1', function (d) {\n          return d.source.y;\n        }).attr('x2', function (d) {\n          return d.target.x;\n        }).attr('y2', function (d) {\n          return d.target.y;\n        });\n\n        node.attr('transform', function (d) {\n          return 'translate(' + d.x + ',' + d.y + ')';\n        });\n\n        label.attr('x', function (d) {\n          return d.x - d.title.length - Math.sqrt(d.size * d.title.length * 2);\n        }).attr('y', function (d) {\n          return d.y - Math.sqrt(d.size * 2);\n        });\n\n        node.each(collide(1));\n      }\n\n      // COLLISION\n      var padding = 10; // separation between circles;\n\n      function collide(alpha) {\n        var quadTree = d3.quadtree(canvasNodes);\n        return function (d) {\n          var rb = 100 * d.size + padding,\n              nx1 = d.x - rb,\n              nx2 = d.x + rb,\n              ny1 = d.y - rb,\n              ny2 = d.y + rb;\n          quadTree.visit(function (quad, x1, y1, x2, y2) {\n            if (quad.point && quad.point !== d) {\n              var x = d.x - quad.point.x,\n                  y = d.y - quad.point.y,\n                  l = Math.sqrt(x * x + y * y);\n              if (l < rb) {\n                l = (l - rb) / l * alpha;\n                d.x -= x *= l;\n                d.y -= y *= l;\n                quad.point.x += x;\n                quad.point.y += y;\n              }\n            }\n            return x1 > nx2 || x2 < nx1 || y1 > ny2 || y2 < ny1;\n          });\n        };\n      }\n\n      // HIGHLIGHT\n      //Toggle stores whether the highlighting is on\n      var toggle = 0;\n      //Create an array logging what is connected to what\n      var linkedByIndex = {};\n\n      for (var i = 0; i < canvasNodes.length; i++) {\n        linkedByIndex[i + ',' + i] = 1;\n      }\n\n      canvasLinks.forEach(function (d) {\n        linkedByIndex[d.source.index + ',' + d.target.index] = 1;\n      });\n\n      function connectedNodes() {\n        //This function looks up whether a pair are neighbours\n        function neighboring(a, b) {\n          return linkedByIndex[a.index + ',' + b.index];\n        }\n        d3.event.preventDefault();\n        if (toggle === 0) {\n          //Reduce the opacity of all but the neighbouring nodes\n          var d = d3.select(this).node().__data__;\n          node.style('opacity', function (o) {\n            return neighboring(d, o) || neighboring(o, d) ? 1 : 0.1;\n          });\n          link.style('opacity', function (o) {\n            return d.index === o.source.index || d.index === o.target.index ? 1 : 0.1;\n          });\n          //Reduce the op\n          toggle = 1;\n        } else {\n          //Put them back to opacity=1\n          node.style('opacity', 1);\n          link.style('opacity', 1);\n          toggle = 0;\n        }\n      }\n\n      function dragstarted(d) {\n        if (!d3.event.active && simulationActive && dataChanged) {\n          simulation.alphaTarget(0.01).restart();\n        }\n        d.fx = d.x;\n        d.fy = d.y;\n      }\n\n      function dragged(d) {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n      }\n\n      function dragended(d) {\n        if (!d3.event.active && simulationActive && dataChanged) {\n          simulation.alphaTarget(0);\n        }\n        d.fx = null;\n        d.fy = null;\n      }\n\n      function executeCallback(data, event) {\n        if (data.callbacks) {\n          Object.values(data.callbacks).forEach(function (cb) {\n            // execute the ones that match the event!\n            cb.trigger === event && callback.load({ callback: cb }, true).execute();\n          });\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Graph;\n}(_renderer2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Graph;\n\n},{\"../decorator/data\":1,\"./callback\":4,\"./menu-context\":13,\"./renderer\":19,\"./tooltip\":20}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _menu = require('./menu');\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar ContextMenu = (_dec = (0, _data.dontExecuteIfNoData)('menus'), (_class = function (_Menu) {\n  _inherits(ContextMenu, _Menu);\n\n  function ContextMenu(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, ContextMenu);\n\n    return _possibleConstructorReturn(this, (ContextMenu.__proto__ || Object.getPrototypeOf(ContextMenu)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(ContextMenu, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      d3.event.preventDefault();\n\n      this.element = this.HTMLParent.select('div.francy-context-menu-holder');\n      // check if the window is already present\n      if (!this.element.node()) {\n        this.element = this.HTMLParent.append('div').attr('class', 'francy-context-menu-holder');\n      }\n\n      var pos = d3.mouse(this.SVGParent.node());\n\n      this.element.style('left', pos[0] + 5 + 'px').style('top', pos[1] + 5 + 'px');\n\n      // show the context menu\n      this.element.style('display', 'block');\n\n      // check if it exists already\n      if (this.element.selectAll('*').node()) {\n        return;\n      }\n\n      // destroy menu\n      d3.select('body').on('click.francy-context-menu', function () {\n        return _this2.unrender();\n      });\n\n      // this gets executed when a contextmenu event occurs\n      var menu = this.element.append('div').attr('class', 'francy-context-menu').append('ul');\n      var menusIterator = this.iterator(Object.values(this.data.menus));\n      this.traverse(menu, menusIterator);\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {\n      if (this.element) {\n        this.element.selectAll('*').remove();\n        this.element.style('display', null);\n      }\n    }\n  }]);\n\n  return ContextMenu;\n}(_menu2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = ContextMenu;\n\n},{\"../decorator/data\":1,\"./menu\":15}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _menu = require('./menu');\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nvar _modalAbout = require('./modal-about');\n\nvar _modalAbout2 = _interopRequireDefault(_modalAbout);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n//import * as SvgToPng from '../../node_modules/save-svg-as-png/saveSvgAsPng';\n\n/* global d3 window */\n\nvar MainMenu = function (_Menu) {\n  _inherits(MainMenu, _Menu);\n\n  function MainMenu(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, MainMenu);\n\n    return _possibleConstructorReturn(this, (MainMenu.__proto__ || Object.getPrototypeOf(MainMenu)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(MainMenu, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var parent = this.options.appendTo.element;\n\n      var aboutModal = new _modalAbout2.default(this.options);\n\n      // Otherwise clashes with the canvas itself!\n      var menuId = 'MainMenu-' + this.data.canvas.id;\n      this.element = d3.select('#' + menuId);\n\n      // Check if the menu is already present\n      if (!this.element.node()) {\n        // create a div element detached from the DOM!\n        this.logger.debug('Creating Main Menu [' + menuId + ']...');\n        this.element = parent.append('div').attr('class', 'francy-main-menu-holder').attr('id', menuId);\n      }\n\n      // Force rebuild menu again\n      this.element.selectAll('*').remove();\n\n      this.element = this.element.append('ul').attr('class', 'francy-main-menu');\n\n      if (this.data.canvas.title) {\n        this.element.append('li').attr('class', 'francy-title').append('a').html(this.data.canvas.title);\n      }\n\n      var entry = this.element.append('li');\n      entry.append('a').html('Francy');\n      var content = entry.append('ul');\n      if (this.data.canvas.zoomToFit) {\n        content.append('li').append('a').on('click', function () {\n          return _this2.options.appendTo.canvas.zoomToFit();\n        }).attr('title', 'Zoom to Fit').html('Zoom to Fit');\n      }\n      //content.append('li').append('a').on('click', () => SvgToPng.saveSvgAsPng(document.getElementById(this.data.canvas.id), \"diagram.png\")).attr('title', 'Save to PNG').html('Save to PNG');\n      content.append('li').append('a').on('click', function () {\n        return aboutModal.load(_this2.data).render();\n      }).attr('title', 'About').html('About');\n\n      // Traverse all menus and flatten them!\n      var menusIterator = this.iterator(Object.values(this.data.canvas.menus));\n      this.traverse(this.element, menusIterator);\n\n      this.logger.debug('Main Menu updated [' + menuId + ']...');\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return MainMenu;\n}(_menu2.default);\n\nexports.default = MainMenu;\n\n},{\"./menu\":15,\"./modal-about\":17}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _callback = require('./callback');\n\nvar _callback2 = _interopRequireDefault(_callback);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Menu = function (_Renderer) {\n  _inherits(Menu, _Renderer);\n\n  function Menu(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Menu);\n\n    return _possibleConstructorReturn(this, (Menu.__proto__ || Object.getPrototypeOf(Menu)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Menu, [{\n    key: 'traverse',\n    value: function traverse(appendTo, menusIterator) {\n      var _this2 = this;\n\n      while (menusIterator.hasNext()) {\n        var menuItem = menusIterator.next();\n        var entry = appendTo.append('li');\n        var action = entry.selectAll('a').data([menuItem]).enter().append('a').attr('title', menuItem.title).html(menuItem.title);\n        if (menuItem.callback && Object.values(menuItem.callback).length) {\n          action.on('click', function (d) {\n            return new _callback2.default(_this2.options).load(d, true).execute();\n          });\n        }\n        if (menuItem.menus && Object.values(menuItem.menus).length > 0) {\n          var content = entry.append('ul');\n          var subMenusIterator = this.iterator(Object.values(menuItem.menus));\n          this.traverse(content, subMenusIterator);\n        }\n      }\n    }\n  }, {\n    key: 'iterator',\n    value: function iterator(array) {\n      var nextIndex = 0;\n      return {\n        next: function next() {\n          return this.hasNext() ? array[nextIndex++] : undefined;\n        },\n        hasNext: function hasNext() {\n          return nextIndex < array.length;\n        }\n      };\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Menu;\n}(_renderer2.default);\n\nexports.default = Menu;\n\n},{\"./callback\":4,\"./renderer\":19}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Message = (_dec = (0, _data.dontExecuteIfNoData)('canvas.messages'), (_class = function (_Renderer) {\n  _inherits(Message, _Renderer);\n\n  function Message(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Message);\n\n    return _possibleConstructorReturn(this, (Message.__proto__ || Object.getPrototypeOf(Message)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Message, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var parent = this.options.appendTo.element;\n\n      var messages = Object.keys(this.data.canvas.messages).map(function (key) {\n        return {\n          id: key,\n          type: _this2.data.canvas.messages[key].type,\n          title: _this2.data.canvas.messages[key].title,\n          text: _this2.data.canvas.messages[key].text\n        };\n      });\n\n      var alertsId = 'Messages-' + this.data.canvas.id;\n      this.element = d3.select('#' + alertsId);\n      // check if the window is already present\n      if (!this.element.node()) {\n        this.element = parent.append('div').attr('class', 'francy-message-holder').attr('id', alertsId);\n      }\n\n      var self = this;\n      messages.map(function (d) {\n        // only render new ones\n        if (!self.element.select('div#' + d.id).node()) {\n          var row = self.element.append('div').attr('id', d.id).attr('class', 'francy-alert alert-' + d.type).on('click', function () {\n            d3.select(this).style('display', 'none');\n          });\n          row.append('span').attr('class', 'strong').text(d.title);\n          row.append('span').text(d.text);\n          row.append('span').attr('class', 'strong').style('display', 'none').text(\"x\");\n        }\n      });\n\n      this.element.style('display', 'block');\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Message;\n}(_renderer2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Message;\n\n},{\"../decorator/data\":1,\"./renderer\":19}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 Jupyter */\n\nvar AboutModal = function (_Renderer) {\n  _inherits(AboutModal, _Renderer);\n\n  function AboutModal(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, AboutModal);\n\n    return _possibleConstructorReturn(this, (AboutModal.__proto__ || Object.getPrototypeOf(AboutModal)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(AboutModal, [{\n    key: 'render',\n    value: function render() {\n      var modalId = 'AboutModalWindow';\n\n      this.logger.debug('Creating About Modal [' + modalId + ']...');\n\n      // we want to overlay everything, hence 'body' must be used\n      var overlay = d3.select('body').append('div').attr('class', 'francy-overlay');\n      var holder = d3.select('body').append('div').attr('class', 'francy');\n      this.element = holder.append('div').attr('id', modalId).attr('class', 'francy-modal');\n\n      var form = this.element.append('form');\n\n      var header = form.append('div').attr('class', 'francy-modal-header');\n\n      header.append('span').html('About Francy v' + (this.data.version || 'N/A'));\n\n      var content = form.append('div').attr('class', 'francy-modal-content').append('div').attr('class', 'francy-table').append('div').attr('class', 'francy-table-body');\n\n      content.append('span').text('Loaded Object:');\n      content.append('pre').attr('class', 'francy').html(this.syntaxHighlight(JSON.stringify(this.data.canvas, null, 2)));\n      content.append('span').append('a').attr('href', 'https://github.com/mcmartins/francy').text('Francy on Github');\n\n      var footer = form.append('div').attr('class', 'francy-modal-footer');\n\n      footer.append('button').text('Ok').on('click', function () {\n        this.element.remove();\n        holder.remove();\n        overlay.remove();\n        d3.event.preventDefault();\n        return false;\n      });\n\n      // disable keyboard shortcuts when using this modal in Jupyter\n      try {\n        Jupyter.keyboard_manager.register_events('.francy');\n        Jupyter.keyboard_manager.register_events('.francy-arg');\n        Jupyter.keyboard_manager.register_events('.francy-overlay');\n        Jupyter.keyboard_manager.register_events('.francy-modal');\n      } catch (e) {\n        if (e.name == 'ReferenceError') {\n          self.logger.debug('It seems we\\'re not running on Jupyter...', e);\n        }\n      }\n\n      this.logger.debug('Callback About updated [' + modalId + ']...');\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n\n    // credits here: https://stackoverflow.com/questions/4810841/how-can-i-pretty-print-json-using-javascript#answer-7220510\n\n  }, {\n    key: 'syntaxHighlight',\n    value: function syntaxHighlight(json) {\n      json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n      return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/g, function (match) {\n        var cls = 'number';\n        if (/^\"/.test(match)) {\n          if (/:$/.test(match)) {\n            cls = 'key';\n          } else {\n            cls = 'string';\n          }\n        } else if (/true|false/.test(match)) {\n          cls = 'boolean';\n        } else if (/null/.test(match)) {\n          cls = 'null';\n        }\n        return '<span class=\"' + cls + '\">' + match + '</span>';\n      });\n    }\n  }]);\n\n  return AboutModal;\n}(_renderer2.default);\n\nexports.default = AboutModal;\n\n},{\"./renderer\":19}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 Jupyter */\n\nvar RequiredArgsModal = function (_Renderer) {\n  _inherits(RequiredArgsModal, _Renderer);\n\n  function RequiredArgsModal(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, RequiredArgsModal);\n\n    return _possibleConstructorReturn(this, (RequiredArgsModal.__proto__ || Object.getPrototypeOf(RequiredArgsModal)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(RequiredArgsModal, [{\n    key: 'render',\n    value: function render() {\n      var self = this;\n\n      var modalId = this.data.callback.id;\n\n      this.logger.debug('Creating Callback Modal [' + modalId + ']...');\n\n      // we want to overlay everything, hence 'body' must be used\n      var overlay = d3.select('body').append('div').attr('class', 'francy-overlay');\n      var holder = d3.select('body').append('div').attr('class', 'francy');\n      this.element = holder.append('div').attr('id', modalId).attr('class', 'francy-modal');\n\n      var form = this.element.append('form');\n\n      var header = form.append('div').attr('class', 'francy-modal-header');\n\n      var headerTitle = header.append('span').html('Required arguments&nbsp;');\n      if (this.data.title) {\n        headerTitle.append('span').attr('style', 'font-weight: bold;').text('for ' + this.data.title);\n      }\n\n      var content = form.append('div').attr('class', 'francy-modal-content').append('div').attr('class', 'francy-table').append('div').attr('class', 'francy-table-body');\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = Object.values(this.data.callback.requiredArgs)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var arg = _step.value;\n\n          var row = content.append('div').attr('class', 'francy-table-row');\n          row.append('div').attr('class', 'francy-table-cell').append('label').attr('for', arg.id).text(arg.title);\n          var input = row.append('div').attr('class', 'francy-table-cell').append('input').attr('id', arg.id).attr('class', 'francy-arg').attr('required', '').attr('name', arg.id).attr('type', arg.type).attr('value', arg.value).on('change', function () {\n            self.data.callback.requiredArgs[this.id].value = this.value;\n          }).on('input', this.onchange).on('keyup', this.onchange).on('paste', this.onchange);\n          // wait, if it is boolean we create a checkbox\n          if (arg.type === 'boolean') {\n            // well, a checkbox works this way so we need to initialize \n            // the value to false and update the value based on the checked \n            // property that triggers the onchange event\n            arg.value = arg.value || false;\n            input.attr('type', 'checkbox').attr('required', null).attr('value', arg.value).on('change', function () {\n              self.data.callback.requiredArgs[this.id].value = this.value = this.checked;\n            });\n          }\n          row.append('span').attr('class', 'validity');\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var footer = form.append('div').attr('class', 'francy-modal-footer');\n\n      footer.append('button').text('Ok').on('click', function () {\n        if (form.node().checkValidity()) {\n          d3.event.preventDefault();\n          self.options.callbackHandler(self.data.callback);\n          overlay.remove();\n          self.element.remove();\n          holder.remove();\n        }\n        return false;\n      });\n      footer.append('button').text('Cancel').on('click', function () {\n        overlay.remove();\n        self.element.remove();\n        holder.remove();\n        d3.event.preventDefault();\n        return false;\n      });\n\n      // disable keyboard shortcuts when using this modal in Jupyter\n      try {\n        Jupyter.keyboard_manager.register_events('.francy');\n        Jupyter.keyboard_manager.register_events('.francy-arg');\n        Jupyter.keyboard_manager.register_events('.francy-overlay');\n        Jupyter.keyboard_manager.register_events('.francy-modal');\n      } catch (e) {\n        if (e.name == 'ReferenceError') {\n          self.logger.debug('It seems we\\'re not running on Jupyter...', e);\n        }\n      }\n\n      content.selectAll('.francy-arg').node().focus();\n\n      this.logger.debug('Callback Modal updated [' + modalId + ']...');\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return RequiredArgsModal;\n}(_renderer2.default);\n\nexports.default = RequiredArgsModal;\n\n},{\"./renderer\":19}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _base = require('./base');\n\nvar _base2 = _interopRequireDefault(_base);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar Renderer = function (_Base) {\n  _inherits(Renderer, _Base);\n\n  function Renderer(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Renderer);\n\n    var _this = _possibleConstructorReturn(this, (Renderer.__proto__ || Object.getPrototypeOf(Renderer)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    if (new.target === Renderer) {\n      throw new TypeError('Cannot construct [Renderer] instances directly!');\n    }\n    if (_this.render === undefined || typeof _this.render !== 'function') {\n      throw new TypeError('Must override [render()] method!');\n    }\n    if (_this.unrender === undefined) {\n      _this.logger.debug('No [unrender()] method specified...');\n    }\n    _this.element = undefined;\n    return _this;\n  }\n\n  _createClass(Renderer, [{\n    key: 'HTMLParent',\n    get: function get() {\n      return this.options.appendTo.element.node().tagName.toUpperCase() === 'SVG' ? d3.select(this.options.appendTo.element.node().parentNode) : this.options.appendTo.element;\n    }\n  }, {\n    key: 'SVGParent',\n    get: function get() {\n      return this.options.appendTo.element.node().tagName.toUpperCase() === 'DIV' ? this.options.appendTo.element.select('svg') : this.options.appendTo.element;\n    }\n  }]);\n\n  return Renderer;\n}(_base2.default);\n\nexports.default = Renderer;\n\n},{\"./base\":3}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Tooltip = (_dec = (0, _data.dontExecuteIfNoData)(), (_class = function (_Renderer) {\n  _inherits(Tooltip, _Renderer);\n\n  function Tooltip(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Tooltip);\n\n    return _possibleConstructorReturn(this, (Tooltip.__proto__ || Object.getPrototypeOf(Tooltip)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Tooltip, [{\n    key: 'render',\n    value: function render() {\n\n      this.element = this.HTMLParent.select('div.francy-tooltip-holder');\n      // check if the window is already present\n      if (!this.element.node()) {\n        this.element = this.HTMLParent.append('div').attr('class', 'francy-tooltip-holder');\n      }\n\n      var pos = d3.mouse(this.SVGParent.node());\n\n      // TODO fix always visible tooltip, fine until someone complains about :P\n      this.element.style('left', pos[0] + 'px').style('top', pos[1] + 'px');\n\n      // check if it exists already\n      if (this.element.selectAll('*').node()) {\n        return;\n      }\n\n      var table = this.element.append('div').attr('class', 'francy-tooltip').append('div').attr('class', 'francy-table').append('div').attr('class', 'francy-table-body');\n      var self = this;\n      Object.keys(this.data).map(function (key) {\n        var row = table.append('div').attr('class', 'francy-table-row');\n        row.append('div').attr('class', 'francy-table-cell').text(self.data[key].title);\n        row.append('div').attr('class', 'francy-table-cell').text(self.data[key].text);\n      });\n\n      // show tooltip\n      this.element.style('display', 'block');\n\n      this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {\n      if (this.element) {\n        this.element.selectAll('*').remove();\n        this.element.style('display', null);\n      }\n    }\n  }]);\n\n  return Tooltip;\n}(_renderer2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Tooltip;\n\n},{\"../decorator/data\":1,\"./renderer\":19}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * This class contains methods to deal with JSON.\n */\nvar JsonUtils = function () {\n  function JsonUtils() {\n    _classCallCheck(this, JsonUtils);\n  }\n\n  _createClass(JsonUtils, null, [{\n    key: 'parse',\n\n\n    /**\n     * Parses an input nd checks whether this input is valid and returns a JSON object.\n     * @param input - the input to parse\n     * @returns {json} - if the input is a valid JSON object, otherwise returns {undefined}\n     */\n    value: function parse(input, partial) {\n      if (!input) {\n        return;\n      }\n      input = typeof input !== \"string\" ? JSON.stringify(input) : input;\n      input = input.replace(/[\\n\\r\\b\\\\]+|(gap>)/g, '');\n      var jsonRegex = /{(?:[^])*}/g;\n      var match = jsonRegex.exec(input);\n      if (match) {\n        input = match[0];\n        try {\n          var json = JSON.parse(input);\n          return json.mime === JsonUtils.MIME || partial ? json : undefined;\n        } catch (e) {\n          /* eslint-disable no-console */\n          console.error(e);\n          /* eslint-enable no-console */\n        }\n      }\n      return;\n    }\n  }, {\n    key: 'MIME',\n    get: function get() {\n      return 'application/vnd.francy+json';\n    }\n  }]);\n\n  return JsonUtils;\n}();\n\nexports.default = JsonUtils;\n\n},{}],22:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * This class is a singleton that provides a logger for the Francy application.\n */\nvar Logger = function () {\n\n  /**\n   * Singleton: Creates an instance of the logger and will returned that instance,\n   * everytime a new instance is requested.\n   * @param verbose prints extra log information to console.log, default false\n   */\n  function Logger() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose;\n\n    _classCallCheck(this, Logger);\n\n    this.verbose = verbose;\n    this.console = console;\n  }\n\n  /**\n   * Creates a [DEBUG] entry in the console log\n   * @param message the message to print\n   */\n\n\n  _createClass(Logger, [{\n    key: 'debug',\n    value: function debug(message) {\n      if (this.verbose) {\n        this.console.debug(this._format('DEBUG', message));\n      }\n    }\n\n    /**\n     * Creates a [INFO] entry in the console log\n     * @param message the message to print\n     */\n\n  }, {\n    key: 'info',\n    value: function info(message) {\n      this.console.info(this._format('INFO', message));\n    }\n\n    /**\n     * Creates a [ERROR] entry in the console log\n     * @param message the message to print\n     * @param error the error Object to attach to the message\n     */\n\n  }, {\n    key: 'error',\n    value: function error(message, _error) {\n      this.console.error(this._format('ERROR', message), _error);\n    }\n\n    /**\n     * Creates a [WARN] entry in the console log\n     * @param message the message to print\n     * @param error the error Object to attach to the message\n     */\n\n  }, {\n    key: 'warn',\n    value: function warn(message, error) {\n      error = error || {};\n      this.console.error(this._format('WARN', message), error);\n    }\n\n    /**\n     * This is a private method that formats all log messages\n     * @param message the message to print\n     */\n\n  }, {\n    key: '_format',\n    value: function _format(level, message) {\n      return '[' + level + '] - ' + new Date().toISOString() + ' - ' + message;\n    }\n  }]);\n\n  return Logger;\n}();\n\nexports.default = Logger;\n\n},{}]},{},[2])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvZGVjb3JhdG9yL2RhdGEuanMiLCJzcmMvZnJhbmN5LmpzIiwic3JjL3JlbmRlci9iYXNlLmpzIiwic3JjL3JlbmRlci9jYWxsYmFjay5qcyIsInNyYy9yZW5kZXIvY2FudmFzLmpzIiwic3JjL3JlbmRlci9jaGFydC1iYXIuanMiLCJzcmMvcmVuZGVyL2NoYXJ0LWxpbmUuanMiLCJzcmMvcmVuZGVyL2NoYXJ0LXNjYXR0ZXIuanMiLCJzcmMvcmVuZGVyL2NoYXJ0LmpzIiwic3JjL3JlbmRlci9jb21wb3NpdGUuanMiLCJzcmMvcmVuZGVyL2ZyYW1lLmpzIiwic3JjL3JlbmRlci9ncmFwaC5qcyIsInNyYy9yZW5kZXIvbWVudS1jb250ZXh0LmpzIiwic3JjL3JlbmRlci9tZW51LW1haW4uanMiLCJzcmMvcmVuZGVyL21lbnUuanMiLCJzcmMvcmVuZGVyL21lc3NhZ2UuanMiLCJzcmMvcmVuZGVyL21vZGFsLWFib3V0LmpzIiwic3JjL3JlbmRlci9tb2RhbC1yZXF1aXJlZC5qcyIsInNyYy9yZW5kZXIvcmVuZGVyZXIuanMiLCJzcmMvcmVuZGVyL3Rvb2x0aXAuanMiLCJzcmMvdXRpbC9qc29uLXV0aWxzLmpzIiwic3JjL3V0aWwvbG9nZ2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7UUNBZ0IsbUIsR0FBQSxtQjtBQUFULFNBQVMsbUJBQVQsQ0FBNkIsS0FBN0IsRUFBb0M7QUFDekMsU0FBTyxTQUFTLFNBQVQsQ0FBbUIsTUFBbkIsRUFBMkIsSUFBM0IsRUFBaUMsVUFBakMsRUFBNkM7QUFDbEQsUUFBSSxXQUFXLFdBQVcsS0FBMUI7O0FBRUEsZUFBVyxLQUFYLEdBQW1CLFlBQVc7QUFDNUIsVUFBSSxDQUFDLFFBQVEsWUFBWSxLQUFLLElBQWpCLEVBQXVCLEtBQXZCLENBQVIsQ0FBTCxFQUE2QztBQUMzQyxhQUFLLE1BQUwsQ0FBWSxLQUFaLG9CQUFtQyxLQUFuQztBQUNBO0FBQ0Q7QUFDRCxhQUFPLFNBQVMsS0FBVCxDQUFlLElBQWYsRUFBcUIsU0FBckIsQ0FBUDtBQUNELEtBTkQ7O0FBUUEsV0FBTyxVQUFQO0FBQ0QsR0FaRDtBQWFEOztBQUVELFNBQVMsV0FBVCxDQUFxQixHQUFyQixFQUEwQixZQUExQixFQUF3Qzs7QUFFdEMsTUFBSSxNQUFNLEdBQVY7O0FBRUEsTUFBSSxPQUFPLFlBQVgsRUFBeUI7QUFDdkIsUUFBSSxhQUFhLGFBQWEsS0FBYixDQUFtQixHQUFuQixDQUFqQjs7QUFEdUI7QUFBQTtBQUFBOztBQUFBO0FBR3ZCLDJCQUFxQixVQUFyQiw4SEFBaUM7QUFBQSxZQUF4QixRQUF3Qjs7QUFDL0IsWUFBSSxDQUFDLElBQUksY0FBSixDQUFtQixRQUFuQixDQUFMLEVBQW1DO0FBQ2pDLGdCQUFNLFNBQU47QUFDQTtBQUNELFNBSEQsTUFJSztBQUNILGdCQUFNLElBQUksUUFBSixDQUFOO0FBQ0Q7QUFDRjtBQVhzQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBWXhCOztBQUVELFNBQU8sR0FBUDtBQUNEOztBQUVELFNBQVMsT0FBVCxDQUFpQixHQUFqQixFQUFzQjtBQUNwQixNQUFJLFFBQVMsZUFBZSxLQUFmLElBQXdCLElBQUksTUFBN0IsSUFBeUMsZUFBZSxNQUFmLElBQXlCLE9BQU8sTUFBUCxDQUFjLEdBQWQsRUFBbUIsTUFBN0YsQ0FBSixFQUEyRztBQUN6RyxXQUFPLElBQVA7QUFDRDtBQUNELFNBQU8sS0FBUDtBQUNEOzs7Ozs7Ozs7Ozs7QUMxQ0Q7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0FBRUE7O0FBRUEsSUFBSSxhQUFhLEVBQWpCOztBQUVBOztBQUVBOzs7Ozs7Ozs7Ozs7SUFXcUIsTTs7O0FBRW5COzs7Ozs7O0FBT0Esd0JBQTREO0FBQUEsNEJBQTlDLE9BQThDO0FBQUEsUUFBOUMsT0FBOEMsZ0NBQXBDLEtBQW9DO0FBQUEsUUFBN0IsUUFBNkIsUUFBN0IsUUFBNkI7QUFBQSxRQUFuQixlQUFtQixRQUFuQixlQUFtQjs7QUFBQTs7QUFBQSxnSEFDcEQsRUFBRSxTQUFTLE9BQVgsRUFBb0IsVUFBVSxRQUE5QixFQUF3QyxpQkFBaUIsZUFBekQsRUFEb0Q7O0FBRTFELFFBQUksQ0FBQyxFQUFMLEVBQVM7QUFDUCxZQUFNLElBQUksS0FBSixDQUFVLDRFQUFWLENBQU47QUFDRDtBQUp5RDtBQUszRDs7QUFFRDs7Ozs7Ozs7OzZCQUtTO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsVUFBSSxRQUFRLG9CQUFVLEtBQUssT0FBZixFQUF3QixJQUF4QixDQUE2QixLQUFLLElBQWxDLEVBQXdDLE1BQXhDLEVBQVo7QUFDQSxpQkFBVyxLQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLEVBQTVCLElBQWtDLE1BQU0sTUFBeEM7QUFDQSxhQUFPLE1BQU0sT0FBTixDQUFjLElBQWQsRUFBUDtBQUNEOzs7NkJBRVEsRSxFQUFJO0FBQ1gsYUFBTyxXQUFXLEVBQVgsQ0FBUDtBQUNEOzs7Ozs7a0JBaENrQixNOzs7QUFtQ3JCLElBQUk7QUFDRixVQUFRLE1BQVIsR0FBaUIsT0FBTyxNQUFQLEdBQWdCLE1BQWpDO0FBQ0E7QUFDQSxNQUFJLFlBQVksT0FBTyxRQUF2QjtBQUNBLFNBQU8sUUFBUCxHQUFrQixZQUFXO0FBQzNCO0FBQ0EsV0FBTyxNQUFQLENBQWMsVUFBZCxFQUEwQixPQUExQixDQUFrQyxVQUFTLE1BQVQsRUFBaUI7QUFDakQsYUFBTyxTQUFQO0FBQ0QsS0FGRDtBQUdBO0FBQ0EsUUFBSSxPQUFPLFNBQVAsS0FBcUIsVUFBekIsRUFBcUM7QUFDbkM7QUFDRDtBQUNGLEdBVEQ7QUFVRCxDQWRELENBZUEsT0FBTyxDQUFQLEVBQVU7QUFDUixVQUFRLE1BQVIsR0FBaUIsTUFBakI7QUFDRDs7Ozs7Ozs7Ozs7O0FDeEVEOzs7O0FBQ0E7Ozs7Ozs7O0lBRXFCLEk7QUFFbkIsc0JBQTREO0FBQUEsNEJBQTlDLE9BQThDO0FBQUEsUUFBOUMsT0FBOEMsZ0NBQXBDLEtBQW9DO0FBQUEsUUFBN0IsUUFBNkIsUUFBN0IsUUFBNkI7QUFBQSxRQUFuQixlQUFtQixRQUFuQixlQUFtQjs7QUFBQTs7QUFDMUQsU0FBSyxRQUFMLENBQWMsRUFBRSxTQUFTLE9BQVgsRUFBb0IsVUFBVSxRQUE5QixFQUF3QyxpQkFBaUIsZUFBekQsRUFBZDtBQUNBOzs7QUFHQSxTQUFLLEdBQUwsR0FBVyxxQkFBVyxLQUFLLE9BQWhCLENBQVg7QUFDRDs7OztvQ0FFZ0Q7QUFBQSxVQUF0QyxPQUFzQyxTQUF0QyxPQUFzQztBQUFBLFVBQTdCLFFBQTZCLFNBQTdCLFFBQTZCO0FBQUEsVUFBbkIsZUFBbUIsU0FBbkIsZUFBbUI7O0FBQy9DLFVBQUksQ0FBQyxlQUFMLEVBQXNCO0FBQ3BCLGNBQU0sSUFBSSxLQUFKLENBQVUsd0dBQVYsQ0FBTjtBQUNEO0FBQ0QsVUFBSSxDQUFDLFFBQUwsRUFBZTtBQUNiLGNBQU0sSUFBSSxLQUFKLENBQVUsd0RBQVYsQ0FBTjtBQUNEO0FBQ0Q7Ozs7OztBQU1BLFdBQUssT0FBTCxHQUFlLEVBQWY7QUFDQSxXQUFLLE9BQUwsQ0FBYSxPQUFiLEdBQXVCLFdBQVcsS0FBSyxPQUFMLENBQWEsT0FBL0M7QUFDQSxXQUFLLE9BQUwsQ0FBYSxRQUFiLEdBQXdCLFlBQVksS0FBSyxPQUFMLENBQWEsT0FBakQ7QUFDQSxXQUFLLE9BQUwsQ0FBYSxlQUFiLEdBQStCLG1CQUFtQixLQUFLLE9BQUwsQ0FBYSxlQUEvRDtBQUNBLGFBQU8sSUFBUDtBQUNEOzs7eUJBRUksSSxFQUFNLE8sRUFBUztBQUNsQixVQUFJLE9BQU8sb0JBQVUsS0FBVixDQUFnQixJQUFoQixFQUFzQixPQUF0QixDQUFYO0FBQ0EsVUFBSSxJQUFKLEVBQVU7QUFDUixhQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0Q7QUFDRCxhQUFPLElBQVA7QUFDRDs7O3dCQUVZO0FBQ1gsYUFBTyxLQUFLLEdBQVo7QUFDRDs7Ozs7O2tCQXhDa0IsSTs7Ozs7Ozs7Ozs7Ozs7QUNIckI7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFFcUIsZSxXQU9sQixnQzs7O0FBTEQsaUNBQTREO0FBQUEsNEJBQTlDLE9BQThDO0FBQUEsUUFBOUMsT0FBOEMsZ0NBQXBDLEtBQW9DO0FBQUEsUUFBN0IsUUFBNkIsUUFBN0IsUUFBNkI7QUFBQSxRQUFuQixlQUFtQixRQUFuQixlQUFtQjs7QUFBQTs7QUFBQSxrSUFDcEQsRUFBRSxTQUFTLE9BQVgsRUFBb0IsVUFBVSxRQUE5QixFQUF3QyxpQkFBaUIsZUFBekQsRUFEb0Q7O0FBRTFELFVBQUssUUFBTCxHQUFnQixlQUFoQjtBQUYwRDtBQUczRDs7Ozs4QkFHUztBQUFBOztBQUNSLFVBQUksT0FBTyxJQUFQLENBQVksS0FBSyxJQUFMLENBQVUsUUFBVixDQUFtQixZQUEvQixFQUE2QyxNQUFqRCxFQUF5RDtBQUN2RCxZQUFJLFVBQVUsS0FBSyxPQUFuQjtBQUNBLGdCQUFRLGVBQVIsR0FBMEIsVUFBQyxVQUFEO0FBQUEsaUJBQWdCLE9BQUssUUFBTCxDQUFjLElBQWQsU0FBeUIsVUFBekIsQ0FBaEI7QUFBQSxTQUExQjtBQUNBLGVBQU8sNEJBQXNCLE9BQXRCLEVBQStCLElBQS9CLENBQW9DLEtBQUssSUFBekMsRUFBK0MsSUFBL0MsRUFBcUQsTUFBckQsRUFBUDtBQUNELE9BSkQsTUFLSztBQUNIO0FBQ0EsYUFBSyxRQUFMLENBQWMsS0FBSyxJQUFMLENBQVUsUUFBeEI7QUFDRDtBQUNGOzs7NkJBRVEsVSxFQUFZO0FBQ25CLFdBQUssUUFBTCxjQUF5QixLQUFLLFNBQUwsQ0FBZSxLQUFLLFNBQUwsQ0FBZSxVQUFmLENBQWYsQ0FBekI7QUFDRDs7Ozs7a0JBdEJrQixlOzs7Ozs7Ozs7Ozs7OztBQ0pyQjs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7O0lBRXFCLE0sV0FTbEIsZ0M7OztBQVBELHdCQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEsZ0hBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EOztBQUUxRCxVQUFLLEtBQUwsR0FBYSxvQkFBVSxNQUFLLE9BQWYsQ0FBYjtBQUNBLFVBQUssS0FBTCxHQUFhLG9CQUFVLE1BQUssT0FBZixDQUFiO0FBQ0EsVUFBSyxHQUFMLENBQVMsTUFBSyxLQUFkLEVBQXFCLEdBQXJCLENBQXlCLE1BQUssS0FBOUI7QUFKMEQ7QUFLM0Q7Ozs7NkJBR1E7QUFDUCxVQUFJLFNBQVMsS0FBSyxPQUFMLENBQWEsUUFBYixDQUFzQixPQUFuQzs7QUFFQSxVQUFJLFdBQVcsS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixFQUFoQztBQUNBLFdBQUssT0FBTCxHQUFlLEdBQUcsTUFBSCxVQUFpQixRQUFqQixDQUFmO0FBQ0E7QUFDQSxVQUFJLENBQUMsS0FBSyxPQUFMLENBQWEsSUFBYixFQUFMLEVBQTBCO0FBQ3hCO0FBQ0EsYUFBSyxNQUFMLENBQVksS0FBWix1QkFBc0MsUUFBdEM7QUFDQSxhQUFLLE9BQUwsR0FBZSxPQUFPLE1BQVAsQ0FBYyxLQUFkLEVBQ1osSUFEWSxDQUNQLE9BRE8sRUFDRSxlQURGLEVBRVosSUFGWSxDQUVQLElBRk8sRUFFRCxRQUZDLENBQWY7QUFHRDs7QUFFRDtBQUNBLFVBQUksQ0FBQyxLQUFLLE9BQUwsQ0FBYSxJQUFiLEVBQUwsRUFBMEI7QUFDeEIsY0FBTSxJQUFJLEtBQUosNkNBQW9ELFFBQXBELDBCQUFOO0FBQ0Q7O0FBRUQsV0FBSyxPQUFMLENBQWEsSUFBYixDQUFrQixPQUFsQixFQUEyQixLQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLEtBQTVDLEVBQW1ELElBQW5ELENBQXdELFFBQXhELEVBQWtFLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsTUFBbkY7O0FBRUEsVUFBSSxPQUFPLEdBQUcsSUFBSCxFQUFYOztBQUVBLFVBQUksVUFBVSxLQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLGtCQUFwQixDQUFkOztBQUVBLFVBQUksQ0FBQyxRQUFRLElBQVIsRUFBTCxFQUFxQjtBQUNuQixrQkFBVSxLQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLEdBQXBCLEVBQXlCLElBQXpCLENBQThCLE9BQTlCLEVBQXVDLGdCQUF2QyxDQUFWO0FBQ0EsYUFBSyxFQUFMLENBQVEsTUFBUixFQUFnQixNQUFoQjtBQUNBLGFBQUssT0FBTCxDQUFhLElBQWIsQ0FBa0IsSUFBbEIsRUFBd0IsRUFBeEIsQ0FBMkIsZUFBM0IsRUFBNEMsSUFBNUM7QUFDRDs7QUFFRCxXQUFLLE9BQUwsQ0FBYSxFQUFiLENBQWdCLE9BQWhCLEVBQXlCLE9BQXpCLEVBQWtDLElBQWxDOztBQUVBLFVBQUksT0FBTyxJQUFYO0FBQ0EsV0FBSyxPQUFMLENBQWEsU0FBYixHQUF5QixLQUFLLFNBQUwsR0FBaUIsWUFBVztBQUNuRDtBQUNBLFlBQUksS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixTQUFyQixFQUFnQztBQUM5QixjQUFJLFNBQVMsUUFBUSxJQUFSLEdBQWUsT0FBZixFQUFiOztBQUVBLGNBQUksZUFBZSxLQUFLLE9BQUwsQ0FBYSxJQUFiLEdBQW9CLHFCQUFwQixFQUFuQjtBQUFBLGNBQ0UsWUFBWSxhQUFhLEtBQWIsR0FBcUIsYUFBYSxJQURoRDtBQUFBLGNBRUUsYUFBYSxhQUFhLE1BQWIsR0FBc0IsYUFBYSxHQUZsRDs7QUFJQSxjQUFJLFFBQVEsT0FBTyxLQUFuQjtBQUFBLGNBQ0UsU0FBUyxPQUFPLE1BRGxCOztBQUdBLGNBQUksU0FBUyxDQUFULElBQWMsVUFBVSxDQUE1QixFQUErQjs7QUFFL0IsY0FBSSxPQUFPLE9BQU8sQ0FBUCxHQUFXLFFBQVEsQ0FBOUI7QUFBQSxjQUNFLE9BQU8sT0FBTyxDQUFQLEdBQVcsU0FBUyxDQUQ3Qjs7QUFHQSxjQUFJLFFBQVEsTUFBTSxLQUFLLEdBQUwsQ0FBUyxRQUFRLFNBQWpCLEVBQTRCLFNBQVMsVUFBckMsQ0FBbEI7QUFDQSxjQUFJLGFBQWEsWUFBWSxDQUFaLEdBQWdCLFFBQVEsSUFBekM7QUFBQSxjQUNFLGFBQWEsYUFBYSxDQUFiLEdBQWlCLFFBQVEsSUFEeEM7O0FBR0Esa0JBQVEsVUFBUixHQUNHLFFBREgsQ0FDWSxJQURaLEVBRUcsSUFGSCxDQUVRLFdBRlIsaUJBRWtDLFVBRmxDLFNBRWdELFVBRmhELGVBRW9FLEtBRnBFLFNBRTZFLEtBRjdFLFFBR0csRUFISCxDQUdNLEtBSE4sRUFHYTtBQUFBLG1CQUFNLFdBQVcsVUFBWCxFQUF1QixVQUF2QixFQUFtQyxLQUFuQyxDQUFOO0FBQUEsV0FIYjtBQUlEO0FBQ0YsT0ExQkQ7O0FBNEJBLGVBQVMsVUFBVCxDQUFvQixVQUFwQixFQUFnQyxVQUFoQyxFQUE0QyxLQUE1QyxFQUFtRDtBQUNqRCxhQUFLLE9BQUwsQ0FBYSxJQUFiLENBQWtCLEtBQUssU0FBdkIsRUFBa0MsR0FBRyxZQUFILENBQWdCLFNBQWhCLENBQTBCLFVBQTFCLEVBQXNDLFVBQXRDLEVBQWtELEtBQWxELENBQXdELEtBQXhELEVBQStELEtBQS9ELENBQWxDO0FBQ0Q7O0FBRUQsZUFBUyxNQUFULEdBQWtCO0FBQ2hCLGdCQUFRLElBQVIsQ0FBYSxXQUFiLEVBQTBCLEdBQUcsS0FBSCxDQUFTLFNBQW5DO0FBQ0Q7O0FBRUQsZUFBUyxPQUFULEdBQW1CO0FBQ2pCLFlBQUksR0FBRyxLQUFILENBQVMsZ0JBQWIsRUFBK0I7QUFBRSxhQUFHLEtBQUgsQ0FBUyxlQUFUO0FBQTZCO0FBQy9EOztBQUVELFdBQUssTUFBTCxDQUFZLEtBQVosc0JBQXFDLFFBQXJDOztBQUVBLFdBQUssY0FBTDs7QUFFQSxhQUFPLElBQVA7QUFDRDs7OytCQUVVLENBQUU7Ozs7O2tCQTNGTSxNOzs7Ozs7Ozs7Ozs7QUNQckI7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQTs7SUFFcUIsUTs7O0FBRW5CLDBCQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEsK0dBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EO0FBRTNEOzs7OzZCQUVROztBQUVQLFVBQUksVUFBVSxzQkFBWSxLQUFLLE9BQWpCLENBQWQ7O0FBRUEsVUFBSSxTQUFTLEtBQUssT0FBTCxDQUFhLFFBQWIsQ0FBc0IsT0FBbkM7O0FBRUEsVUFBSSxPQUFPLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsS0FBakIsQ0FBdUIsSUFBbEM7QUFBQSxVQUNFLFdBQVcsS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixLQUFqQixDQUF1QixJQURwQztBQUFBLFVBRUUsZUFBZSxPQUFPLElBQVAsQ0FBWSxRQUFaLENBRmpCOztBQUlBLFdBQUssT0FBTCxHQUFlLE9BQU8sTUFBUCxDQUFjLGtCQUFkLENBQWY7O0FBRUEsVUFBSSxTQUFTLEVBQUUsS0FBSyxFQUFQLEVBQVcsT0FBTyxFQUFsQixFQUFzQixRQUFRLEVBQTlCLEVBQWtDLE1BQU0sRUFBeEMsRUFBYjtBQUFBLFVBQ0UsUUFBUSxDQUFDLE9BQU8sSUFBUCxDQUFZLE9BQVosQ0FBRCxJQUF5QixHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLElBQWxCLEdBQXlCLHFCQUF6QixHQUFpRCxLQURwRjtBQUFBLFVBRUUsU0FBUyxDQUFDLE9BQU8sSUFBUCxDQUFZLFFBQVosQ0FBRCxJQUEwQixHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLElBQWxCLEdBQXlCLHFCQUF6QixHQUFpRCxNQUZ0Rjs7QUFJQTtBQUNBLGNBQVEsUUFBUSxPQUFPLElBQWYsR0FBc0IsT0FBTyxLQUFyQztBQUNBLGVBQVMsU0FBUyxPQUFPLEdBQWhCLEdBQXNCLE9BQU8sTUFBdEM7O0FBRUE7QUFDQSxVQUFJLElBQUksR0FBRyxTQUFILEdBQWUsS0FBZixDQUFxQixDQUFDLENBQUQsRUFBSSxLQUFKLENBQXJCLEVBQWlDLE9BQWpDLENBQXlDLEdBQXpDLEVBQThDLE1BQTlDLENBQXFELEtBQUssQ0FBTCxDQUFPLE1BQTVELENBQVI7QUFDQSxVQUFJLElBQUksR0FBRyxXQUFILEdBQWlCLEtBQWpCLENBQXVCLENBQUMsTUFBRCxFQUFTLENBQVQsQ0FBdkIsRUFBb0MsTUFBcEMsQ0FBMkMsS0FBSyxDQUFMLENBQU8sTUFBbEQsQ0FBUjs7QUFFQSxVQUFJLE1BQU0sRUFBVjtBQUNBLG1CQUFhLE9BQWIsQ0FBcUI7QUFBQSxlQUFPLE1BQU0sSUFBSSxNQUFKLENBQVcsU0FBUyxHQUFULENBQVgsQ0FBYjtBQUFBLE9BQXJCOztBQUVBLFVBQUksQ0FBQyxLQUFLLENBQUwsQ0FBTyxNQUFQLENBQWMsTUFBbkIsRUFBMkI7QUFDekIsVUFBRSxNQUFGLENBQVMsQ0FBQyxDQUFELEVBQUksR0FBRyxHQUFILENBQU8sR0FBUCxFQUFZO0FBQUEsaUJBQUssQ0FBTDtBQUFBLFNBQVosQ0FBSixDQUFUO0FBQ0Q7O0FBRUQsVUFBSSxDQUFDLEtBQUssQ0FBTCxDQUFPLE1BQVAsQ0FBYyxNQUFuQixFQUEyQjtBQUN6QixhQUFLLENBQUwsQ0FBTyxNQUFQLEdBQWdCLGdCQUFNLFdBQU4sQ0FBa0IsSUFBSSxNQUFKLEdBQWEsYUFBYSxNQUE1QyxDQUFoQjtBQUNBLFVBQUUsTUFBRixDQUFTLEtBQUssQ0FBTCxDQUFPLE1BQWhCO0FBQ0Q7O0FBRUQsVUFBSSxZQUFZLEtBQUssT0FBTCxDQUFhLFNBQWIsQ0FBdUIsZUFBdkIsQ0FBaEI7O0FBRUEsVUFBSSxDQUFDLFVBQVUsSUFBVixFQUFMLEVBQXVCO0FBQ3JCLG9CQUFZLEtBQUssT0FBTCxDQUFhLE1BQWIsQ0FBb0IsR0FBcEIsRUFBeUIsSUFBekIsQ0FBOEIsT0FBOUIsRUFBdUMsYUFBdkMsQ0FBWjtBQUNEOztBQUVELG1CQUFhLE9BQWIsQ0FBcUIsVUFBUyxHQUFULEVBQWMsS0FBZCxFQUFxQjtBQUN4QyxZQUFJLE1BQU0sVUFBVSxTQUFWLGlCQUFrQyxLQUFsQyxFQUEyQyxJQUEzQyxDQUFnRCxTQUFTLEdBQVQsQ0FBaEQsQ0FBVjs7QUFFQSxZQUFJLElBQUosR0FBVyxNQUFYOztBQUVBO0FBQ0EsWUFBSSxLQUFKLEdBQ0csTUFESCxDQUNVLE1BRFYsRUFFRyxLQUZILENBRVMsTUFGVCxFQUVpQjtBQUFBLGlCQUFNLGdCQUFNLE1BQU4sQ0FBYSxRQUFRLENBQXJCLENBQU47QUFBQSxTQUZqQixFQUdHLElBSEgsQ0FHUSxPQUhSLGlCQUc4QixLQUg5QixFQUlHLElBSkgsQ0FJUSxHQUpSLEVBSWEsVUFBUyxDQUFULEVBQVksQ0FBWixFQUFlO0FBQUUsaUJBQU8sRUFBRSxLQUFLLENBQUwsQ0FBTyxNQUFQLENBQWMsQ0FBZCxDQUFGLElBQXNCLFNBQVMsRUFBRSxTQUFGLEtBQWdCLGFBQWEsTUFBdEMsQ0FBN0I7QUFBNkUsU0FKM0csRUFLRyxJQUxILENBS1EsT0FMUixFQUtrQixFQUFFLFNBQUYsS0FBZ0IsYUFBYSxNQUE5QixHQUF3QyxDQUx6RCxFQU1HLElBTkgsQ0FNUSxHQU5SLEVBTWEsVUFBUyxDQUFULEVBQVk7QUFBRSxpQkFBTyxFQUFFLENBQUYsQ0FBUDtBQUFjLFNBTnpDLEVBT0csSUFQSCxDQU9RLFFBUFIsRUFPa0IsVUFBUyxDQUFULEVBQVk7QUFBRSxpQkFBTyxTQUFTLEVBQUUsQ0FBRixDQUFoQjtBQUF1QixTQVB2RCxFQVFHLEVBUkgsQ0FRTSxZQVJOLEVBUW9CLFVBQVMsQ0FBVCxFQUFZO0FBQzVCLGFBQUcsTUFBSCxDQUFVLElBQVYsRUFBZ0IsVUFBaEIsR0FDRyxRQURILENBQ1ksR0FEWixFQUNpQixLQURqQixDQUN1QixjQUR2QixFQUN1QyxHQUR2QztBQUVBLGtCQUFRLElBQVIsQ0FBYSxnQkFBTSxPQUFOLENBQWMsR0FBZCxFQUFtQixDQUFuQixDQUFiLEVBQW9DLElBQXBDLEVBQTBDLE1BQTFDO0FBQ0QsU0FaSCxFQWFHLEVBYkgsQ0FhTSxZQWJOLEVBYW9CLFlBQVc7QUFDM0IsYUFBRyxNQUFILENBQVUsSUFBVixFQUFnQixVQUFoQixHQUNHLFFBREgsQ0FDWSxHQURaLEVBQ2lCLEtBRGpCLENBQ3VCLGNBRHZCLEVBQ3VDLENBRHZDO0FBRUEsa0JBQVEsUUFBUjtBQUNELFNBakJIOztBQW1CQSxZQUFJLEtBQUosQ0FBVSxHQUFWO0FBQ0QsT0ExQkQ7O0FBNEJBO0FBQ0EsVUFBSSxhQUFhLEtBQUssT0FBTCxDQUFhLFNBQWIsQ0FBdUIsaUJBQXZCLENBQWpCOztBQUVBLFVBQUksQ0FBQyxXQUFXLElBQVgsRUFBTCxFQUF3QjtBQUN0QixxQkFBYSxLQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLEdBQXBCLEVBQXlCLElBQXpCLENBQThCLE9BQTlCLEVBQXVDLGVBQXZDLENBQWI7QUFDRDs7QUFFRCxpQkFBVyxTQUFYLENBQXFCLEdBQXJCLEVBQTBCLE1BQTFCOztBQUVBO0FBQ0EsaUJBQ0csSUFESCxDQUNRLFdBRFIsbUJBQ29DLE1BRHBDLFFBRUcsSUFGSCxDQUVRLEdBQUcsVUFBSCxDQUFjLENBQWQsQ0FGUixFQUdHLE1BSEgsQ0FHVSxNQUhWLEVBSUcsSUFKSCxDQUlRLElBSlIsRUFJYyxFQUpkLEVBS0csSUFMSCxDQUtRLElBTFIsRUFLYyxRQUFRLENBTHRCLEVBTUcsSUFOSCxDQU1RLE1BTlIsRUFNZ0IsT0FOaEIsRUFPRyxJQVBILENBT1EsT0FQUixFQU9pQixhQVBqQixFQVFHLEtBUkgsQ0FRUyxhQVJULEVBUXdCLEtBUnhCLEVBU0csSUFUSCxDQVNRLEtBQUssQ0FBTCxDQUFPLEtBVGY7O0FBV0E7QUFDQSxVQUFJLGFBQWEsS0FBSyxPQUFMLENBQWEsU0FBYixDQUF1QixpQkFBdkIsQ0FBakI7O0FBRUEsVUFBSSxDQUFDLFdBQVcsSUFBWCxFQUFMLEVBQXdCO0FBQ3RCLHFCQUFhLEtBQUssT0FBTCxDQUFhLE1BQWIsQ0FBb0IsR0FBcEIsRUFBeUIsSUFBekIsQ0FBOEIsT0FBOUIsRUFBdUMsZUFBdkMsQ0FBYjtBQUNEOztBQUVELGlCQUFXLFNBQVgsQ0FBcUIsR0FBckIsRUFBMEIsTUFBMUI7O0FBRUE7QUFDQSxpQkFDRyxJQURILENBQ1EsR0FBRyxRQUFILENBQVksQ0FBWixDQURSLEVBRUcsTUFGSCxDQUVVLE1BRlYsRUFHRyxJQUhILENBR1EsSUFIUixFQUdjLENBQUMsRUFIZixFQUlHLElBSkgsQ0FJUSxJQUpSLEVBSWMsU0FBUyxDQUp2QixFQUtHLElBTEgsQ0FLUSxNQUxSLEVBS2dCLE9BTGhCLEVBTUcsSUFOSCxDQU1RLE9BTlIsRUFNaUIsYUFOakIsRUFPRyxLQVBILENBT1MsYUFQVCxFQU93QixLQVB4QixFQVFHLElBUkgsQ0FRUSxLQUFLLENBQUwsQ0FBTyxLQVJmOztBQVVBLFVBQUksY0FBYyxLQUFLLE9BQUwsQ0FBYSxTQUFiLENBQXVCLGdCQUF2QixDQUFsQjs7QUFFQSxVQUFJLENBQUMsWUFBWSxJQUFaLEVBQUwsRUFBeUI7QUFDdkIsc0JBQWMsS0FBSyxPQUFMLENBQWEsTUFBYixDQUFvQixHQUFwQixFQUF5QixJQUF6QixDQUE4QixPQUE5QixFQUF1QyxlQUF2QyxDQUFkO0FBQ0Q7O0FBRUQ7QUFDQSxrQkFBWSxTQUFaLENBQXNCLEdBQXRCLEVBQTJCLE1BQTNCOztBQUVBLFVBQUksU0FBUyxZQUFZLFNBQVosQ0FBc0IsR0FBdEIsRUFBMkIsSUFBM0IsQ0FBZ0MsYUFBYSxLQUFiLEVBQWhDLENBQWI7O0FBRUEsYUFBTyxJQUFQLEdBQWMsTUFBZDs7QUFFQSxlQUFTLE9BQU8sS0FBUCxHQUNOLE1BRE0sQ0FDQyxHQURELEVBRU4sSUFGTSxDQUVELFdBRkMsRUFFWSxVQUFDLENBQUQsRUFBSSxDQUFKO0FBQUEsZ0NBQXlCLElBQUksRUFBN0I7QUFBQSxPQUZaLEVBR04sS0FITSxDQUdBLE1BSEEsQ0FBVDs7QUFLQSxhQUFPLE1BQVAsQ0FBYyxNQUFkLEVBQ0csSUFESCxDQUNRLEdBRFIsRUFDYSxRQUFRLEVBRHJCLEVBRUcsSUFGSCxDQUVRLE9BRlIsRUFFaUIsRUFGakIsRUFHRyxJQUhILENBR1EsUUFIUixFQUdrQixFQUhsQixFQUlHLEtBSkgsQ0FJUyxNQUpULEVBSWlCLFVBQUMsQ0FBRCxFQUFJLENBQUo7QUFBQSxlQUFVLGdCQUFNLE1BQU4sQ0FBYSxJQUFJLENBQWpCLENBQVY7QUFBQSxPQUpqQjs7QUFNQSxhQUFPLE1BQVAsQ0FBYyxNQUFkLEVBQ0csSUFESCxDQUNRLEdBRFIsRUFDYSxRQUFRLEVBRHJCLEVBRUcsSUFGSCxDQUVRLEdBRlIsRUFFYSxDQUZiLEVBR0csSUFISCxDQUdRLElBSFIsRUFHYyxPQUhkLEVBSUcsS0FKSCxDQUlTLGFBSlQsRUFJd0IsS0FKeEIsRUFLRyxJQUxILENBS1E7QUFBQSxlQUFLLENBQUw7QUFBQSxPQUxSOztBQU9BLGFBQU8sSUFBUDtBQUNEOzs7K0JBRVUsQ0FBRTs7Ozs7O2tCQXZKTSxROzs7Ozs7Ozs7Ozs7QUNOckI7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQTs7SUFFcUIsUzs7O0FBRW5CLDJCQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEsaUhBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EO0FBRTNEOzs7OzZCQUVROztBQUVQLFVBQUksVUFBVSxzQkFBWSxLQUFLLE9BQWpCLENBQWQ7O0FBRUEsVUFBSSxTQUFTLEtBQUssT0FBTCxDQUFhLFFBQWIsQ0FBc0IsT0FBbkM7O0FBRUEsVUFBSSxPQUFPLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsS0FBakIsQ0FBdUIsSUFBbEM7QUFBQSxVQUNFLFdBQVcsS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixLQUFqQixDQUF1QixJQURwQztBQUFBLFVBRUUsZUFBZSxPQUFPLElBQVAsQ0FBWSxRQUFaLENBRmpCOztBQUlBLFdBQUssT0FBTCxHQUFlLE9BQU8sTUFBUCxDQUFjLGtCQUFkLENBQWY7O0FBRUEsVUFBSSxTQUFTLEVBQUUsS0FBSyxFQUFQLEVBQVcsT0FBTyxFQUFsQixFQUFzQixRQUFRLEVBQTlCLEVBQWtDLE1BQU0sRUFBeEMsRUFBYjtBQUFBLFVBQ0UsUUFBUSxDQUFDLE9BQU8sSUFBUCxDQUFZLE9BQVosQ0FBRCxJQUF5QixHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLElBQWxCLEdBQXlCLHFCQUF6QixHQUFpRCxLQURwRjtBQUFBLFVBRUUsU0FBUyxDQUFDLE9BQU8sSUFBUCxDQUFZLFFBQVosQ0FBRCxJQUEwQixHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLElBQWxCLEdBQXlCLHFCQUF6QixHQUFpRCxNQUZ0Rjs7QUFJQTtBQUNBLGNBQVEsUUFBUSxPQUFPLElBQWYsR0FBc0IsT0FBTyxLQUFyQztBQUNBLGVBQVMsU0FBUyxPQUFPLEdBQWhCLEdBQXNCLE9BQU8sTUFBdEM7O0FBRUE7QUFDQSxVQUFJLElBQUksR0FBRyxXQUFILEdBQWlCLEtBQWpCLENBQXVCLENBQUMsQ0FBRCxFQUFJLEtBQUosQ0FBdkIsRUFBbUMsTUFBbkMsQ0FBMEMsS0FBSyxDQUFMLENBQU8sTUFBakQsQ0FBUjtBQUNBLFVBQUksSUFBSSxHQUFHLFdBQUgsR0FBaUIsS0FBakIsQ0FBdUIsQ0FBQyxNQUFELEVBQVMsQ0FBVCxDQUF2QixFQUFvQyxNQUFwQyxDQUEyQyxLQUFLLENBQUwsQ0FBTyxNQUFsRCxDQUFSOztBQUVBLFVBQUksTUFBTSxFQUFWO0FBQ0EsbUJBQWEsT0FBYixDQUFxQjtBQUFBLGVBQU8sTUFBTSxJQUFJLE1BQUosQ0FBVyxTQUFTLEdBQVQsQ0FBWCxDQUFiO0FBQUEsT0FBckI7O0FBRUEsVUFBSSxDQUFDLEtBQUssQ0FBTCxDQUFPLE1BQVAsQ0FBYyxNQUFuQixFQUEyQjtBQUN6QixVQUFFLE1BQUYsQ0FBUyxDQUFDLENBQUQsRUFBSSxHQUFHLEdBQUgsQ0FBTyxHQUFQLEVBQVk7QUFBQSxpQkFBSyxDQUFMO0FBQUEsU0FBWixDQUFKLENBQVQ7QUFDRDs7QUFFRCxVQUFJLENBQUMsS0FBSyxDQUFMLENBQU8sTUFBUCxDQUFjLE1BQW5CLEVBQTJCO0FBQ3pCLFVBQUUsTUFBRixDQUFTLENBQUMsQ0FBRCxFQUFJLElBQUksTUFBSixHQUFhLGFBQWEsTUFBOUIsQ0FBVDtBQUNEOztBQUVELFVBQUksYUFBYSxLQUFLLE9BQUwsQ0FBYSxTQUFiLENBQXVCLGdCQUF2QixDQUFqQjs7QUFFQSxVQUFJLENBQUMsV0FBVyxJQUFYLEVBQUwsRUFBd0I7QUFDdEIscUJBQWEsS0FBSyxPQUFMLENBQWEsTUFBYixDQUFvQixHQUFwQixFQUF5QixJQUF6QixDQUE4QixPQUE5QixFQUF1QyxjQUF2QyxDQUFiO0FBQ0Q7O0FBRUQsbUJBQWEsT0FBYixDQUFxQixVQUFTLEdBQVQsRUFBYyxLQUFkLEVBQXFCO0FBQ3hDLFlBQUksWUFBWSxHQUFHLElBQUgsR0FDYixDQURhLENBQ1gsVUFBUyxDQUFULEVBQVksQ0FBWixFQUFlO0FBQUUsaUJBQU8sRUFBRSxDQUFGLENBQVA7QUFBYyxTQURwQixFQUViLENBRmEsQ0FFWCxVQUFTLENBQVQsRUFBWTtBQUFFLGlCQUFPLEVBQUUsQ0FBRixDQUFQO0FBQWMsU0FGakIsQ0FBaEI7O0FBSUEsWUFBSSxPQUFPLFdBQVcsU0FBWCxXQUE2QixLQUE3QixFQUFzQyxJQUF0QyxDQUEyQyxDQUFDLFNBQVMsR0FBVCxDQUFELENBQTNDLENBQVg7O0FBRUEsYUFBSyxJQUFMLEdBQVksTUFBWjs7QUFFQTtBQUNBLGFBQUssS0FBTCxHQUNHLE1BREgsQ0FDVSxNQURWLEVBRUcsS0FGSCxDQUVTLFFBRlQsRUFFbUI7QUFBQSxpQkFBTSxnQkFBTSxNQUFOLENBQWEsUUFBUSxDQUFyQixDQUFOO0FBQUEsU0FGbkIsRUFHRyxLQUhILENBR1MsY0FIVCxFQUd5QixLQUh6QixFQUlHLElBSkgsQ0FJUSxPQUpSLGtCQUkrQixLQUovQixFQUtHLElBTEgsQ0FLUSxHQUxSLEVBS2EsU0FMYixFQU1HLEVBTkgsQ0FNTSxZQU5OLEVBTW9CLFVBQVMsQ0FBVCxFQUFZO0FBQzVCLGFBQUcsTUFBSCxDQUFVLElBQVYsRUFBZ0IsVUFBaEIsR0FDRyxRQURILENBQ1ksR0FEWixFQUVHLEtBRkgsQ0FFUyxnQkFGVCxFQUUyQixHQUYzQixFQUdHLEtBSEgsQ0FHUyxjQUhULEVBR3lCLE1BSHpCO0FBSUEsa0JBQVEsSUFBUixDQUFhLGdCQUFNLE9BQU4sQ0FBYyxHQUFkLEVBQW1CLENBQW5CLENBQWIsRUFBb0MsSUFBcEMsRUFBMEMsTUFBMUM7QUFDRCxTQVpILEVBYUcsRUFiSCxDQWFNLFlBYk4sRUFhb0IsWUFBVztBQUMzQixhQUFHLE1BQUgsQ0FBVSxJQUFWLEVBQWdCLFVBQWhCLEdBQ0csUUFESCxDQUNZLEdBRFosRUFFRyxLQUZILENBRVMsZ0JBRlQsRUFFMkIsQ0FGM0IsRUFHRyxLQUhILENBR1MsY0FIVCxFQUd5QixLQUh6QjtBQUlBLGtCQUFRLFFBQVI7QUFDRCxTQW5CSDs7QUFxQkEsYUFBSyxLQUFMLENBQVcsSUFBWDtBQUNELE9BaENEOztBQWtDQTtBQUNBLFVBQUksYUFBYSxLQUFLLE9BQUwsQ0FBYSxTQUFiLENBQXVCLGlCQUF2QixDQUFqQjs7QUFFQSxVQUFJLENBQUMsV0FBVyxJQUFYLEVBQUwsRUFBd0I7QUFDdEIscUJBQWEsS0FBSyxPQUFMLENBQWEsTUFBYixDQUFvQixHQUFwQixFQUF5QixJQUF6QixDQUE4QixPQUE5QixFQUF1QyxlQUF2QyxDQUFiO0FBQ0Q7O0FBRUQsaUJBQVcsU0FBWCxDQUFxQixHQUFyQixFQUEwQixNQUExQjs7QUFFQTtBQUNBLGlCQUNHLElBREgsQ0FDUSxXQURSLG1CQUNvQyxNQURwQyxRQUVHLElBRkgsQ0FFUSxHQUFHLFVBQUgsQ0FBYyxDQUFkLENBRlIsRUFHRyxNQUhILENBR1UsTUFIVixFQUlHLElBSkgsQ0FJUSxJQUpSLEVBSWMsRUFKZCxFQUtHLElBTEgsQ0FLUSxJQUxSLEVBS2MsUUFBUSxDQUx0QixFQU1HLElBTkgsQ0FNUSxNQU5SLEVBTWdCLE9BTmhCLEVBT0csSUFQSCxDQU9RLE9BUFIsRUFPaUIsYUFQakIsRUFRRyxLQVJILENBUVMsYUFSVCxFQVF3QixLQVJ4QixFQVNHLElBVEgsQ0FTUSxLQUFLLENBQUwsQ0FBTyxLQVRmOztBQVdBO0FBQ0EsVUFBSSxhQUFhLEtBQUssT0FBTCxDQUFhLFNBQWIsQ0FBdUIsaUJBQXZCLENBQWpCOztBQUVBLFVBQUksQ0FBQyxXQUFXLElBQVgsRUFBTCxFQUF3QjtBQUN0QixxQkFBYSxLQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLEdBQXBCLEVBQXlCLElBQXpCLENBQThCLE9BQTlCLEVBQXVDLGVBQXZDLENBQWI7QUFDRDs7QUFFRCxpQkFBVyxTQUFYLENBQXFCLEdBQXJCLEVBQTBCLE1BQTFCOztBQUVBO0FBQ0EsaUJBQ0csSUFESCxDQUNRLEdBQUcsUUFBSCxDQUFZLENBQVosQ0FEUixFQUVHLE1BRkgsQ0FFVSxNQUZWLEVBR0csSUFISCxDQUdRLElBSFIsRUFHYyxDQUFDLEVBSGYsRUFJRyxJQUpILENBSVEsSUFKUixFQUljLFNBQVMsQ0FKdkIsRUFLRyxJQUxILENBS1EsTUFMUixFQUtnQixPQUxoQixFQU1HLElBTkgsQ0FNUSxPQU5SLEVBTWlCLGFBTmpCLEVBT0csS0FQSCxDQU9TLGFBUFQsRUFPd0IsS0FQeEIsRUFRRyxJQVJILENBUVEsS0FBSyxDQUFMLENBQU8sS0FSZjs7QUFVQSxVQUFJLGNBQWMsS0FBSyxPQUFMLENBQWEsU0FBYixDQUF1QixnQkFBdkIsQ0FBbEI7O0FBRUEsVUFBSSxDQUFDLFlBQVksSUFBWixFQUFMLEVBQXlCO0FBQ3ZCLHNCQUFjLEtBQUssT0FBTCxDQUFhLE1BQWIsQ0FBb0IsR0FBcEIsRUFBeUIsSUFBekIsQ0FBOEIsT0FBOUIsRUFBdUMsZUFBdkMsQ0FBZDtBQUNEOztBQUVEO0FBQ0Esa0JBQVksU0FBWixDQUFzQixHQUF0QixFQUEyQixNQUEzQjs7QUFFQSxVQUFJLFNBQVMsWUFBWSxTQUFaLENBQXNCLEdBQXRCLEVBQTJCLElBQTNCLENBQWdDLGFBQWEsS0FBYixFQUFoQyxDQUFiOztBQUVBLGFBQU8sSUFBUCxHQUFjLE1BQWQ7O0FBRUEsZUFBUyxPQUFPLEtBQVAsR0FDTixNQURNLENBQ0MsR0FERCxFQUVOLElBRk0sQ0FFRCxXQUZDLEVBRVksVUFBQyxDQUFELEVBQUksQ0FBSjtBQUFBLGdDQUF5QixJQUFJLEVBQTdCO0FBQUEsT0FGWixFQUdOLEtBSE0sQ0FHQSxNQUhBLENBQVQ7O0FBS0EsYUFBTyxNQUFQLENBQWMsTUFBZCxFQUNHLElBREgsQ0FDUSxHQURSLEVBQ2EsUUFBUSxFQURyQixFQUVHLElBRkgsQ0FFUSxPQUZSLEVBRWlCLEVBRmpCLEVBR0csSUFISCxDQUdRLFFBSFIsRUFHa0IsRUFIbEIsRUFJRyxLQUpILENBSVMsTUFKVCxFQUlpQixVQUFDLENBQUQsRUFBSSxDQUFKO0FBQUEsZUFBVSxnQkFBTSxNQUFOLENBQWEsSUFBSSxDQUFqQixDQUFWO0FBQUEsT0FKakI7O0FBTUEsYUFBTyxNQUFQLENBQWMsTUFBZCxFQUNHLElBREgsQ0FDUSxHQURSLEVBQ2EsUUFBUSxFQURyQixFQUVHLElBRkgsQ0FFUSxHQUZSLEVBRWEsQ0FGYixFQUdHLElBSEgsQ0FHUSxJQUhSLEVBR2MsT0FIZCxFQUlHLEtBSkgsQ0FJUyxhQUpULEVBSXdCLEtBSnhCLEVBS0csSUFMSCxDQUtRO0FBQUEsZUFBSyxDQUFMO0FBQUEsT0FMUjs7QUFPQSxhQUFPLElBQVA7QUFDRDs7OytCQUVVLENBQUU7Ozs7OztrQkE1Sk0sUzs7Ozs7Ozs7Ozs7O0FDTnJCOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0FBRUE7O0lBRXFCLFk7OztBQUVuQiw4QkFBNEQ7QUFBQSw0QkFBOUMsT0FBOEM7QUFBQSxRQUE5QyxPQUE4QyxnQ0FBcEMsS0FBb0M7QUFBQSxRQUE3QixRQUE2QixRQUE3QixRQUE2QjtBQUFBLFFBQW5CLGVBQW1CLFFBQW5CLGVBQW1COztBQUFBOztBQUFBLHVIQUNwRCxFQUFFLFNBQVMsT0FBWCxFQUFvQixVQUFVLFFBQTlCLEVBQXdDLGlCQUFpQixlQUF6RCxFQURvRDtBQUUzRDs7Ozs2QkFFUTs7QUFFUCxVQUFJLFVBQVUsc0JBQVksS0FBSyxPQUFqQixDQUFkOztBQUVBLFVBQUksU0FBUyxLQUFLLE9BQUwsQ0FBYSxRQUFiLENBQXNCLE9BQW5DOztBQUVBLFVBQUksT0FBTyxLQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLEtBQWpCLENBQXVCLElBQWxDO0FBQUEsVUFDRSxXQUFXLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsS0FBakIsQ0FBdUIsSUFEcEM7QUFBQSxVQUVFLGVBQWUsT0FBTyxJQUFQLENBQVksUUFBWixDQUZqQjs7QUFJQSxXQUFLLE9BQUwsR0FBZSxPQUFPLE1BQVAsQ0FBYyxrQkFBZCxDQUFmOztBQUVBLFVBQUksU0FBUyxFQUFFLEtBQUssRUFBUCxFQUFXLE9BQU8sRUFBbEIsRUFBc0IsUUFBUSxFQUE5QixFQUFrQyxNQUFNLEVBQXhDLEVBQWI7QUFBQSxVQUNFLFFBQVEsQ0FBQyxPQUFPLElBQVAsQ0FBWSxPQUFaLENBQUQsSUFBeUIsR0FBRyxNQUFILENBQVUsTUFBVixFQUFrQixJQUFsQixHQUF5QixxQkFBekIsR0FBaUQsS0FEcEY7QUFBQSxVQUVFLFNBQVMsQ0FBQyxPQUFPLElBQVAsQ0FBWSxRQUFaLENBQUQsSUFBMEIsR0FBRyxNQUFILENBQVUsTUFBVixFQUFrQixJQUFsQixHQUF5QixxQkFBekIsR0FBaUQsTUFGdEY7O0FBSUE7QUFDQSxjQUFRLFFBQVEsT0FBTyxJQUFmLEdBQXNCLE9BQU8sS0FBckM7QUFDQSxlQUFTLFNBQVMsT0FBTyxHQUFoQixHQUFzQixPQUFPLE1BQXRDOztBQUVBO0FBQ0EsVUFBSSxJQUFJLEdBQUcsV0FBSCxHQUFpQixLQUFqQixDQUF1QixDQUFDLENBQUQsRUFBSSxLQUFKLENBQXZCLEVBQW1DLE1BQW5DLENBQTBDLEtBQUssQ0FBTCxDQUFPLE1BQWpELENBQVI7QUFDQSxVQUFJLElBQUksR0FBRyxXQUFILEdBQWlCLEtBQWpCLENBQXVCLENBQUMsTUFBRCxFQUFTLENBQVQsQ0FBdkIsRUFBb0MsTUFBcEMsQ0FBMkMsS0FBSyxDQUFMLENBQU8sTUFBbEQsQ0FBUjs7QUFFQSxVQUFJLE1BQU0sRUFBVjtBQUNBLG1CQUFhLE9BQWIsQ0FBcUI7QUFBQSxlQUFPLE1BQU0sSUFBSSxNQUFKLENBQVcsU0FBUyxHQUFULENBQVgsQ0FBYjtBQUFBLE9BQXJCOztBQUVBLFVBQUksQ0FBQyxLQUFLLENBQUwsQ0FBTyxNQUFQLENBQWMsTUFBbkIsRUFBMkI7QUFDekIsVUFBRSxNQUFGLENBQVMsQ0FBQyxDQUFELEVBQUksR0FBRyxHQUFILENBQU8sR0FBUCxFQUFZO0FBQUEsaUJBQUssQ0FBTDtBQUFBLFNBQVosQ0FBSixDQUFUO0FBQ0Q7O0FBRUQsVUFBSSxDQUFDLEtBQUssQ0FBTCxDQUFPLE1BQVAsQ0FBYyxNQUFuQixFQUEyQjtBQUN6QixVQUFFLE1BQUYsQ0FBUyxDQUFDLENBQUQsRUFBSSxJQUFJLE1BQUosR0FBYSxhQUFhLE1BQTlCLENBQVQ7QUFDRDs7QUFFRCxVQUFJLGVBQWUsS0FBSyxPQUFMLENBQWEsU0FBYixDQUF1QixtQkFBdkIsQ0FBbkI7O0FBRUEsVUFBSSxDQUFDLGFBQWEsSUFBYixFQUFMLEVBQTBCO0FBQ3hCLHVCQUFlLEtBQUssT0FBTCxDQUFhLE1BQWIsQ0FBb0IsR0FBcEIsRUFBeUIsSUFBekIsQ0FBOEIsT0FBOUIsRUFBdUMsaUJBQXZDLENBQWY7QUFDRDs7QUFFRCxtQkFBYSxPQUFiLENBQXFCLFVBQVMsR0FBVCxFQUFjLEtBQWQsRUFBcUI7QUFDeEMsWUFBSSxVQUFVLGFBQWEsU0FBYixjQUFrQyxLQUFsQyxFQUEyQyxJQUEzQyxDQUFnRCxTQUFTLEdBQVQsQ0FBaEQsQ0FBZDs7QUFFQSxnQkFBUSxJQUFSLEdBQWUsTUFBZjs7QUFFQTtBQUNBLGdCQUNHLEtBREgsR0FFRyxNQUZILENBRVUsUUFGVixFQUdHLEtBSEgsQ0FHUyxNQUhULEVBR2lCO0FBQUEsaUJBQU0sZ0JBQU0sTUFBTixDQUFhLFFBQVEsQ0FBckIsQ0FBTjtBQUFBLFNBSGpCLEVBSUcsSUFKSCxDQUlRLE9BSlIscUJBSWtDLEtBSmxDLEVBS0csSUFMSCxDQUtRLEdBTFIsRUFLYSxDQUxiLEVBTUcsSUFOSCxDQU1RLElBTlIsRUFNYyxVQUFTLENBQVQsRUFBWSxDQUFaLEVBQWU7QUFBRSxpQkFBTyxFQUFFLENBQUYsQ0FBUDtBQUFjLFNBTjdDLEVBT0csSUFQSCxDQU9RLElBUFIsRUFPYyxVQUFTLENBQVQsRUFBWTtBQUFFLGlCQUFPLEVBQUUsQ0FBRixDQUFQO0FBQWMsU0FQMUMsRUFRRyxFQVJILENBUU0sWUFSTixFQVFvQixVQUFTLENBQVQsRUFBWTtBQUM1QixhQUFHLE1BQUgsQ0FBVSxJQUFWLEVBQWdCLFVBQWhCLEdBQ0csUUFESCxDQUNZLEdBRFosRUFFRyxLQUZILENBRVMsY0FGVCxFQUV5QixHQUZ6QixFQUdHLElBSEgsQ0FHUSxHQUhSLEVBR2EsRUFIYjtBQUlBLGtCQUFRLElBQVIsQ0FBYSxnQkFBTSxPQUFOLENBQWMsR0FBZCxFQUFtQixDQUFuQixDQUFiLEVBQW9DLElBQXBDLEVBQTBDLE1BQTFDO0FBQ0QsU0FkSCxFQWVHLEVBZkgsQ0FlTSxZQWZOLEVBZW9CLFlBQVc7QUFDM0IsYUFBRyxNQUFILENBQVUsSUFBVixFQUFnQixVQUFoQixHQUNHLFFBREgsQ0FDWSxHQURaLEVBRUcsS0FGSCxDQUVTLGNBRlQsRUFFeUIsQ0FGekIsRUFHRyxJQUhILENBR1EsR0FIUixFQUdhLENBSGI7QUFJQSxrQkFBUSxRQUFSO0FBQ0QsU0FyQkg7O0FBdUJBLGdCQUFRLEtBQVIsQ0FBYyxPQUFkO0FBQ0QsT0E5QkQ7O0FBZ0NBO0FBQ0EsVUFBSSxhQUFhLEtBQUssT0FBTCxDQUFhLFNBQWIsQ0FBdUIsaUJBQXZCLENBQWpCOztBQUVBLFVBQUksQ0FBQyxXQUFXLElBQVgsRUFBTCxFQUF3QjtBQUN0QixxQkFBYSxLQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLEdBQXBCLEVBQXlCLElBQXpCLENBQThCLE9BQTlCLEVBQXVDLGVBQXZDLENBQWI7QUFDRDs7QUFFRCxpQkFBVyxTQUFYLENBQXFCLEdBQXJCLEVBQTBCLE1BQTFCOztBQUVBO0FBQ0EsaUJBQ0csSUFESCxDQUNRLFdBRFIsbUJBQ29DLE1BRHBDLFFBRUcsSUFGSCxDQUVRLEdBQUcsVUFBSCxDQUFjLENBQWQsQ0FGUixFQUdHLE1BSEgsQ0FHVSxNQUhWLEVBSUcsSUFKSCxDQUlRLElBSlIsRUFJYyxFQUpkLEVBS0csSUFMSCxDQUtRLElBTFIsRUFLYyxRQUFRLENBTHRCLEVBTUcsSUFOSCxDQU1RLE1BTlIsRUFNZ0IsT0FOaEIsRUFPRyxJQVBILENBT1EsT0FQUixFQU9pQixhQVBqQixFQVFHLEtBUkgsQ0FRUyxhQVJULEVBUXdCLEtBUnhCLEVBU0csSUFUSCxDQVNRLEtBQUssQ0FBTCxDQUFPLEtBVGY7O0FBV0E7QUFDQSxVQUFJLGFBQWEsS0FBSyxPQUFMLENBQWEsU0FBYixDQUF1QixpQkFBdkIsQ0FBakI7O0FBRUEsVUFBSSxDQUFDLFdBQVcsSUFBWCxFQUFMLEVBQXdCO0FBQ3RCLHFCQUFhLEtBQUssT0FBTCxDQUFhLE1BQWIsQ0FBb0IsR0FBcEIsRUFBeUIsSUFBekIsQ0FBOEIsT0FBOUIsRUFBdUMsZUFBdkMsQ0FBYjtBQUNEOztBQUVELGlCQUFXLFNBQVgsQ0FBcUIsR0FBckIsRUFBMEIsTUFBMUI7O0FBRUE7QUFDQSxpQkFDRyxJQURILENBQ1EsR0FBRyxRQUFILENBQVksQ0FBWixDQURSLEVBRUcsTUFGSCxDQUVVLE1BRlYsRUFHRyxJQUhILENBR1EsSUFIUixFQUdjLENBQUMsRUFIZixFQUlHLElBSkgsQ0FJUSxJQUpSLEVBSWMsU0FBUyxDQUp2QixFQUtHLElBTEgsQ0FLUSxNQUxSLEVBS2dCLE9BTGhCLEVBTUcsSUFOSCxDQU1RLE9BTlIsRUFNaUIsYUFOakIsRUFPRyxLQVBILENBT1MsYUFQVCxFQU93QixLQVB4QixFQVFHLElBUkgsQ0FRUSxLQUFLLENBQUwsQ0FBTyxLQVJmOztBQVVBLFVBQUksY0FBYyxLQUFLLE9BQUwsQ0FBYSxTQUFiLENBQXVCLGdCQUF2QixDQUFsQjs7QUFFQSxVQUFJLENBQUMsWUFBWSxJQUFaLEVBQUwsRUFBeUI7QUFDdkIsc0JBQWMsS0FBSyxPQUFMLENBQWEsTUFBYixDQUFvQixHQUFwQixFQUF5QixJQUF6QixDQUE4QixPQUE5QixFQUF1QyxlQUF2QyxDQUFkO0FBQ0Q7O0FBRUQ7QUFDQSxrQkFBWSxTQUFaLENBQXNCLEdBQXRCLEVBQTJCLE1BQTNCOztBQUVBLFVBQUksU0FBUyxZQUFZLFNBQVosQ0FBc0IsR0FBdEIsRUFBMkIsSUFBM0IsQ0FBZ0MsYUFBYSxLQUFiLEVBQWhDLENBQWI7O0FBRUEsYUFBTyxJQUFQLEdBQWMsTUFBZDs7QUFFQSxlQUFTLE9BQU8sS0FBUCxHQUNOLE1BRE0sQ0FDQyxHQURELEVBRU4sSUFGTSxDQUVELFdBRkMsRUFFWSxVQUFDLENBQUQsRUFBSSxDQUFKO0FBQUEsZ0NBQXlCLElBQUksRUFBN0I7QUFBQSxPQUZaLEVBR04sS0FITSxDQUdBLE1BSEEsQ0FBVDs7QUFLQSxhQUFPLE1BQVAsQ0FBYyxNQUFkLEVBQ0csSUFESCxDQUNRLEdBRFIsRUFDYSxRQUFRLEVBRHJCLEVBRUcsSUFGSCxDQUVRLE9BRlIsRUFFaUIsRUFGakIsRUFHRyxJQUhILENBR1EsUUFIUixFQUdrQixFQUhsQixFQUlHLEtBSkgsQ0FJUyxNQUpULEVBSWlCLFVBQUMsQ0FBRCxFQUFJLENBQUo7QUFBQSxlQUFVLGdCQUFNLE1BQU4sQ0FBYSxJQUFJLENBQWpCLENBQVY7QUFBQSxPQUpqQjs7QUFNQSxhQUFPLE1BQVAsQ0FBYyxNQUFkLEVBQ0csSUFESCxDQUNRLEdBRFIsRUFDYSxRQUFRLEVBRHJCLEVBRUcsSUFGSCxDQUVRLEdBRlIsRUFFYSxDQUZiLEVBR0csSUFISCxDQUdRLElBSFIsRUFHYyxPQUhkLEVBSUcsS0FKSCxDQUlTLGFBSlQsRUFJd0IsS0FKeEIsRUFLRyxJQUxILENBS1E7QUFBQSxlQUFLLENBQUw7QUFBQSxPQUxSOztBQU9BLGFBQU8sSUFBUDtBQUNEOzs7K0JBRVUsQ0FBRTs7Ozs7O2tCQTFKTSxZOzs7Ozs7Ozs7Ozs7OztBQ05yQjs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7SUFFcUIsSyxXQU1sQiwrQkFBb0IsY0FBcEIsQzs7O0FBSkQsdUJBQTREO0FBQUEsNEJBQTlDLE9BQThDO0FBQUEsUUFBOUMsT0FBOEMsZ0NBQXBDLEtBQW9DO0FBQUEsUUFBN0IsUUFBNkIsUUFBN0IsUUFBNkI7QUFBQSxRQUFuQixlQUFtQixRQUFuQixlQUFtQjs7QUFBQTs7QUFBQSx5R0FDcEQsRUFBRSxTQUFTLE9BQVgsRUFBb0IsVUFBVSxRQUE5QixFQUF3QyxpQkFBaUIsZUFBekQsRUFEb0Q7QUFFM0Q7Ozs7NkJBR1E7O0FBRVAsVUFBSSxVQUFVLFNBQWQ7QUFDQSxjQUFRLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsS0FBakIsQ0FBdUIsSUFBL0I7QUFDRSxhQUFLLEtBQUw7QUFDRSxvQkFBVSx1QkFBYSxLQUFLLE9BQWxCLEVBQTJCLElBQTNCLENBQWdDLEtBQUssSUFBckMsRUFBMkMsTUFBM0MsRUFBVjtBQUNBO0FBQ0YsYUFBSyxNQUFMO0FBQ0Usb0JBQVUsd0JBQWMsS0FBSyxPQUFuQixFQUE0QixJQUE1QixDQUFpQyxLQUFLLElBQXRDLEVBQTRDLE1BQTVDLEVBQVY7QUFDQTtBQUNGLGFBQUssU0FBTDtBQUNFLG9CQUFVLDJCQUFpQixLQUFLLE9BQXRCLEVBQStCLElBQS9CLENBQW9DLEtBQUssSUFBekMsRUFBK0MsTUFBL0MsRUFBVjtBQUNBO0FBVEo7O0FBWUEsV0FBSyxPQUFMLENBQWEsUUFBYixDQUFzQixPQUF0QixDQUE4QixTQUE5Qjs7QUFFQSxhQUFPLE9BQVA7QUFDRDs7OytCQWNVLENBQUU7Ozs0QkFaRSxPLEVBQVMsSyxFQUFPO0FBQzdCLGFBQU8sRUFBRSxLQUFLLEVBQUUsU0FBUyxTQUFYLEVBQXNCLFFBQVEsT0FBOUIsRUFBUCxFQUFnRCxLQUFLLEVBQUUsU0FBUyxPQUFYLEVBQW9CLFFBQVEsS0FBNUIsRUFBckQsRUFBUDtBQUNEOzs7Z0NBTWtCLEcsRUFBSztBQUN0QixhQUFPLE1BQU0sSUFBTixDQUFXLElBQUksS0FBSixDQUFVLEdBQVYsQ0FBWCxFQUEyQixVQUFDLENBQUQsRUFBSSxDQUFKO0FBQUEsZUFBVSxDQUFWO0FBQUEsT0FBM0IsRUFBd0MsR0FBeEMsQ0FBNEM7QUFBQSxlQUFLLENBQUw7QUFBQSxPQUE1QyxDQUFQO0FBQ0Q7Ozt3QkFObUI7QUFDbEIsYUFBTyxHQUFHLGVBQUgsR0FBcUIsTUFBckIsQ0FBNEIsQ0FBQyxDQUFELEVBQUksR0FBSixDQUE1QixFQUFzQyxZQUF0QyxDQUFtRCxHQUFHLGtCQUF0RCxDQUFQO0FBQ0Q7Ozs7O2tCQWpDa0IsSzs7Ozs7Ozs7Ozs7O0FDUnJCOzs7Ozs7Ozs7Ozs7SUFFcUIsUzs7O0FBRW5CLDJCQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEsc0hBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EOztBQUUxRCxRQUFJLElBQUksTUFBSixLQUFlLFNBQW5CLEVBQThCO0FBQzVCLFlBQU0sSUFBSSxTQUFKLENBQWMsa0RBQWQsQ0FBTjtBQUNEO0FBQ0QsVUFBSyxTQUFMLEdBQWlCLEVBQWpCO0FBTDBEO0FBTTNEOzs7O3dCQUVHLFEsRUFBVTtBQUNaLFdBQUssU0FBTCxDQUFlLElBQWYsQ0FBb0IsUUFBcEI7QUFDQSxhQUFPLElBQVA7QUFDRDs7O3FDQUVnQjtBQUNmO0FBQ0EsVUFBSSxVQUFVLEtBQUssT0FBbkI7QUFDQSxjQUFRLFFBQVIsR0FBbUIsSUFBbkI7QUFDQTtBQUplO0FBQUE7QUFBQTs7QUFBQTtBQUtmLDZCQUFxQixLQUFLLFNBQTFCLDhIQUFxQztBQUFBLGNBQTVCLFFBQTRCOztBQUNuQyxtQkFBUyxRQUFULENBQWtCLE9BQWxCLEVBQTJCLElBQTNCLENBQWdDLEtBQUssSUFBckMsRUFBMkMsTUFBM0M7QUFDRDtBQVBjO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRaEI7Ozs7OztrQkF2QmtCLFM7Ozs7Ozs7Ozs7Ozs7O0FDRnJCOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOztJQUVxQixLLFdBV2xCLGdDOzs7QUFURCx1QkFBNEQ7QUFBQSw0QkFBOUMsT0FBOEM7QUFBQSxRQUE5QyxPQUE4QyxnQ0FBcEMsS0FBb0M7QUFBQSxRQUE3QixRQUE2QixRQUE3QixRQUE2QjtBQUFBLFFBQW5CLGVBQW1CLFFBQW5CLGVBQW1COztBQUFBOztBQUFBLDhHQUNwRCxFQUFFLFNBQVMsT0FBWCxFQUFvQixVQUFVLFFBQTlCLEVBQXdDLGlCQUFpQixlQUF6RCxFQURvRDs7QUFFMUQsVUFBSyxNQUFMLEdBQWMscUJBQVcsTUFBSyxPQUFoQixDQUFkO0FBQ0EsVUFBSyxJQUFMLEdBQVksdUJBQWEsTUFBSyxPQUFsQixDQUFaO0FBQ0EsVUFBSyxRQUFMLEdBQWdCLHNCQUFZLE1BQUssT0FBakIsQ0FBaEI7QUFDQSxVQUFLLEdBQUwsQ0FBUyxNQUFLLFFBQWQsRUFBd0IsR0FBeEIsQ0FBNEIsTUFBSyxJQUFqQyxFQUF1QyxHQUF2QyxDQUEyQyxNQUFLLE1BQWhEO0FBQ0EsVUFBSyxPQUFMLEdBQWUsU0FBZjtBQU4wRDtBQU8zRDs7Ozs2QkFHUTtBQUNQLFVBQUksU0FBUyxHQUFHLE1BQUgsQ0FBVSxLQUFLLE9BQUwsQ0FBYSxRQUF2QixDQUFiOztBQUVBLFVBQUksZ0JBQWMsS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixFQUFuQztBQUNBLFdBQUssT0FBTCxHQUFlLEdBQUcsTUFBSCxVQUFpQixPQUFqQixDQUFmO0FBQ0E7QUFDQSxVQUFJLENBQUMsS0FBSyxPQUFMLENBQWEsSUFBYixFQUFMLEVBQTBCO0FBQ3hCO0FBQ0EsYUFBSyxNQUFMLENBQVksS0FBWixzQkFBcUMsT0FBckM7QUFDQSxhQUFLLE9BQUwsR0FBZSxPQUFPLE1BQVAsQ0FBYyxLQUFkLEVBQXFCLElBQXJCLENBQTBCLE9BQTFCLEVBQW1DLFFBQW5DLEVBQTZDLElBQTdDLENBQWtELElBQWxELEVBQXdELE9BQXhELENBQWY7QUFDRDs7QUFFRDtBQUNBLFVBQUksQ0FBQyxLQUFLLE9BQUwsQ0FBYSxJQUFiLEVBQUwsRUFBMEI7QUFDeEIsY0FBTSxJQUFJLEtBQUosNENBQW1ELE9BQW5ELDBCQUFOO0FBQ0Q7O0FBRUQsV0FBSyxNQUFMLENBQVksS0FBWixxQkFBb0MsT0FBcEM7O0FBRUEsV0FBSyxjQUFMOztBQUVBLGFBQU8sSUFBUDtBQUNEOzs7K0JBRVUsQ0FBRTs7Ozs7a0JBcENNLEs7Ozs7Ozs7Ozs7Ozs7O0FDUnJCOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOztJQUVxQixLLFdBc0NsQiwrQkFBb0IsY0FBcEIsQzs7Ozs7OEJBL0JnQixJLEVBQU07QUFDckIsVUFBSSxTQUFTLFFBQWIsRUFBdUI7QUFDckIsZUFBTyxHQUFHLFlBQVY7QUFDRCxPQUZELE1BR0ssSUFBSSxTQUFTLE9BQWIsRUFBc0I7QUFDekIsZUFBTyxHQUFHLFdBQVY7QUFDRCxPQUZJLE1BR0EsSUFBSSxTQUFTLFNBQWIsRUFBd0I7QUFDM0IsZUFBTyxHQUFHLGFBQVY7QUFDRCxPQUZJLE1BR0EsSUFBSSxTQUFTLFFBQWIsRUFBdUI7QUFDMUIsZUFBTyxHQUFHLFlBQVY7QUFDRCxPQUZJLE1BR0EsSUFBSSxTQUFTLFVBQWIsRUFBeUI7QUFDNUIsZUFBTyxHQUFHLGNBQVY7QUFDRCxPQUZJLE1BR0EsSUFBSSxTQUFTLE1BQWIsRUFBcUI7QUFDeEIsZUFBTyxHQUFHLFVBQVY7QUFDRCxPQUZJLE1BR0EsSUFBSSxTQUFTLEtBQWIsRUFBb0I7QUFDdkIsZUFBTyxHQUFHLFNBQVY7QUFDRCxPQUZJLE1BR0E7QUFDSCxlQUFPLEdBQUcsWUFBVjtBQUNEO0FBQ0Y7Ozt3QkE3Qm1CO0FBQ2xCLGFBQU8sR0FBRyxlQUFILEdBQXFCLE1BQXJCLENBQTRCLENBQUMsQ0FBRCxFQUFJLEdBQUosQ0FBNUIsRUFBc0MsWUFBdEMsQ0FBbUQsR0FBRyxrQkFBdEQsQ0FBUDtBQUNEOzs7QUE2QkQsdUJBQTREO0FBQUEsNEJBQTlDLE9BQThDO0FBQUEsUUFBOUMsT0FBOEMsZ0NBQXBDLEtBQW9DO0FBQUEsUUFBN0IsUUFBNkIsUUFBN0IsUUFBNkI7QUFBQSxRQUFuQixlQUFtQixRQUFuQixlQUFtQjs7QUFBQTs7QUFBQSx5R0FDcEQsRUFBRSxTQUFTLE9BQVgsRUFBb0IsVUFBVSxRQUE5QixFQUF3QyxpQkFBaUIsZUFBekQsRUFEb0Q7QUFFM0Q7Ozs7NkJBR1E7O0FBRVAsVUFBSSxTQUFTLEtBQUssT0FBTCxDQUFhLFFBQWIsQ0FBc0IsT0FBbkM7O0FBRUEsVUFBSSxjQUFjLEtBQWxCO0FBQ0EsVUFBSSxVQUFVLHNCQUFZLEtBQUssT0FBakIsQ0FBZDtBQUNBLFVBQUksY0FBYywwQkFBZ0IsS0FBSyxPQUFyQixDQUFsQjtBQUNBLFVBQUksV0FBVyx1QkFBYSxLQUFLLE9BQWxCLENBQWY7O0FBRUEsVUFBSSxtQkFBbUIsS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixLQUFqQixDQUF1QixVQUE5Qzs7QUFFQSxVQUFJLGNBQWMsS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixLQUFqQixDQUF1QixLQUF2QixHQUErQixPQUFPLE1BQVAsQ0FBYyxLQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLEtBQWpCLENBQXVCLEtBQXJDLENBQS9CLEdBQTZFLEVBQS9GO0FBQUEsVUFDRSxjQUFjLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsS0FBakIsQ0FBdUIsS0FBdkIsR0FBK0IsT0FBTyxNQUFQLENBQWMsS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixLQUFqQixDQUF1QixLQUFyQyxDQUEvQixHQUE2RSxFQUQ3Rjs7QUFHQSxXQUFLLE9BQUwsR0FBZSxPQUFPLE1BQVAsQ0FBYyxrQkFBZCxDQUFmOztBQUVBLFVBQUksUUFBUSxDQUFDLE9BQU8sSUFBUCxDQUFZLE9BQVosQ0FBRCxJQUF5QixHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLElBQWxCLEdBQXlCLHFCQUF6QixHQUFpRCxLQUF0RjtBQUFBLFVBQ0UsU0FBUyxDQUFDLE9BQU8sSUFBUCxDQUFZLFFBQVosQ0FBRCxJQUEwQixHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLElBQWxCLEdBQXlCLHFCQUF6QixHQUFpRCxNQUR0Rjs7QUFHQSxVQUFJLFlBQVksS0FBSyxPQUFMLENBQWEsU0FBYixDQUF1QixnQkFBdkIsQ0FBaEI7O0FBRUEsVUFBSSxDQUFDLFVBQVUsSUFBVixFQUFMLEVBQXVCO0FBQ3JCLG9CQUFZLEtBQUssT0FBTCxDQUFhLE1BQWIsQ0FBb0IsR0FBcEIsRUFBeUIsSUFBekIsQ0FBOEIsT0FBOUIsRUFBdUMsY0FBdkMsQ0FBWjtBQUNEOztBQUVELFVBQUksT0FBTyxVQUFVLFNBQVYsQ0FBb0Isa0JBQXBCLEVBQXdDLElBQXhDLENBQTZDLFdBQTdDLENBQVg7O0FBRUEsVUFBSSxLQUFLLEtBQUwsR0FBYSxJQUFiLEdBQW9CLE1BQXBCLEdBQTZCLENBQTdCLElBQWtDLEtBQUssS0FBTCxHQUFhLElBQWIsR0FBb0IsTUFBcEIsR0FBNkIsQ0FBbkUsRUFBc0U7QUFDcEUsc0JBQWMsSUFBZDtBQUNEOztBQUVELFdBQUssSUFBTCxHQUFZLE1BQVo7O0FBRUEsYUFBTyxLQUFLLEtBQUwsR0FBYSxNQUFiLENBQW9CLE1BQXBCLEVBQ0osSUFESSxDQUNDLE9BREQsRUFDVSxhQURWLEVBRUosSUFGSSxDQUVDLElBRkQsRUFFTztBQUFBLGVBQVEsRUFBRSxNQUFWLFNBQW9CLEVBQUUsTUFBdEI7QUFBQSxPQUZQLEVBR0osSUFISSxDQUdDLElBSEQsRUFHTztBQUFBLGVBQUssRUFBRSxNQUFGLENBQVMsQ0FBZDtBQUFBLE9BSFAsRUFJSixJQUpJLENBSUMsSUFKRCxFQUlPO0FBQUEsZUFBSyxFQUFFLE1BQUYsQ0FBUyxDQUFkO0FBQUEsT0FKUCxFQUtKLElBTEksQ0FLQyxJQUxELEVBS087QUFBQSxlQUFLLEVBQUUsTUFBRixDQUFTLENBQWQ7QUFBQSxPQUxQLEVBTUosSUFOSSxDQU1DLElBTkQsRUFNTztBQUFBLGVBQUssRUFBRSxNQUFGLENBQVMsQ0FBZDtBQUFBLE9BTlAsRUFPSixLQVBJLENBT0UsSUFQRixDQUFQOztBQVNBLFVBQUksS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixLQUFqQixDQUF1QixJQUF2QixLQUFnQyxVQUFwQyxFQUFnRDtBQUM5QztBQUNBLGVBQU8sTUFBUCxDQUFjLE1BQWQsRUFBc0IsU0FBdEIsQ0FBZ0MsUUFBaEMsRUFDRyxJQURILENBQ1EsQ0FBQyxPQUFELENBRFIsRUFFRyxLQUZILEdBRVcsTUFGWCxDQUVrQixRQUZsQixFQUdHLElBSEgsQ0FHUSxPQUhSLEVBR2lCLGVBSGpCLEVBSUcsSUFKSCxDQUlRLElBSlIsRUFJYztBQUFBLGlCQUFLLENBQUw7QUFBQSxTQUpkLEVBS0csSUFMSCxDQUtRLFNBTFIsRUFLbUIsWUFMbkIsRUFNRyxJQU5ILENBTVEsTUFOUixFQU1nQixFQU5oQixFQU9HLElBUEgsQ0FPUSxNQVBSLEVBT2dCLENBUGhCLEVBUUcsSUFSSCxDQVFRLGFBUlIsRUFRdUIsRUFSdkIsRUFTRyxJQVRILENBU1EsY0FUUixFQVN3QixFQVR4QixFQVVHLElBVkgsQ0FVUSxRQVZSLEVBVWtCLE1BVmxCLEVBV0csTUFYSCxDQVdVLE1BWFYsRUFZRyxJQVpILENBWVEsR0FaUixFQVlhLDZCQVpiO0FBYUE7QUFDQSxhQUFLLEtBQUwsQ0FBVyxZQUFYLEVBQXlCLGFBQXpCO0FBQ0Q7O0FBRUQsVUFBSSxZQUFZLEtBQUssT0FBTCxDQUFhLFNBQWIsQ0FBdUIsZ0JBQXZCLENBQWhCOztBQUVBLFVBQUksQ0FBQyxVQUFVLElBQVYsRUFBTCxFQUF1QjtBQUNyQixvQkFBWSxLQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLEdBQXBCLEVBQXlCLElBQXpCLENBQThCLE9BQTlCLEVBQXVDLGNBQXZDLENBQVo7QUFDRDs7QUFFRCxVQUFJLE9BQU8sVUFBVSxTQUFWLENBQW9CLGtCQUFwQixFQUF3QyxJQUF4QyxDQUE2QyxXQUE3QyxDQUFYOztBQUVBLFVBQUksS0FBSyxJQUFMLEdBQVksSUFBWixHQUFtQixNQUFuQixHQUE0QixDQUE1QixJQUFpQyxLQUFLLEtBQUwsR0FBYSxJQUFiLEdBQW9CLE1BQXBCLEdBQTZCLENBQWxFLEVBQXFFO0FBQ25FLHNCQUFjLElBQWQ7QUFDRDs7QUFFRCxXQUFLLElBQUwsR0FBWSxNQUFaOztBQUVBLGFBQU8sS0FBSyxLQUFMLEdBQWEsTUFBYixDQUFvQixNQUFwQixFQUE0QixLQUE1QixDQUFrQyxJQUFsQyxFQUNKLElBREksQ0FDQyxHQURELEVBQ00sR0FBRyxNQUFILEdBQVksSUFBWixDQUFpQjtBQUFBLGVBQUssTUFBTSxTQUFOLENBQWdCLEVBQUUsSUFBbEIsQ0FBTDtBQUFBLE9BQWpCLEVBQStDLElBQS9DLENBQW9EO0FBQUEsZUFBSyxFQUFFLElBQUYsR0FBUyxHQUFkO0FBQUEsT0FBcEQsQ0FETixFQUVKLElBRkksQ0FFQyxXQUZELEVBRWM7QUFBQSw4QkFBa0IsRUFBRSxDQUFwQixTQUF5QixFQUFFLENBQTNCO0FBQUEsT0FGZCxFQUdKLEtBSEksQ0FHRSxNQUhGLEVBR1U7QUFBQSxlQUFLLE1BQU0sTUFBTixDQUFhLEVBQUUsS0FBRixHQUFVLENBQXZCLENBQUw7QUFBQSxPQUhWLEVBSUosSUFKSSxDQUlDLE9BSkQsRUFJVTtBQUFBLGVBQUssaUJBQWlCLEVBQUUsU0FBRixHQUFjLG1CQUFkLEdBQW9DLEVBQXJELEtBQTRELE9BQU8sTUFBUCxDQUFjLEVBQUUsS0FBaEIsRUFBdUIsTUFBdkIsR0FBZ0MsaUJBQWhDLEdBQW9ELEVBQWhILENBQUw7QUFBQSxPQUpWLEVBS0osSUFMSSxDQUtDLElBTEQsRUFLTztBQUFBLGVBQUssRUFBRSxFQUFQO0FBQUEsT0FMUCxDQUFQOztBQU9BLFVBQUksS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixLQUFqQixDQUF1QixJQUEzQixFQUFpQztBQUMvQixhQUFLLElBQUwsQ0FBVSxHQUFHLElBQUgsR0FDUCxFQURPLENBQ0osT0FESSxFQUNLLFdBREwsRUFFUCxFQUZPLENBRUosTUFGSSxFQUVJLE9BRkosRUFHUCxFQUhPLENBR0osS0FISSxFQUdHLFNBSEgsQ0FBVjtBQUlEOztBQUVELFdBQUssRUFBTCxDQUFRLGFBQVIsRUFBdUIsVUFBUyxDQUFULEVBQVk7QUFDL0I7QUFDQSxvQkFBWSxJQUFaLENBQWlCLENBQWpCLEVBQW9CLElBQXBCLEVBQTBCLE1BQTFCO0FBQ0E7QUFDQSx3QkFBZ0IsSUFBaEIsQ0FBcUIsSUFBckIsRUFBMkIsQ0FBM0IsRUFBOEIsYUFBOUI7QUFDRCxPQUxILEVBTUcsRUFOSCxDQU1NLE9BTk4sRUFNZSxVQUFTLENBQVQsRUFBWTtBQUN2QjtBQUNBLHVCQUFlLElBQWYsQ0FBb0IsSUFBcEI7QUFDQTtBQUNBLHdCQUFnQixJQUFoQixDQUFxQixJQUFyQixFQUEyQixDQUEzQixFQUE4QixPQUE5QjtBQUNELE9BWEgsRUFZRyxFQVpILENBWU0sVUFaTixFQVlrQixVQUFTLENBQVQsRUFBWTtBQUMxQjtBQUNBLHdCQUFnQixJQUFoQixDQUFxQixJQUFyQixFQUEyQixDQUEzQixFQUE4QixVQUE5QjtBQUNELE9BZkgsRUFnQkcsRUFoQkgsQ0FnQk0sWUFoQk4sRUFnQm9CLGFBQUs7QUFDckI7QUFDQSxnQkFBUSxJQUFSLENBQWEsRUFBRSxRQUFmLEVBQXlCLElBQXpCLEVBQStCLE1BQS9CO0FBQ0QsT0FuQkgsRUFvQkcsRUFwQkgsQ0FvQk0sWUFwQk4sRUFvQm9CLFlBQU07QUFDdEI7QUFDQSxnQkFBUSxRQUFSO0FBQ0QsT0F2Qkg7O0FBeUJBLFVBQUksYUFBYSxLQUFLLE9BQUwsQ0FBYSxTQUFiLENBQXVCLGdCQUF2QixDQUFqQjs7QUFFQSxVQUFJLENBQUMsV0FBVyxJQUFYLEVBQUwsRUFBd0I7QUFDdEIscUJBQWEsS0FBSyxPQUFMLENBQWEsTUFBYixDQUFvQixHQUFwQixFQUF5QixJQUF6QixDQUE4QixPQUE5QixFQUF1QyxlQUF2QyxDQUFiO0FBQ0Q7O0FBRUQsVUFBSSxRQUFRLFdBQVcsU0FBWCxDQUFxQixNQUFyQixFQUE2QixJQUE3QixDQUFrQyxXQUFsQyxDQUFaOztBQUVBLFlBQU0sSUFBTixHQUFhLE1BQWI7O0FBRUEsY0FBUSxNQUFNLEtBQU4sR0FBYyxNQUFkLENBQXFCLE1BQXJCLEVBQTZCLEtBQTdCLENBQW1DLEtBQW5DLEVBQ0wsSUFESyxDQUNBLE9BREEsRUFDUyxjQURULEVBRUwsSUFGSyxDQUVBO0FBQUEsZUFBSyxFQUFFLEtBQVA7QUFBQSxPQUZBLEVBR0wsSUFISyxDQUdBLEdBSEEsRUFHSztBQUFBLGVBQUssRUFBRSxDQUFGLEdBQU0sRUFBRSxLQUFGLENBQVEsTUFBZCxHQUF1QixLQUFLLElBQUwsQ0FBVSxFQUFFLElBQUYsR0FBUyxFQUFFLEtBQUYsQ0FBUSxNQUFqQixHQUEwQixDQUFwQyxDQUE1QjtBQUFBLE9BSEwsRUFJTCxJQUpLLENBSUEsR0FKQSxFQUlLO0FBQUEsZUFBSyxFQUFFLENBQUYsR0FBTSxLQUFLLElBQUwsQ0FBVSxFQUFFLElBQUYsR0FBUyxDQUFuQixDQUFYO0FBQUEsT0FKTCxDQUFSOztBQU1BLFlBQ0csRUFESCxDQUNNLGFBRE4sRUFDcUIsVUFBUyxDQUFULEVBQVk7QUFDN0I7QUFDQSxvQkFBWSxJQUFaLENBQWlCLENBQWpCLEVBQW9CLElBQXBCLEVBQTBCLE1BQTFCO0FBQ0E7QUFDQSx3QkFBZ0IsSUFBaEIsQ0FBcUIsSUFBckIsRUFBMkIsQ0FBM0IsRUFBOEIsYUFBOUI7QUFDRCxPQU5ILEVBT0csRUFQSCxDQU9NLE9BUE4sRUFPZSxVQUFTLENBQVQsRUFBWTtBQUN2QjtBQUNBLHVCQUFlLElBQWYsQ0FBb0IsSUFBcEI7QUFDQTtBQUNBLHdCQUFnQixJQUFoQixDQUFxQixJQUFyQixFQUEyQixDQUEzQixFQUE4QixPQUE5QjtBQUNELE9BWkgsRUFhRyxFQWJILENBYU0sVUFiTixFQWFrQixVQUFTLENBQVQsRUFBWTtBQUMxQjtBQUNBLHdCQUFnQixJQUFoQixDQUFxQixJQUFyQixFQUEyQixDQUEzQixFQUE4QixVQUE5QjtBQUNELE9BaEJILEVBaUJHLEVBakJILENBaUJNLFdBakJOLEVBaUJtQixhQUFLO0FBQ3BCO0FBQ0EsZ0JBQVEsSUFBUixDQUFhLEVBQUUsUUFBZixFQUF5QixJQUF6QixFQUErQixNQUEvQjtBQUNELE9BcEJILEVBcUJHLEVBckJILENBcUJNLFVBckJOLEVBcUJrQixZQUFNO0FBQ3BCO0FBQ0EsZ0JBQVEsUUFBUjtBQUNELE9BeEJIOztBQTBCQSxVQUFJLGdCQUFKLEVBQXNCO0FBQUU7QUFDdEI7QUFDQSxZQUFJLGNBQWMsR0FBRyxXQUFILEdBQWlCLENBQWpCLENBQW1CLFFBQVEsQ0FBM0IsRUFBOEIsQ0FBOUIsQ0FBZ0MsU0FBUyxDQUF6QyxDQUFsQjtBQUNBLFlBQUksWUFBWSxHQUFHLGFBQUgsR0FBbUIsUUFBbkIsQ0FBNEIsQ0FBQyxZQUFZLE1BQWIsR0FBc0IsRUFBbEQsQ0FBaEI7QUFDQSxZQUFJLFlBQVksR0FBRyxTQUFILENBQWEsV0FBYixFQUEwQixFQUExQixDQUE2QjtBQUFBLGlCQUFLLEVBQUUsRUFBUDtBQUFBLFNBQTdCLEVBQXdDLFFBQXhDLENBQWlELEVBQWpELENBQWhCO0FBQ0EsWUFBSSxlQUFlLEdBQUcsWUFBSCxDQUFnQjtBQUFBLGlCQUFLLEVBQUUsSUFBRixHQUFTLENBQWQ7QUFBQSxTQUFoQixDQUFuQjs7QUFFQTtBQUNBLFlBQUksU0FBUyxHQUFHLE1BQUgsQ0FBVSxRQUFRLENBQWxCLEVBQXFCLFFBQXJCLENBQThCLElBQTlCLENBQWI7O0FBRUE7QUFDQSxZQUFJLFNBQVMsR0FBRyxNQUFILENBQVUsU0FBUyxDQUFuQixFQUFzQixRQUF0QixDQUErQixJQUEvQixDQUFiOztBQUVBLFlBQUksS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixLQUFqQixDQUF1QixJQUF2QixLQUFnQyxPQUFwQyxFQUE2QztBQUMzQztBQUNBLG1CQUFTLEdBQUcsTUFBSCxDQUFVLFFBQVEsQ0FBbEIsRUFBcUIsUUFBckIsQ0FBOEIsR0FBOUIsQ0FBVDtBQUNBO0FBQ0EsbUJBQVMsR0FBRyxNQUFILENBQVU7QUFBQSxtQkFBSyxFQUFFLEtBQUYsR0FBVSxFQUFmO0FBQUEsV0FBVixFQUE2QixRQUE3QixDQUFzQyxDQUF0QyxDQUFUO0FBQ0Q7O0FBRUQsWUFBSSxhQUFhLEdBQUcsZUFBSCxDQUFtQixXQUFuQixFQUNkLEtBRGMsQ0FDUixRQURRLEVBQ0UsU0FERixFQUVkLEtBRmMsQ0FFUixNQUZRLEVBRUEsU0FGQSxFQUdkLEtBSGMsQ0FHUixRQUhRLEVBR0UsV0FIRixFQUlkLEtBSmMsQ0FJUixHQUpRLEVBSUgsTUFKRyxFQUtkLEtBTGMsQ0FLUixHQUxRLEVBS0gsTUFMRyxFQU1kLEtBTmMsQ0FNUixTQU5RLEVBTUcsWUFOSCxFQU9kLEVBUGMsQ0FPWCxNQVBXLEVBT0gsTUFQRyxFQVFkLEVBUmMsQ0FRWCxLQVJXLEVBUUosWUFBVztBQUNwQjtBQUNBLGlCQUFPLFNBQVA7QUFDRCxTQVhjLENBQWpCOztBQWFBO0FBQ0EsbUJBQVcsT0FBWDtBQUNELE9BbkNELE1Bb0NLO0FBQ0g7QUFDQSxlQUFPLFNBQVA7QUFDRDs7QUFFRCxlQUFTLE1BQVQsR0FBa0I7QUFDaEIsYUFDRyxJQURILENBQ1EsSUFEUixFQUNjO0FBQUEsaUJBQUssRUFBRSxNQUFGLENBQVMsQ0FBZDtBQUFBLFNBRGQsRUFFRyxJQUZILENBRVEsSUFGUixFQUVjO0FBQUEsaUJBQUssRUFBRSxNQUFGLENBQVMsQ0FBZDtBQUFBLFNBRmQsRUFHRyxJQUhILENBR1EsSUFIUixFQUdjO0FBQUEsaUJBQUssRUFBRSxNQUFGLENBQVMsQ0FBZDtBQUFBLFNBSGQsRUFJRyxJQUpILENBSVEsSUFKUixFQUljO0FBQUEsaUJBQUssRUFBRSxNQUFGLENBQVMsQ0FBZDtBQUFBLFNBSmQ7O0FBTUEsYUFBSyxJQUFMLENBQVUsV0FBVixFQUF1QjtBQUFBLGdDQUFrQixFQUFFLENBQXBCLFNBQXlCLEVBQUUsQ0FBM0I7QUFBQSxTQUF2Qjs7QUFFQSxjQUNHLElBREgsQ0FDUSxHQURSLEVBQ2E7QUFBQSxpQkFBSyxFQUFFLENBQUYsR0FBTSxFQUFFLEtBQUYsQ0FBUSxNQUFkLEdBQXVCLEtBQUssSUFBTCxDQUFVLEVBQUUsSUFBRixHQUFTLEVBQUUsS0FBRixDQUFRLE1BQWpCLEdBQTBCLENBQXBDLENBQTVCO0FBQUEsU0FEYixFQUVHLElBRkgsQ0FFUSxHQUZSLEVBRWE7QUFBQSxpQkFBSyxFQUFFLENBQUYsR0FBTSxLQUFLLElBQUwsQ0FBVSxFQUFFLElBQUYsR0FBUyxDQUFuQixDQUFYO0FBQUEsU0FGYjs7QUFJQSxhQUFLLElBQUwsQ0FBVSxRQUFRLENBQVIsQ0FBVjtBQUNEOztBQUVEO0FBQ0EsVUFBSSxVQUFVLEVBQWQsQ0F0Tk8sQ0FzTlc7O0FBRWxCLGVBQVMsT0FBVCxDQUFpQixLQUFqQixFQUF3QjtBQUN0QixZQUFJLFdBQVcsR0FBRyxRQUFILENBQVksV0FBWixDQUFmO0FBQ0EsZUFBTyxVQUFTLENBQVQsRUFBWTtBQUNqQixjQUFJLEtBQUssTUFBTSxFQUFFLElBQVIsR0FBZSxPQUF4QjtBQUFBLGNBQ0UsTUFBTSxFQUFFLENBQUYsR0FBTSxFQURkO0FBQUEsY0FFRSxNQUFNLEVBQUUsQ0FBRixHQUFNLEVBRmQ7QUFBQSxjQUdFLE1BQU0sRUFBRSxDQUFGLEdBQU0sRUFIZDtBQUFBLGNBSUUsTUFBTSxFQUFFLENBQUYsR0FBTSxFQUpkO0FBS0EsbUJBQVMsS0FBVCxDQUFlLFVBQVMsSUFBVCxFQUFlLEVBQWYsRUFBbUIsRUFBbkIsRUFBdUIsRUFBdkIsRUFBMkIsRUFBM0IsRUFBK0I7QUFDNUMsZ0JBQUksS0FBSyxLQUFMLElBQWUsS0FBSyxLQUFMLEtBQWUsQ0FBbEMsRUFBc0M7QUFDcEMsa0JBQUksSUFBSSxFQUFFLENBQUYsR0FBTSxLQUFLLEtBQUwsQ0FBVyxDQUF6QjtBQUFBLGtCQUNFLElBQUksRUFBRSxDQUFGLEdBQU0sS0FBSyxLQUFMLENBQVcsQ0FEdkI7QUFBQSxrQkFFRSxJQUFJLEtBQUssSUFBTCxDQUFVLElBQUksQ0FBSixHQUFRLElBQUksQ0FBdEIsQ0FGTjtBQUdBLGtCQUFJLElBQUksRUFBUixFQUFZO0FBQ1Ysb0JBQUksQ0FBQyxJQUFJLEVBQUwsSUFBVyxDQUFYLEdBQWUsS0FBbkI7QUFDQSxrQkFBRSxDQUFGLElBQU8sS0FBSyxDQUFaO0FBQ0Esa0JBQUUsQ0FBRixJQUFPLEtBQUssQ0FBWjtBQUNBLHFCQUFLLEtBQUwsQ0FBVyxDQUFYLElBQWdCLENBQWhCO0FBQ0EscUJBQUssS0FBTCxDQUFXLENBQVgsSUFBZ0IsQ0FBaEI7QUFDRDtBQUNGO0FBQ0QsbUJBQU8sS0FBSyxHQUFMLElBQVksS0FBSyxHQUFqQixJQUF3QixLQUFLLEdBQTdCLElBQW9DLEtBQUssR0FBaEQ7QUFDRCxXQWREO0FBZUQsU0FyQkQ7QUFzQkQ7O0FBRUQ7QUFDQTtBQUNBLFVBQUksU0FBUyxDQUFiO0FBQ0E7QUFDQSxVQUFJLGdCQUFnQixFQUFwQjs7QUFFQSxXQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksWUFBWSxNQUFoQyxFQUF3QyxHQUF4QyxFQUE2QztBQUMzQyxzQkFBaUIsQ0FBakIsU0FBc0IsQ0FBdEIsSUFBNkIsQ0FBN0I7QUFDRDs7QUFFRCxrQkFBWSxPQUFaLENBQW9CLFVBQVMsQ0FBVCxFQUFZO0FBQzlCLHNCQUFpQixFQUFFLE1BQUYsQ0FBUyxLQUExQixTQUFtQyxFQUFFLE1BQUYsQ0FBUyxLQUE1QyxJQUF1RCxDQUF2RDtBQUNELE9BRkQ7O0FBSUEsZUFBUyxjQUFULEdBQTBCO0FBQ3hCO0FBQ0EsaUJBQVMsV0FBVCxDQUFxQixDQUFyQixFQUF3QixDQUF4QixFQUEyQjtBQUN6QixpQkFBTyxjQUFpQixFQUFFLEtBQW5CLFNBQTRCLEVBQUUsS0FBOUIsQ0FBUDtBQUNEO0FBQ0QsV0FBRyxLQUFILENBQVMsY0FBVDtBQUNBLFlBQUksV0FBVyxDQUFmLEVBQWtCO0FBQ2hCO0FBQ0EsY0FBSSxJQUFJLEdBQUcsTUFBSCxDQUFVLElBQVYsRUFBZ0IsSUFBaEIsR0FBdUIsUUFBL0I7QUFDQSxlQUFLLEtBQUwsQ0FBVyxTQUFYLEVBQXNCO0FBQUEsbUJBQUssWUFBWSxDQUFaLEVBQWUsQ0FBZixLQUFxQixZQUFZLENBQVosRUFBZSxDQUFmLENBQXJCLEdBQXlDLENBQXpDLEdBQTZDLEdBQWxEO0FBQUEsV0FBdEI7QUFDQSxlQUFLLEtBQUwsQ0FBVyxTQUFYLEVBQXNCO0FBQUEsbUJBQUssRUFBRSxLQUFGLEtBQVksRUFBRSxNQUFGLENBQVMsS0FBckIsSUFBOEIsRUFBRSxLQUFGLEtBQVksRUFBRSxNQUFGLENBQVMsS0FBbkQsR0FBMkQsQ0FBM0QsR0FBK0QsR0FBcEU7QUFBQSxXQUF0QjtBQUNBO0FBQ0EsbUJBQVMsQ0FBVDtBQUNELFNBUEQsTUFRSztBQUNIO0FBQ0EsZUFBSyxLQUFMLENBQVcsU0FBWCxFQUFzQixDQUF0QjtBQUNBLGVBQUssS0FBTCxDQUFXLFNBQVgsRUFBc0IsQ0FBdEI7QUFDQSxtQkFBUyxDQUFUO0FBQ0Q7QUFDRjs7QUFFRCxlQUFTLFdBQVQsQ0FBcUIsQ0FBckIsRUFBd0I7QUFDdEIsWUFBSSxDQUFDLEdBQUcsS0FBSCxDQUFTLE1BQVYsSUFBb0IsZ0JBQXBCLElBQXdDLFdBQTVDLEVBQXlEO0FBQ3ZELHFCQUFXLFdBQVgsQ0FBdUIsSUFBdkIsRUFBNkIsT0FBN0I7QUFDRDtBQUNELFVBQUUsRUFBRixHQUFPLEVBQUUsQ0FBVDtBQUNBLFVBQUUsRUFBRixHQUFPLEVBQUUsQ0FBVDtBQUNEOztBQUVELGVBQVMsT0FBVCxDQUFpQixDQUFqQixFQUFvQjtBQUNsQixVQUFFLEVBQUYsR0FBTyxHQUFHLEtBQUgsQ0FBUyxDQUFoQjtBQUNBLFVBQUUsRUFBRixHQUFPLEdBQUcsS0FBSCxDQUFTLENBQWhCO0FBQ0Q7O0FBRUQsZUFBUyxTQUFULENBQW1CLENBQW5CLEVBQXNCO0FBQ3BCLFlBQUksQ0FBQyxHQUFHLEtBQUgsQ0FBUyxNQUFWLElBQW9CLGdCQUFwQixJQUF3QyxXQUE1QyxFQUF5RDtBQUN2RCxxQkFBVyxXQUFYLENBQXVCLENBQXZCO0FBQ0Q7QUFDRCxVQUFFLEVBQUYsR0FBTyxJQUFQO0FBQ0EsVUFBRSxFQUFGLEdBQU8sSUFBUDtBQUNEOztBQUVELGVBQVMsZUFBVCxDQUF5QixJQUF6QixFQUErQixLQUEvQixFQUFzQztBQUNwQyxZQUFJLEtBQUssU0FBVCxFQUFvQjtBQUNsQixpQkFBTyxNQUFQLENBQWMsS0FBSyxTQUFuQixFQUE4QixPQUE5QixDQUFzQyxVQUFDLEVBQUQsRUFBUTtBQUM1QztBQUNBLGVBQUcsT0FBSCxLQUFlLEtBQWYsSUFBd0IsU0FBUyxJQUFULENBQWMsRUFBRSxVQUFVLEVBQVosRUFBZCxFQUFnQyxJQUFoQyxFQUFzQyxPQUF0QyxFQUF4QjtBQUNELFdBSEQ7QUFJRDtBQUNGOztBQUVELGFBQU8sSUFBUDtBQUVEOzs7K0JBRVUsQ0FBRTs7Ozs7a0JBL1ZNLEs7Ozs7Ozs7Ozs7Ozs7O0FDUnJCOzs7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOztJQUVxQixXLFdBTWxCLCtCQUFvQixPQUFwQixDOzs7QUFKRCw2QkFBNEQ7QUFBQSw0QkFBOUMsT0FBOEM7QUFBQSxRQUE5QyxPQUE4QyxnQ0FBcEMsS0FBb0M7QUFBQSxRQUE3QixRQUE2QixRQUE3QixRQUE2QjtBQUFBLFFBQW5CLGVBQW1CLFFBQW5CLGVBQW1COztBQUFBOztBQUFBLHFIQUNwRCxFQUFFLFNBQVMsT0FBWCxFQUFvQixVQUFVLFFBQTlCLEVBQXdDLGlCQUFpQixlQUF6RCxFQURvRDtBQUUzRDs7Ozs2QkFHUTtBQUFBOztBQUVQLFNBQUcsS0FBSCxDQUFTLGNBQVQ7O0FBRUEsV0FBSyxPQUFMLEdBQWUsS0FBSyxVQUFMLENBQWdCLE1BQWhCLENBQXVCLGdDQUF2QixDQUFmO0FBQ0E7QUFDQSxVQUFJLENBQUMsS0FBSyxPQUFMLENBQWEsSUFBYixFQUFMLEVBQTBCO0FBQ3hCLGFBQUssT0FBTCxHQUFlLEtBQUssVUFBTCxDQUFnQixNQUFoQixDQUF1QixLQUF2QixFQUNaLElBRFksQ0FDUCxPQURPLEVBQ0UsNEJBREYsQ0FBZjtBQUVEOztBQUVELFVBQUksTUFBTSxHQUFHLEtBQUgsQ0FBUyxLQUFLLFNBQUwsQ0FBZSxJQUFmLEVBQVQsQ0FBVjs7QUFFQSxXQUFLLE9BQUwsQ0FBYSxLQUFiLENBQW1CLE1BQW5CLEVBQTJCLElBQUksQ0FBSixJQUFTLENBQVQsR0FBYSxJQUF4QyxFQUE4QyxLQUE5QyxDQUFvRCxLQUFwRCxFQUEyRCxJQUFJLENBQUosSUFBUyxDQUFULEdBQWEsSUFBeEU7O0FBRUE7QUFDQSxXQUFLLE9BQUwsQ0FBYSxLQUFiLENBQW1CLFNBQW5CLEVBQThCLE9BQTlCOztBQUVBO0FBQ0EsVUFBSSxLQUFLLE9BQUwsQ0FBYSxTQUFiLENBQXVCLEdBQXZCLEVBQTRCLElBQTVCLEVBQUosRUFBd0M7QUFDdEM7QUFDRDs7QUFFRDtBQUNBLFNBQUcsTUFBSCxDQUFVLE1BQVYsRUFBa0IsRUFBbEIsQ0FBcUIsMkJBQXJCLEVBQWtEO0FBQUEsZUFBTSxPQUFLLFFBQUwsRUFBTjtBQUFBLE9BQWxEOztBQUVBO0FBQ0EsVUFBSSxPQUFPLEtBQUssT0FBTCxDQUFhLE1BQWIsQ0FBb0IsS0FBcEIsRUFBMkIsSUFBM0IsQ0FBZ0MsT0FBaEMsRUFBeUMscUJBQXpDLEVBQWdFLE1BQWhFLENBQXVFLElBQXZFLENBQVg7QUFDQSxVQUFJLGdCQUFnQixLQUFLLFFBQUwsQ0FBYyxPQUFPLE1BQVAsQ0FBYyxLQUFLLElBQUwsQ0FBVSxLQUF4QixDQUFkLENBQXBCO0FBQ0EsV0FBSyxRQUFMLENBQWMsSUFBZCxFQUFvQixhQUFwQjs7QUFFQSxhQUFPLElBQVA7QUFDRDs7OytCQUVVO0FBQ1QsVUFBSSxLQUFLLE9BQVQsRUFBa0I7QUFDaEIsYUFBSyxPQUFMLENBQWEsU0FBYixDQUF1QixHQUF2QixFQUE0QixNQUE1QjtBQUNBLGFBQUssT0FBTCxDQUFhLEtBQWIsQ0FBbUIsU0FBbkIsRUFBOEIsSUFBOUI7QUFDRDtBQUNGOzs7OztrQkE5Q2tCLFc7Ozs7Ozs7Ozs7OztBQ0xyQjs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFDQTs7QUFFQTs7SUFFcUIsUTs7O0FBRW5CLDBCQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEsK0dBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EO0FBRTNEOzs7OzZCQUVRO0FBQUE7O0FBQ1AsVUFBSSxTQUFTLEtBQUssT0FBTCxDQUFhLFFBQWIsQ0FBc0IsT0FBbkM7O0FBRUEsVUFBSSxhQUFhLHlCQUFlLEtBQUssT0FBcEIsQ0FBakI7O0FBRUE7QUFDQSxVQUFJLHVCQUFxQixLQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLEVBQTFDO0FBQ0EsV0FBSyxPQUFMLEdBQWUsR0FBRyxNQUFILE9BQWMsTUFBZCxDQUFmOztBQUVBO0FBQ0EsVUFBSSxDQUFDLEtBQUssT0FBTCxDQUFhLElBQWIsRUFBTCxFQUEwQjtBQUN4QjtBQUNBLGFBQUssTUFBTCxDQUFZLEtBQVosMEJBQXlDLE1BQXpDO0FBQ0EsYUFBSyxPQUFMLEdBQWUsT0FBTyxNQUFQLENBQWMsS0FBZCxFQUFxQixJQUFyQixDQUEwQixPQUExQixFQUFtQyx5QkFBbkMsRUFBOEQsSUFBOUQsQ0FBbUUsSUFBbkUsRUFBeUUsTUFBekUsQ0FBZjtBQUNEOztBQUVEO0FBQ0EsV0FBSyxPQUFMLENBQWEsU0FBYixDQUF1QixHQUF2QixFQUE0QixNQUE1Qjs7QUFFQSxXQUFLLE9BQUwsR0FBZSxLQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLElBQXBCLEVBQTBCLElBQTFCLENBQStCLE9BQS9CLEVBQXdDLGtCQUF4QyxDQUFmOztBQUVBLFVBQUksS0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixLQUFyQixFQUE0QjtBQUMxQixhQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLElBQXBCLEVBQTBCLElBQTFCLENBQStCLE9BQS9CLEVBQXdDLGNBQXhDLEVBQXdELE1BQXhELENBQStELEdBQS9ELEVBQW9FLElBQXBFLENBQXlFLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsS0FBMUY7QUFDRDs7QUFFRCxVQUFJLFFBQVEsS0FBSyxPQUFMLENBQWEsTUFBYixDQUFvQixJQUFwQixDQUFaO0FBQ0EsWUFBTSxNQUFOLENBQWEsR0FBYixFQUFrQixJQUFsQixDQUF1QixRQUF2QjtBQUNBLFVBQUksVUFBVSxNQUFNLE1BQU4sQ0FBYSxJQUFiLENBQWQ7QUFDQSxVQUFJLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsU0FBckIsRUFBZ0M7QUFDOUIsZ0JBQVEsTUFBUixDQUFlLElBQWYsRUFBcUIsTUFBckIsQ0FBNEIsR0FBNUIsRUFBaUMsRUFBakMsQ0FBb0MsT0FBcEMsRUFBNkM7QUFBQSxpQkFBTSxPQUFLLE9BQUwsQ0FBYSxRQUFiLENBQXNCLE1BQXRCLENBQTZCLFNBQTdCLEVBQU47QUFBQSxTQUE3QyxFQUE2RixJQUE3RixDQUFrRyxPQUFsRyxFQUEyRyxhQUEzRyxFQUEwSCxJQUExSCxDQUErSCxhQUEvSDtBQUNEO0FBQ0Q7QUFDQSxjQUFRLE1BQVIsQ0FBZSxJQUFmLEVBQXFCLE1BQXJCLENBQTRCLEdBQTVCLEVBQWlDLEVBQWpDLENBQW9DLE9BQXBDLEVBQTZDO0FBQUEsZUFBTSxXQUFXLElBQVgsQ0FBZ0IsT0FBSyxJQUFyQixFQUEyQixNQUEzQixFQUFOO0FBQUEsT0FBN0MsRUFBd0YsSUFBeEYsQ0FBNkYsT0FBN0YsRUFBc0csT0FBdEcsRUFBK0csSUFBL0csQ0FBb0gsT0FBcEg7O0FBRUE7QUFDQSxVQUFJLGdCQUFnQixLQUFLLFFBQUwsQ0FBYyxPQUFPLE1BQVAsQ0FBYyxLQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLEtBQS9CLENBQWQsQ0FBcEI7QUFDQSxXQUFLLFFBQUwsQ0FBYyxLQUFLLE9BQW5CLEVBQTRCLGFBQTVCOztBQUVBLFdBQUssTUFBTCxDQUFZLEtBQVoseUJBQXdDLE1BQXhDOztBQUVBLGFBQU8sSUFBUDtBQUNEOzs7K0JBRVUsQ0FBRTs7Ozs7O2tCQWpETSxROzs7Ozs7Ozs7Ozs7QUNOckI7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0lBRXFCLEk7OztBQUVuQixzQkFBNEQ7QUFBQSw0QkFBOUMsT0FBOEM7QUFBQSxRQUE5QyxPQUE4QyxnQ0FBcEMsS0FBb0M7QUFBQSxRQUE3QixRQUE2QixRQUE3QixRQUE2QjtBQUFBLFFBQW5CLGVBQW1CLFFBQW5CLGVBQW1COztBQUFBOztBQUFBLHVHQUNwRCxFQUFFLFNBQVMsT0FBWCxFQUFvQixVQUFVLFFBQTlCLEVBQXdDLGlCQUFpQixlQUF6RCxFQURvRDtBQUUzRDs7Ozs2QkFFUSxRLEVBQVUsYSxFQUFlO0FBQUE7O0FBQ2hDLGFBQU8sY0FBYyxPQUFkLEVBQVAsRUFBZ0M7QUFDOUIsWUFBSSxXQUFXLGNBQWMsSUFBZCxFQUFmO0FBQ0EsWUFBSSxRQUFRLFNBQVMsTUFBVCxDQUFnQixJQUFoQixDQUFaO0FBQ0EsWUFBSSxTQUFTLE1BQU0sU0FBTixDQUFnQixHQUFoQixFQUFxQixJQUFyQixDQUEwQixDQUFDLFFBQUQsQ0FBMUIsRUFBc0MsS0FBdEMsR0FBOEMsTUFBOUMsQ0FBcUQsR0FBckQsRUFBMEQsSUFBMUQsQ0FBK0QsT0FBL0QsRUFBd0UsU0FBUyxLQUFqRixFQUF3RixJQUF4RixDQUE2RixTQUFTLEtBQXRHLENBQWI7QUFDQSxZQUFJLFNBQVMsUUFBVCxJQUFxQixPQUFPLE1BQVAsQ0FBYyxTQUFTLFFBQXZCLEVBQWlDLE1BQTFELEVBQWtFO0FBQ2hFLGlCQUFPLEVBQVAsQ0FBVSxPQUFWLEVBQW1CLFVBQUMsQ0FBRDtBQUFBLG1CQUFPLHVCQUFhLE9BQUssT0FBbEIsRUFBMkIsSUFBM0IsQ0FBZ0MsQ0FBaEMsRUFBbUMsSUFBbkMsRUFBeUMsT0FBekMsRUFBUDtBQUFBLFdBQW5CO0FBQ0Q7QUFDRCxZQUFJLFNBQVMsS0FBVCxJQUFrQixPQUFPLE1BQVAsQ0FBYyxTQUFTLEtBQXZCLEVBQThCLE1BQTlCLEdBQXVDLENBQTdELEVBQWdFO0FBQzlELGNBQUksVUFBVSxNQUFNLE1BQU4sQ0FBYSxJQUFiLENBQWQ7QUFDQSxjQUFJLG1CQUFtQixLQUFLLFFBQUwsQ0FBYyxPQUFPLE1BQVAsQ0FBYyxTQUFTLEtBQXZCLENBQWQsQ0FBdkI7QUFDQSxlQUFLLFFBQUwsQ0FBYyxPQUFkLEVBQXVCLGdCQUF2QjtBQUNEO0FBQ0Y7QUFDRjs7OzZCQUVRLEssRUFBTztBQUNkLFVBQUksWUFBWSxDQUFoQjtBQUNBLGFBQU87QUFDTCxjQUFNLGdCQUFXO0FBQ2YsaUJBQU8sS0FBSyxPQUFMLEtBQWlCLE1BQU0sV0FBTixDQUFqQixHQUFzQyxTQUE3QztBQUNELFNBSEk7QUFJTCxpQkFBUyxtQkFBVztBQUNsQixpQkFBTyxZQUFZLE1BQU0sTUFBekI7QUFDRDtBQU5JLE9BQVA7QUFRRDs7OytCQUVVLENBQUU7Ozs7OztrQkFsQ00sSTs7Ozs7Ozs7Ozs7Ozs7QUNIckI7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7O0lBRXFCLE8sV0FNbEIsK0JBQW9CLGlCQUFwQixDOzs7QUFKRCx5QkFBNEQ7QUFBQSw0QkFBOUMsT0FBOEM7QUFBQSxRQUE5QyxPQUE4QyxnQ0FBcEMsS0FBb0M7QUFBQSxRQUE3QixRQUE2QixRQUE3QixRQUE2QjtBQUFBLFFBQW5CLGVBQW1CLFFBQW5CLGVBQW1COztBQUFBOztBQUFBLDZHQUNwRCxFQUFFLFNBQVMsT0FBWCxFQUFvQixVQUFVLFFBQTlCLEVBQXdDLGlCQUFpQixlQUF6RCxFQURvRDtBQUUzRDs7Ozs2QkFHUTtBQUFBOztBQUNQLFVBQUksU0FBUyxLQUFLLE9BQUwsQ0FBYSxRQUFiLENBQXNCLE9BQW5DOztBQUVBLFVBQUksV0FBVyxPQUFPLElBQVAsQ0FBWSxLQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLFFBQTdCLEVBQXVDLEdBQXZDLENBQTJDLFVBQUMsR0FBRCxFQUFTO0FBQ2pFLGVBQU87QUFDTCxjQUFJLEdBREM7QUFFTCxnQkFBTSxPQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLFFBQWpCLENBQTBCLEdBQTFCLEVBQStCLElBRmhDO0FBR0wsaUJBQU8sT0FBSyxJQUFMLENBQVUsTUFBVixDQUFpQixRQUFqQixDQUEwQixHQUExQixFQUErQixLQUhqQztBQUlMLGdCQUFNLE9BQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsUUFBakIsQ0FBMEIsR0FBMUIsRUFBK0I7QUFKaEMsU0FBUDtBQU1ELE9BUGMsQ0FBZjs7QUFTQSxVQUFJLHlCQUF1QixLQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLEVBQTVDO0FBQ0EsV0FBSyxPQUFMLEdBQWUsR0FBRyxNQUFILE9BQWMsUUFBZCxDQUFmO0FBQ0E7QUFDQSxVQUFJLENBQUMsS0FBSyxPQUFMLENBQWEsSUFBYixFQUFMLEVBQTBCO0FBQ3hCLGFBQUssT0FBTCxHQUFlLE9BQU8sTUFBUCxDQUFjLEtBQWQsRUFBcUIsSUFBckIsQ0FBMEIsT0FBMUIsRUFBbUMsdUJBQW5DLEVBQTRELElBQTVELENBQWlFLElBQWpFLEVBQXVFLFFBQXZFLENBQWY7QUFDRDs7QUFFRCxVQUFJLE9BQU8sSUFBWDtBQUNBLGVBQVMsR0FBVCxDQUFhLFVBQVMsQ0FBVCxFQUFZO0FBQ3ZCO0FBQ0EsWUFBSSxDQUFDLEtBQUssT0FBTCxDQUFhLE1BQWIsVUFBMkIsRUFBRSxFQUE3QixFQUFtQyxJQUFuQyxFQUFMLEVBQWdEO0FBQzlDLGNBQUksTUFBTSxLQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLEtBQXBCLEVBQTJCLElBQTNCLENBQWdDLElBQWhDLEVBQXNDLEVBQUUsRUFBeEMsRUFDUCxJQURPLENBQ0YsT0FERSwwQkFDNkIsRUFBRSxJQUQvQixFQUN1QyxFQUR2QyxDQUMwQyxPQUQxQyxFQUNtRCxZQUFXO0FBQ3BFLGVBQUcsTUFBSCxDQUFVLElBQVYsRUFBZ0IsS0FBaEIsQ0FBc0IsU0FBdEIsRUFBaUMsTUFBakM7QUFDRCxXQUhPLENBQVY7QUFJQSxjQUFJLE1BQUosQ0FBVyxNQUFYLEVBQW1CLElBQW5CLENBQXdCLE9BQXhCLEVBQWlDLFFBQWpDLEVBQTJDLElBQTNDLENBQWdELEVBQUUsS0FBbEQ7QUFDQSxjQUFJLE1BQUosQ0FBVyxNQUFYLEVBQW1CLElBQW5CLENBQXdCLEVBQUUsSUFBMUI7QUFDQSxjQUFJLE1BQUosQ0FBVyxNQUFYLEVBQW1CLElBQW5CLENBQXdCLE9BQXhCLEVBQWlDLFFBQWpDLEVBQTJDLEtBQTNDLENBQWlELFNBQWpELEVBQTRELE1BQTVELEVBQW9FLElBQXBFLENBQXlFLEdBQXpFO0FBQ0Q7QUFDRixPQVhEOztBQWFBLFdBQUssT0FBTCxDQUFhLEtBQWIsQ0FBbUIsU0FBbkIsRUFBOEIsT0FBOUI7O0FBRUEsYUFBTyxJQUFQO0FBQ0Q7OzsrQkFFVSxDQUFFOzs7OztrQkE3Q00sTzs7Ozs7Ozs7Ozs7O0FDTHJCOzs7Ozs7Ozs7Ozs7QUFFQTs7SUFFcUIsVTs7O0FBRW5CLDRCQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEsbUhBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EO0FBRTNEOzs7OzZCQUVRO0FBQ1AsVUFBSSxVQUFVLGtCQUFkOztBQUVBLFdBQUssTUFBTCxDQUFZLEtBQVosNEJBQTJDLE9BQTNDOztBQUVBO0FBQ0EsVUFBSSxVQUFVLEdBQUcsTUFBSCxDQUFVLE1BQVYsRUFBa0IsTUFBbEIsQ0FBeUIsS0FBekIsRUFDWCxJQURXLENBQ04sT0FETSxFQUNHLGdCQURILENBQWQ7QUFFQSxVQUFJLFNBQVMsR0FBRyxNQUFILENBQVUsTUFBVixFQUFrQixNQUFsQixDQUF5QixLQUF6QixFQUNWLElBRFUsQ0FDTCxPQURLLEVBQ0ksUUFESixDQUFiO0FBRUEsV0FBSyxPQUFMLEdBQWUsT0FBTyxNQUFQLENBQWMsS0FBZCxFQUNaLElBRFksQ0FDUCxJQURPLEVBQ0QsT0FEQyxFQUVaLElBRlksQ0FFUCxPQUZPLEVBRUUsY0FGRixDQUFmOztBQUlBLFVBQUksT0FBTyxLQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLE1BQXBCLENBQVg7O0FBRUEsVUFBSSxTQUFTLEtBQUssTUFBTCxDQUFZLEtBQVosRUFBbUIsSUFBbkIsQ0FBd0IsT0FBeEIsRUFBaUMscUJBQWpDLENBQWI7O0FBRUEsYUFBTyxNQUFQLENBQWMsTUFBZCxFQUFzQixJQUF0QixxQkFBNEMsS0FBSyxJQUFMLENBQVUsT0FBVixJQUFxQixLQUFqRTs7QUFFQSxVQUFJLFVBQVUsS0FBSyxNQUFMLENBQVksS0FBWixFQUFtQixJQUFuQixDQUF3QixPQUF4QixFQUFpQyxzQkFBakMsRUFBeUQsTUFBekQsQ0FBZ0UsS0FBaEUsRUFBdUUsSUFBdkUsQ0FBNEUsT0FBNUUsRUFBcUYsY0FBckYsRUFBcUcsTUFBckcsQ0FBNEcsS0FBNUcsRUFBbUgsSUFBbkgsQ0FBd0gsT0FBeEgsRUFBaUksbUJBQWpJLENBQWQ7O0FBRUEsY0FBUSxNQUFSLENBQWUsTUFBZixFQUF1QixJQUF2QixDQUE0QixnQkFBNUI7QUFDQSxjQUFRLE1BQVIsQ0FBZSxLQUFmLEVBQXNCLElBQXRCLENBQTJCLE9BQTNCLEVBQW9DLFFBQXBDLEVBQThDLElBQTlDLENBQW1ELEtBQUssZUFBTCxDQUFxQixLQUFLLFNBQUwsQ0FBZSxLQUFLLElBQUwsQ0FBVSxNQUF6QixFQUFpQyxJQUFqQyxFQUF1QyxDQUF2QyxDQUFyQixDQUFuRDtBQUNBLGNBQVEsTUFBUixDQUFlLE1BQWYsRUFBdUIsTUFBdkIsQ0FBOEIsR0FBOUIsRUFBbUMsSUFBbkMsQ0FBd0MsTUFBeEMsRUFBZ0QscUNBQWhELEVBQXVGLElBQXZGLENBQTRGLGtCQUE1Rjs7QUFFQSxVQUFJLFNBQVMsS0FBSyxNQUFMLENBQVksS0FBWixFQUFtQixJQUFuQixDQUF3QixPQUF4QixFQUFpQyxxQkFBakMsQ0FBYjs7QUFFQSxhQUFPLE1BQVAsQ0FBYyxRQUFkLEVBQXdCLElBQXhCLENBQTZCLElBQTdCLEVBQW1DLEVBQW5DLENBQXNDLE9BQXRDLEVBQStDLFlBQVc7QUFDeEQsYUFBSyxPQUFMLENBQWEsTUFBYjtBQUNBLGVBQU8sTUFBUDtBQUNBLGdCQUFRLE1BQVI7QUFDQSxXQUFHLEtBQUgsQ0FBUyxjQUFUO0FBQ0EsZUFBTyxLQUFQO0FBQ0QsT0FORDs7QUFRQTtBQUNBLFVBQUk7QUFDRixnQkFBUSxnQkFBUixDQUF5QixlQUF6QixDQUF5QyxTQUF6QztBQUNBLGdCQUFRLGdCQUFSLENBQXlCLGVBQXpCLENBQXlDLGFBQXpDO0FBQ0EsZ0JBQVEsZ0JBQVIsQ0FBeUIsZUFBekIsQ0FBeUMsaUJBQXpDO0FBQ0EsZ0JBQVEsZ0JBQVIsQ0FBeUIsZUFBekIsQ0FBeUMsZUFBekM7QUFDRCxPQUxELENBTUEsT0FBTyxDQUFQLEVBQVU7QUFDUixZQUFJLEVBQUUsSUFBRixJQUFVLGdCQUFkLEVBQWdDO0FBQzlCLGVBQUssTUFBTCxDQUFZLEtBQVosQ0FBa0IsMkNBQWxCLEVBQStELENBQS9EO0FBQ0Q7QUFDRjs7QUFFRCxXQUFLLE1BQUwsQ0FBWSxLQUFaLDhCQUE2QyxPQUE3Qzs7QUFFQSxhQUFPLElBQVA7QUFDRDs7OytCQUVVLENBQUU7O0FBRWI7Ozs7b0NBQ2dCLEksRUFBTTtBQUNwQixhQUFPLEtBQUssT0FBTCxDQUFhLElBQWIsRUFBbUIsT0FBbkIsRUFBNEIsT0FBNUIsQ0FBb0MsSUFBcEMsRUFBMEMsTUFBMUMsRUFBa0QsT0FBbEQsQ0FBMEQsSUFBMUQsRUFBZ0UsTUFBaEUsQ0FBUDtBQUNBLGFBQU8sS0FBSyxPQUFMLENBQWEscUdBQWIsRUFBb0gsVUFBUyxLQUFULEVBQWdCO0FBQ3pJLFlBQUksTUFBTSxRQUFWO0FBQ0EsWUFBSSxLQUFLLElBQUwsQ0FBVSxLQUFWLENBQUosRUFBc0I7QUFDcEIsY0FBSSxLQUFLLElBQUwsQ0FBVSxLQUFWLENBQUosRUFBc0I7QUFDcEIsa0JBQU0sS0FBTjtBQUNELFdBRkQsTUFHSztBQUNILGtCQUFNLFFBQU47QUFDRDtBQUNGLFNBUEQsTUFRSyxJQUFJLGFBQWEsSUFBYixDQUFrQixLQUFsQixDQUFKLEVBQThCO0FBQ2pDLGdCQUFNLFNBQU47QUFDRCxTQUZJLE1BR0EsSUFBSSxPQUFPLElBQVAsQ0FBWSxLQUFaLENBQUosRUFBd0I7QUFDM0IsZ0JBQU0sTUFBTjtBQUNEO0FBQ0QsZUFBTyxrQkFBa0IsR0FBbEIsR0FBd0IsSUFBeEIsR0FBK0IsS0FBL0IsR0FBdUMsU0FBOUM7QUFDRCxPQWpCTSxDQUFQO0FBa0JEOzs7Ozs7a0JBbkZrQixVOzs7Ozs7Ozs7Ozs7QUNKckI7Ozs7Ozs7Ozs7OztBQUVBOztJQUVxQixpQjs7O0FBRW5CLG1DQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEsaUlBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EO0FBRTNEOzs7OzZCQUVRO0FBQ1AsVUFBSSxPQUFPLElBQVg7O0FBRUEsVUFBSSxVQUFVLEtBQUssSUFBTCxDQUFVLFFBQVYsQ0FBbUIsRUFBakM7O0FBRUEsV0FBSyxNQUFMLENBQVksS0FBWiwrQkFBOEMsT0FBOUM7O0FBRUE7QUFDQSxVQUFJLFVBQVUsR0FBRyxNQUFILENBQVUsTUFBVixFQUFrQixNQUFsQixDQUF5QixLQUF6QixFQUNYLElBRFcsQ0FDTixPQURNLEVBQ0csZ0JBREgsQ0FBZDtBQUVBLFVBQUksU0FBUyxHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLE1BQWxCLENBQXlCLEtBQXpCLEVBQ1YsSUFEVSxDQUNMLE9BREssRUFDSSxRQURKLENBQWI7QUFFQSxXQUFLLE9BQUwsR0FBZSxPQUFPLE1BQVAsQ0FBYyxLQUFkLEVBQ1osSUFEWSxDQUNQLElBRE8sRUFDRCxPQURDLEVBRVosSUFGWSxDQUVQLE9BRk8sRUFFRSxjQUZGLENBQWY7O0FBSUEsVUFBSSxPQUFPLEtBQUssT0FBTCxDQUFhLE1BQWIsQ0FBb0IsTUFBcEIsQ0FBWDs7QUFFQSxVQUFJLFNBQVMsS0FBSyxNQUFMLENBQVksS0FBWixFQUFtQixJQUFuQixDQUF3QixPQUF4QixFQUFpQyxxQkFBakMsQ0FBYjs7QUFFQSxVQUFJLGNBQWMsT0FBTyxNQUFQLENBQWMsTUFBZCxFQUFzQixJQUF0QixDQUEyQiwwQkFBM0IsQ0FBbEI7QUFDQSxVQUFJLEtBQUssSUFBTCxDQUFVLEtBQWQsRUFBcUI7QUFDbkIsb0JBQVksTUFBWixDQUFtQixNQUFuQixFQUEyQixJQUEzQixDQUFnQyxPQUFoQyxFQUF5QyxvQkFBekMsRUFBK0QsSUFBL0QsVUFBMkUsS0FBSyxJQUFMLENBQVUsS0FBckY7QUFDRDs7QUFFRCxVQUFJLFVBQVUsS0FBSyxNQUFMLENBQVksS0FBWixFQUFtQixJQUFuQixDQUF3QixPQUF4QixFQUFpQyxzQkFBakMsRUFBeUQsTUFBekQsQ0FBZ0UsS0FBaEUsRUFBdUUsSUFBdkUsQ0FBNEUsT0FBNUUsRUFBcUYsY0FBckYsRUFBcUcsTUFBckcsQ0FBNEcsS0FBNUcsRUFBbUgsSUFBbkgsQ0FBd0gsT0FBeEgsRUFBaUksbUJBQWpJLENBQWQ7O0FBekJPO0FBQUE7QUFBQTs7QUFBQTtBQTJCUCw2QkFBZ0IsT0FBTyxNQUFQLENBQWMsS0FBSyxJQUFMLENBQVUsUUFBVixDQUFtQixZQUFqQyxDQUFoQiw4SEFBZ0U7QUFBQSxjQUF2RCxHQUF1RDs7QUFDOUQsY0FBSSxNQUFNLFFBQVEsTUFBUixDQUFlLEtBQWYsRUFBc0IsSUFBdEIsQ0FBMkIsT0FBM0IsRUFBb0Msa0JBQXBDLENBQVY7QUFDQSxjQUFJLE1BQUosQ0FBVyxLQUFYLEVBQWtCLElBQWxCLENBQXVCLE9BQXZCLEVBQWdDLG1CQUFoQyxFQUFxRCxNQUFyRCxDQUE0RCxPQUE1RCxFQUFxRSxJQUFyRSxDQUEwRSxLQUExRSxFQUFpRixJQUFJLEVBQXJGLEVBQXlGLElBQXpGLENBQThGLElBQUksS0FBbEc7QUFDQSxjQUFJLFFBQVEsSUFBSSxNQUFKLENBQVcsS0FBWCxFQUFrQixJQUFsQixDQUF1QixPQUF2QixFQUFnQyxtQkFBaEMsRUFBcUQsTUFBckQsQ0FBNEQsT0FBNUQsRUFBcUUsSUFBckUsQ0FBMEUsSUFBMUUsRUFBZ0YsSUFBSSxFQUFwRixFQUF3RixJQUF4RixDQUE2RixPQUE3RixFQUFzRyxZQUF0RyxFQUNULElBRFMsQ0FDSixVQURJLEVBQ1EsRUFEUixFQUVULElBRlMsQ0FFSixNQUZJLEVBRUksSUFBSSxFQUZSLEVBR1QsSUFIUyxDQUdKLE1BSEksRUFHSSxJQUFJLElBSFIsRUFJVCxJQUpTLENBSUosT0FKSSxFQUlLLElBQUksS0FKVCxFQUtULEVBTFMsQ0FLTixRQUxNLEVBS0ksWUFBVztBQUFFLGlCQUFLLElBQUwsQ0FBVSxRQUFWLENBQW1CLFlBQW5CLENBQWdDLEtBQUssRUFBckMsRUFBeUMsS0FBekMsR0FBaUQsS0FBSyxLQUF0RDtBQUE4RCxXQUwvRSxFQU1ULEVBTlMsQ0FNTixPQU5NLEVBTUcsS0FBSyxRQU5SLEVBT1QsRUFQUyxDQU9OLE9BUE0sRUFPRyxLQUFLLFFBUFIsRUFRVCxFQVJTLENBUU4sT0FSTSxFQVFHLEtBQUssUUFSUixDQUFaO0FBU0E7QUFDQSxjQUFJLElBQUksSUFBSixLQUFhLFNBQWpCLEVBQTRCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLGdCQUFJLEtBQUosR0FBWSxJQUFJLEtBQUosSUFBYSxLQUF6QjtBQUNBLGtCQUFNLElBQU4sQ0FBVyxNQUFYLEVBQW1CLFVBQW5CLEVBQStCLElBQS9CLENBQW9DLFVBQXBDLEVBQWdELElBQWhELEVBQ0csSUFESCxDQUNRLE9BRFIsRUFDaUIsSUFBSSxLQURyQixFQUVHLEVBRkgsQ0FFTSxRQUZOLEVBRWdCLFlBQVc7QUFBRSxtQkFBSyxJQUFMLENBQVUsUUFBVixDQUFtQixZQUFuQixDQUFnQyxLQUFLLEVBQXJDLEVBQXlDLEtBQXpDLEdBQWlELEtBQUssS0FBTCxHQUFhLEtBQUssT0FBbkU7QUFBNkUsYUFGMUc7QUFHRDtBQUNELGNBQUksTUFBSixDQUFXLE1BQVgsRUFBbUIsSUFBbkIsQ0FBd0IsT0FBeEIsRUFBaUMsVUFBakM7QUFDRDtBQWxETTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQW9EUCxVQUFJLFNBQVMsS0FBSyxNQUFMLENBQVksS0FBWixFQUFtQixJQUFuQixDQUF3QixPQUF4QixFQUFpQyxxQkFBakMsQ0FBYjs7QUFFQSxhQUFPLE1BQVAsQ0FBYyxRQUFkLEVBQXdCLElBQXhCLENBQTZCLElBQTdCLEVBQW1DLEVBQW5DLENBQXNDLE9BQXRDLEVBQStDLFlBQVc7QUFDeEQsWUFBSSxLQUFLLElBQUwsR0FBWSxhQUFaLEVBQUosRUFBaUM7QUFDL0IsYUFBRyxLQUFILENBQVMsY0FBVDtBQUNBLGVBQUssT0FBTCxDQUFhLGVBQWIsQ0FBNkIsS0FBSyxJQUFMLENBQVUsUUFBdkM7QUFDQSxrQkFBUSxNQUFSO0FBQ0EsZUFBSyxPQUFMLENBQWEsTUFBYjtBQUNBLGlCQUFPLE1BQVA7QUFDRDtBQUNELGVBQU8sS0FBUDtBQUNELE9BVEQ7QUFVQSxhQUFPLE1BQVAsQ0FBYyxRQUFkLEVBQXdCLElBQXhCLENBQTZCLFFBQTdCLEVBQXVDLEVBQXZDLENBQTBDLE9BQTFDLEVBQW1ELFlBQU07QUFDdkQsZ0JBQVEsTUFBUjtBQUNBLGFBQUssT0FBTCxDQUFhLE1BQWI7QUFDQSxlQUFPLE1BQVA7QUFDQSxXQUFHLEtBQUgsQ0FBUyxjQUFUO0FBQ0EsZUFBTyxLQUFQO0FBQ0QsT0FORDs7QUFRQTtBQUNBLFVBQUk7QUFDRixnQkFBUSxnQkFBUixDQUF5QixlQUF6QixDQUF5QyxTQUF6QztBQUNBLGdCQUFRLGdCQUFSLENBQXlCLGVBQXpCLENBQXlDLGFBQXpDO0FBQ0EsZ0JBQVEsZ0JBQVIsQ0FBeUIsZUFBekIsQ0FBeUMsaUJBQXpDO0FBQ0EsZ0JBQVEsZ0JBQVIsQ0FBeUIsZUFBekIsQ0FBeUMsZUFBekM7QUFDRCxPQUxELENBTUEsT0FBTyxDQUFQLEVBQVU7QUFDUixZQUFJLEVBQUUsSUFBRixJQUFVLGdCQUFkLEVBQWdDO0FBQzlCLGVBQUssTUFBTCxDQUFZLEtBQVosQ0FBa0IsMkNBQWxCLEVBQStELENBQS9EO0FBQ0Q7QUFDRjs7QUFFRCxjQUFRLFNBQVIsQ0FBa0IsYUFBbEIsRUFBaUMsSUFBakMsR0FBd0MsS0FBeEM7O0FBRUEsV0FBSyxNQUFMLENBQVksS0FBWiw4QkFBNkMsT0FBN0M7O0FBRUEsYUFBTyxJQUFQO0FBQ0Q7OzsrQkFFVSxDQUFFOzs7Ozs7a0JBbEdNLGlCOzs7Ozs7Ozs7Ozs7QUNKckI7Ozs7Ozs7Ozs7OztBQUVBOztJQUVxQixROzs7QUFFbkIsMEJBQTREO0FBQUEsNEJBQTlDLE9BQThDO0FBQUEsUUFBOUMsT0FBOEMsZ0NBQXBDLEtBQW9DO0FBQUEsUUFBN0IsUUFBNkIsUUFBN0IsUUFBNkI7QUFBQSxRQUFuQixlQUFtQixRQUFuQixlQUFtQjs7QUFBQTs7QUFBQSxvSEFDcEQsRUFBRSxTQUFTLE9BQVgsRUFBb0IsVUFBVSxRQUE5QixFQUF3QyxpQkFBaUIsZUFBekQsRUFEb0Q7O0FBRTFELFFBQUksSUFBSSxNQUFKLEtBQWUsUUFBbkIsRUFBNkI7QUFDM0IsWUFBTSxJQUFJLFNBQUosQ0FBYyxpREFBZCxDQUFOO0FBQ0Q7QUFDRCxRQUFJLE1BQUssTUFBTCxLQUFnQixTQUFoQixJQUE2QixPQUFPLE1BQUssTUFBWixLQUF1QixVQUF4RCxFQUFvRTtBQUNsRSxZQUFNLElBQUksU0FBSixDQUFjLGtDQUFkLENBQU47QUFDRDtBQUNELFFBQUksTUFBSyxRQUFMLEtBQWtCLFNBQXRCLEVBQWlDO0FBQy9CLFlBQUssTUFBTCxDQUFZLEtBQVosQ0FBa0IscUNBQWxCO0FBQ0Q7QUFDRCxVQUFLLE9BQUwsR0FBZSxTQUFmO0FBWDBEO0FBWTNEOzs7O3dCQUVnQjtBQUNmLGFBQU8sS0FBSyxPQUFMLENBQWEsUUFBYixDQUFzQixPQUF0QixDQUE4QixJQUE5QixHQUFxQyxPQUFyQyxDQUE2QyxXQUE3QyxPQUErRCxLQUEvRCxHQUF1RSxHQUFHLE1BQUgsQ0FBVSxLQUFLLE9BQUwsQ0FBYSxRQUFiLENBQXNCLE9BQXRCLENBQThCLElBQTlCLEdBQXFDLFVBQS9DLENBQXZFLEdBQW9JLEtBQUssT0FBTCxDQUFhLFFBQWIsQ0FBc0IsT0FBaks7QUFDRDs7O3dCQUVlO0FBQ2QsYUFBTyxLQUFLLE9BQUwsQ0FBYSxRQUFiLENBQXNCLE9BQXRCLENBQThCLElBQTlCLEdBQXFDLE9BQXJDLENBQTZDLFdBQTdDLE9BQStELEtBQS9ELEdBQXVFLEtBQUssT0FBTCxDQUFhLFFBQWIsQ0FBc0IsT0FBdEIsQ0FBOEIsTUFBOUIsQ0FBcUMsS0FBckMsQ0FBdkUsR0FBcUgsS0FBSyxPQUFMLENBQWEsUUFBYixDQUFzQixPQUFsSjtBQUNEOzs7Ozs7a0JBdEJrQixROzs7Ozs7Ozs7Ozs7OztBQ0pyQjs7OztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7SUFFcUIsTyxXQU1sQixnQzs7O0FBSkQseUJBQTREO0FBQUEsNEJBQTlDLE9BQThDO0FBQUEsUUFBOUMsT0FBOEMsZ0NBQXBDLEtBQW9DO0FBQUEsUUFBN0IsUUFBNkIsUUFBN0IsUUFBNkI7QUFBQSxRQUFuQixlQUFtQixRQUFuQixlQUFtQjs7QUFBQTs7QUFBQSw2R0FDcEQsRUFBRSxTQUFTLE9BQVgsRUFBb0IsVUFBVSxRQUE5QixFQUF3QyxpQkFBaUIsZUFBekQsRUFEb0Q7QUFFM0Q7Ozs7NkJBR1E7O0FBRVAsV0FBSyxPQUFMLEdBQWUsS0FBSyxVQUFMLENBQWdCLE1BQWhCLENBQXVCLDJCQUF2QixDQUFmO0FBQ0E7QUFDQSxVQUFJLENBQUMsS0FBSyxPQUFMLENBQWEsSUFBYixFQUFMLEVBQTBCO0FBQ3hCLGFBQUssT0FBTCxHQUFlLEtBQUssVUFBTCxDQUFnQixNQUFoQixDQUF1QixLQUF2QixFQUNaLElBRFksQ0FDUCxPQURPLEVBQ0UsdUJBREYsQ0FBZjtBQUVEOztBQUVELFVBQUksTUFBTSxHQUFHLEtBQUgsQ0FBUyxLQUFLLFNBQUwsQ0FBZSxJQUFmLEVBQVQsQ0FBVjs7QUFFQTtBQUNBLFdBQUssT0FBTCxDQUFhLEtBQWIsQ0FBbUIsTUFBbkIsRUFBMkIsSUFBSSxDQUFKLElBQVMsSUFBcEMsRUFBMEMsS0FBMUMsQ0FBZ0QsS0FBaEQsRUFBdUQsSUFBSSxDQUFKLElBQVMsSUFBaEU7O0FBRUE7QUFDQSxVQUFJLEtBQUssT0FBTCxDQUFhLFNBQWIsQ0FBdUIsR0FBdkIsRUFBNEIsSUFBNUIsRUFBSixFQUF3QztBQUN0QztBQUNEOztBQUVELFVBQUksUUFBUSxLQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLEtBQXBCLEVBQTJCLElBQTNCLENBQWdDLE9BQWhDLEVBQXlDLGdCQUF6QyxFQUNULE1BRFMsQ0FDRixLQURFLEVBQ0ssSUFETCxDQUNVLE9BRFYsRUFDbUIsY0FEbkIsRUFFVCxNQUZTLENBRUYsS0FGRSxFQUVLLElBRkwsQ0FFVSxPQUZWLEVBRW1CLG1CQUZuQixDQUFaO0FBR0EsVUFBSSxPQUFPLElBQVg7QUFDQSxhQUFPLElBQVAsQ0FBWSxLQUFLLElBQWpCLEVBQXVCLEdBQXZCLENBQTJCLFVBQVMsR0FBVCxFQUFjO0FBQ3ZDLFlBQUksTUFBTSxNQUFNLE1BQU4sQ0FBYSxLQUFiLEVBQW9CLElBQXBCLENBQXlCLE9BQXpCLEVBQWtDLGtCQUFsQyxDQUFWO0FBQ0EsWUFBSSxNQUFKLENBQVcsS0FBWCxFQUFrQixJQUFsQixDQUF1QixPQUF2QixFQUFnQyxtQkFBaEMsRUFBcUQsSUFBckQsQ0FBMEQsS0FBSyxJQUFMLENBQVUsR0FBVixFQUFlLEtBQXpFO0FBQ0EsWUFBSSxNQUFKLENBQVcsS0FBWCxFQUFrQixJQUFsQixDQUF1QixPQUF2QixFQUFnQyxtQkFBaEMsRUFBcUQsSUFBckQsQ0FBMEQsS0FBSyxJQUFMLENBQVUsR0FBVixFQUFlLElBQXpFO0FBQ0QsT0FKRDs7QUFNQTtBQUNBLFdBQUssT0FBTCxDQUFhLEtBQWIsQ0FBbUIsU0FBbkIsRUFBOEIsT0FBOUI7O0FBRUE7QUFDRDs7OytCQUVVO0FBQ1QsVUFBSSxLQUFLLE9BQVQsRUFBa0I7QUFDaEIsYUFBSyxPQUFMLENBQWEsU0FBYixDQUF1QixHQUF2QixFQUE0QixNQUE1QjtBQUNBLGFBQUssT0FBTCxDQUFhLEtBQWIsQ0FBbUIsU0FBbkIsRUFBOEIsSUFBOUI7QUFDRDtBQUNGOzs7OztrQkEvQ2tCLE87Ozs7Ozs7Ozs7Ozs7QUNMckI7OztJQUdxQixTOzs7Ozs7Ozs7QUFFbkI7Ozs7OzBCQUthLEssRUFBTyxPLEVBQVM7QUFDM0IsVUFBSSxDQUFDLEtBQUwsRUFBWTtBQUNWO0FBQ0Q7QUFDRCxjQUFRLE9BQU8sS0FBUCxLQUFpQixRQUFqQixHQUE0QixLQUFLLFNBQUwsQ0FBZSxLQUFmLENBQTVCLEdBQW9ELEtBQTVEO0FBQ0EsY0FBUSxNQUFNLE9BQU4sQ0FBYyxxQkFBZCxFQUFxQyxFQUFyQyxDQUFSO0FBQ0EsVUFBSSxZQUFZLGFBQWhCO0FBQ0EsVUFBSSxRQUFRLFVBQVUsSUFBVixDQUFlLEtBQWYsQ0FBWjtBQUNBLFVBQUksS0FBSixFQUFXO0FBQ1QsZ0JBQVEsTUFBTSxDQUFOLENBQVI7QUFDQSxZQUFJO0FBQ0YsY0FBSSxPQUFPLEtBQUssS0FBTCxDQUFXLEtBQVgsQ0FBWDtBQUNBLGlCQUFPLEtBQUssSUFBTCxLQUFjLFVBQVUsSUFBeEIsSUFBZ0MsT0FBaEMsR0FBMEMsSUFBMUMsR0FBaUQsU0FBeEQ7QUFDRCxTQUhELENBSUEsT0FBTyxDQUFQLEVBQVU7QUFDUjtBQUNBLGtCQUFRLEtBQVIsQ0FBYyxDQUFkO0FBQ0E7QUFDRDtBQUNGO0FBQ0Q7QUFDRDs7O3dCQUVpQjtBQUNoQixhQUFPLDZCQUFQO0FBQ0Q7Ozs7OztrQkFoQ2tCLFM7Ozs7Ozs7Ozs7Ozs7QUNIckI7OztJQUdxQixNOztBQUVuQjs7Ozs7QUFLQSxvQkFBc0M7QUFBQSxtRkFBSixFQUFJO0FBQUEsNEJBQXhCLE9BQXdCO0FBQUEsUUFBeEIsT0FBd0IsZ0NBQWQsS0FBYzs7QUFBQTs7QUFDcEMsU0FBSyxPQUFMLEdBQWUsT0FBZjtBQUNBLFNBQUssT0FBTCxHQUFlLE9BQWY7QUFDRDs7QUFFRDs7Ozs7Ozs7MEJBSU0sTyxFQUFTO0FBQ2IsVUFBSSxLQUFLLE9BQVQsRUFBa0I7QUFDaEIsYUFBSyxPQUFMLENBQWEsS0FBYixDQUFtQixLQUFLLE9BQUwsQ0FBYSxPQUFiLEVBQXNCLE9BQXRCLENBQW5CO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozt5QkFJSyxPLEVBQVM7QUFDWixXQUFLLE9BQUwsQ0FBYSxJQUFiLENBQWtCLEtBQUssT0FBTCxDQUFhLE1BQWIsRUFBcUIsT0FBckIsQ0FBbEI7QUFDRDs7QUFFRDs7Ozs7Ozs7MEJBS00sTyxFQUFTLE0sRUFBTztBQUNwQixXQUFLLE9BQUwsQ0FBYSxLQUFiLENBQW1CLEtBQUssT0FBTCxDQUFhLE9BQWIsRUFBc0IsT0FBdEIsQ0FBbkIsRUFBbUQsTUFBbkQ7QUFDRDs7QUFFRDs7Ozs7Ozs7eUJBS0ssTyxFQUFTLEssRUFBTztBQUNuQixjQUFRLFNBQVMsRUFBakI7QUFDQSxXQUFLLE9BQUwsQ0FBYSxLQUFiLENBQW1CLEtBQUssT0FBTCxDQUFhLE1BQWIsRUFBcUIsT0FBckIsQ0FBbkIsRUFBa0QsS0FBbEQ7QUFDRDs7QUFFRDs7Ozs7Ozs0QkFJUSxLLEVBQU8sTyxFQUFTO0FBQ3RCLG1CQUFXLEtBQVgsWUFBdUIsSUFBSSxJQUFKLEdBQVcsV0FBWCxFQUF2QixXQUFxRCxPQUFyRDtBQUNEOzs7Ozs7a0JBdkRrQixNIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImV4cG9ydCBmdW5jdGlvbiBkb250RXhlY3V0ZUlmTm9EYXRhKHByb3BzKSB7XG4gIHJldHVybiBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgdmFyIG9sZFZhbHVlID0gZGVzY3JpcHRvci52YWx1ZTtcblxuICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghaGFzRGF0YShnZXRQcm9wZXJ0eSh0aGlzLmRhdGEsIHByb3BzKSkpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYE5vIGRhdGEgaGVyZSBbJHtwcm9wc31dLCBub3RoaW5nIHRvIHJlbmRlci4uLiBjb250aW51aW5nLi4uYCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvbGRWYWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvcGVydHkob2JqLCBwcm9wZXJ0eVBhdGgpIHtcblxuICB2YXIgdG1wID0gb2JqO1xuXG4gIGlmICh0bXAgJiYgcHJvcGVydHlQYXRoKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBwcm9wZXJ0eVBhdGguc3BsaXQoJy4nKTtcblxuICAgIGZvciAodmFyIHByb3BlcnR5IG9mIHByb3BlcnRpZXMpIHtcbiAgICAgIGlmICghdG1wLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICB0bXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRtcCA9IHRtcFtwcm9wZXJ0eV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRtcDtcbn1cblxuZnVuY3Rpb24gaGFzRGF0YShvYmopIHtcbiAgaWYgKG9iaiAmJiAoKG9iaiBpbnN0YW5jZW9mIEFycmF5ICYmIG9iai5sZW5ndGgpIHx8IChvYmogaW5zdGFuY2VvZiBPYmplY3QgJiYgT2JqZWN0LnZhbHVlcyhvYmopLmxlbmd0aCkpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuIiwiaW1wb3J0IEZyYW1lIGZyb20gJy4vcmVuZGVyL2ZyYW1lJztcbmltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlci9yZW5kZXJlcic7XG5cbi8vaW1wb3J0IFRyYWNrZXIgZnJvbSAnLi90cmFja2VyL2NoYW5nZSc7XG5cbmxldCBBTExfQ0FOVkFTID0ge307XG5cbi8qIGdsb2JhbCBkMyAqL1xuXG4vKipcbiAqIEZyYW5jeSBpcyB0aGUgbWFpbiBlbnRyeSBwb2ludCBmb3IgdGhlIHdob2xlIGZyYW1ld29yay4gQnkgcGFzc2luZyBhbiBpbnB1dCBzdHJpbmcvb2JqZWN0IHRvIHRoZSB7RnJhbmN5LmhhbmRsZX0gZnVuY3Rpb24sXG4gKiBGcmFuY3kgd2lsbCBoYW5kbGUgdGhlIGNyZWF0aW9uIG9mIHRoYXQganNvbiBhcyBsb25nIGl0IGlzIGEgdmFsaWQgYW5kIHVuZGVyc3RhbmRhYmxlIGpzb24gb2JqZWN0IHRvIEZyYW5jeS5cbiAqIEBhY2Nlc3MgcHVibGljXG4gKiBcbiAqIEB2ZXJzaW9uIDAuNS4wXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBsZXQgZnJhbmN5ID0gbmV3IEZyYW5jeSh7dmVyYm9zZTogdHJ1ZSwgYXBwZW5kVG86ICcjZGl2LWlkJywgY2FsbGJhY2tIYW5kbGVyOiBjb25zb2xlLmxvZ30pO1xuICogZnJhbmN5LmxvYWQoanNvbikucmVuZGVyKCk7XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZyYW5jeSBleHRlbmRzIFJlbmRlcmVyIHtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBGcmFuY3kgd2l0aCB0aGUgZm9sbG93aW5nIG9wdGlvbnM6XG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAgICogQHByb3BlcnR5IHtCb29sZWFufSB2ZXJib3NlIHByaW50cyBleHRyYSBsb2cgaW5mb3JtYXRpb24gdG8gY29uc29sZS5sb2csIGRlZmF1bHQgZmFsc2VcbiAgICogQHByb3BlcnR5IHtCb29sZWFufSBhcHBlbmRUbyB3aGVyZSB0aGUgZ2VuZXJhdGVkIGh0bWwvc3ZnIGNvbXBvbmVudHMgd2lsbCBiZSBhdHRhY2hlZCB0bywgZGVmYXVsdCBib2R5XG4gICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGNhbGxiYWNrSGFuZGxlciB0aGlzIGhhbmRsZXIgd2lsbCBiZSB1c2VkIHRvIGludm9rZSBhY3Rpb25zIGZyb20gdGhlIG1lbnUsIGRlZmF1bHQgY29uc29sZS5sb2dcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gICAgaWYgKCFkMykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEMyBpcyBub3QgaW1wb3J0ZWQhIEZyYW5jeSB3b25cXCd0IHdvcmsgd2l0aG91dCBpdC4uLiBwbGVhc2UgaW1wb3J0IEQzIHY0Ky4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFpbiBlbnRyeSBwb2ludC4gQ2FsbGluZyByZW5kZXIgcGFzc2luZyBhIGpzb24gcmVwcmVzZW50YXRpb24gc3RyaW5nIHdpbGwgXG4gICAqIHRyaWdnZXIgdGhlIGRyYXdpbmcgb2YgYSBqc29uIG9iamVjdC5cbiAgICogQHJldHVybnMge09iamVjdH0gdGhlIGh0bWwgZWxlbWVudCBjcmVhdGVkXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgLy92YXIgdHJhY2tlciA9IG5ldyBUcmFja2VyKGpzb24sIHRoaXMub3B0aW9ucyk7XG4gICAgLy90cmFja2VyLnN1YnNjcmliZShmdW5jdGlvbihvYmopIHsgY29uc29sZS5sb2cob2JqKTsgfSk7XG4gICAgLy9yZXR1cm4gbmV3IERyYXcodGhpcy5vcHRpb25zKS5oYW5kbGUodHJhY2tlci5vYmplY3QpO1xuICAgIHZhciBmcmFtZSA9IG5ldyBGcmFtZSh0aGlzLm9wdGlvbnMpLmxvYWQodGhpcy5kYXRhKS5yZW5kZXIoKTtcbiAgICBBTExfQ0FOVkFTW3RoaXMuZGF0YS5jYW52YXMuaWRdID0gZnJhbWUuY2FudmFzO1xuICAgIHJldHVybiBmcmFtZS5lbGVtZW50Lm5vZGUoKTtcbiAgfVxuXG4gIHVucmVuZGVyKGlkKSB7XG4gICAgZGVsZXRlIEFMTF9DQU5WQVNbaWRdO1xuICB9XG59XG5cbnRyeSB7XG4gIGV4cG9ydHMuRnJhbmN5ID0gd2luZG93LkZyYW5jeSA9IEZyYW5jeTtcbiAgLy8gaGFuZGxlIGV2ZW50cyBvbiByZXNpemVcbiAgdmFyIG9sZFJlc2l6ZSA9IHdpbmRvdy5vbnJlc2l6ZTtcbiAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gem9vbSB0byBmaXQgYWxsIGNhbnZhcyBvbiByZXNpemVcbiAgICBPYmplY3QudmFsdWVzKEFMTF9DQU5WQVMpLmZvckVhY2goZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICBjYW52YXMuem9vbVRvRml0KCk7XG4gICAgfSk7XG4gICAgLy8gY2FsbCBvbGQgcmVzaXplIGZ1bmN0aW9uIGlmIGFueSFcbiAgICBpZiAodHlwZW9mIG9sZFJlc2l6ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb2xkUmVzaXplKCk7XG4gICAgfVxuICB9O1xufVxuY2F0Y2ggKGUpIHtcbiAgZXhwb3J0cy5GcmFuY3kgPSBGcmFuY3k7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy4uL3V0aWwvbG9nZ2VyJztcbmltcG9ydCBKc29uVXRpbHMgZnJvbSAnLi4vdXRpbC9qc29uLXV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZSB7XG5cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHRoaXMuc2V0dGluZ3MoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtMb2dnZXJ9IHRoZSBsb2dnZXIgZm9yIHRoaXMgY2xhc3NcbiAgICAgKi9cbiAgICB0aGlzLmxvZyA9IG5ldyBMb2dnZXIodGhpcy5vcHRpb25zKTtcbiAgfVxuXG4gIHNldHRpbmdzKHsgdmVyYm9zZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgaWYgKCFjYWxsYmFja0hhbmRsZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQSBDYWxsYmFjayBIYW5kbGVyIG11c3QgYmUgcHJvdmlkZWQhIFRoaXMgd2lsbCBiZSB1c2VkIHRvIHRyaWdnZXIgZXZlbnRzIGZyb20gdGhlIGdyYXBoaWNzIHByb2R1Y2VkLi4uJyk7XG4gICAgfVxuICAgIGlmICghYXBwZW5kVG8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBhbiBlbGVtZW50IG9yIGlkIHRvIGFwcGVuZCB0aGUgZ3JhcGhpY3MgdG8uLi4hJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHZlcmJvc2UgcHJpbnRzIGV4dHJhIGxvZyBpbmZvcm1hdGlvbiB0byBjb25zb2xlLmxvZywgZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gYXBwZW5kVG8gd2hlcmUgdGhlIGdlbmVyYXRlZCBodG1sL3N2ZyBjb21wb25lbnRzIHdpbGwgYmUgYXR0YWNoZWQgdG8sIGRlZmF1bHQgYm9keVxuICAgICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGNhbGxiYWNrSGFuZGxlciB0aGlzIGhhbmRsZXIgd2lsbCBiZSB1c2VkIHRvIGludm9rZSBhY3Rpb25zIGZyb20gdGhlIG1lbnUsIGRlZmF1bHQgY29uc29sZS5sb2dcbiAgICAgKi9cbiAgICB0aGlzLm9wdGlvbnMgPSB7fTtcbiAgICB0aGlzLm9wdGlvbnMudmVyYm9zZSA9IHZlcmJvc2UgfHwgdGhpcy5vcHRpb25zLnZlcmJvc2U7XG4gICAgdGhpcy5vcHRpb25zLmFwcGVuZFRvID0gYXBwZW5kVG8gfHwgdGhpcy5vcHRpb25zLnZlcmJvc2U7XG4gICAgdGhpcy5vcHRpb25zLmNhbGxiYWNrSGFuZGxlciA9IGNhbGxiYWNrSGFuZGxlciB8fCB0aGlzLm9wdGlvbnMuY2FsbGJhY2tIYW5kbGVyO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbG9hZChqc29uLCBwYXJ0aWFsKSB7XG4gICAgbGV0IGRhdGEgPSBKc29uVXRpbHMucGFyc2UoanNvbiwgcGFydGlhbCk7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0IGxvZ2dlcigpIHtcbiAgICByZXR1cm4gdGhpcy5sb2c7XG4gIH1cblxufVxuIiwiaW1wb3J0IEJhc2UgZnJvbSAnLi9iYXNlJztcbmltcG9ydCBSZXF1aXJlZEFyZ3NNb2RhbCBmcm9tICcuL21vZGFsLXJlcXVpcmVkJztcbmltcG9ydCB7IGRvbnRFeGVjdXRlSWZOb0RhdGEgfSBmcm9tICcuLi9kZWNvcmF0b3IvZGF0YSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbGxiYWNrSGFuZGxlciBleHRlbmRzIEJhc2Uge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrSGFuZGxlcjtcbiAgfVxuXG4gIEBkb250RXhlY3V0ZUlmTm9EYXRhKClcbiAgZXhlY3V0ZSgpIHtcbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5kYXRhLmNhbGxiYWNrLnJlcXVpcmVkQXJncykubGVuZ3RoKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgIG9wdGlvbnMuY2FsbGJhY2tIYW5kbGVyID0gKGNhbGJhY2tPYmopID0+IHRoaXMuX2V4ZWN1dGUuY2FsbCh0aGlzLCBjYWxiYWNrT2JqKTtcbiAgICAgIHJldHVybiBuZXcgUmVxdWlyZWRBcmdzTW9kYWwob3B0aW9ucykubG9hZCh0aGlzLmRhdGEsIHRydWUpLnJlbmRlcigpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIFRyaWdnZXIgaXMgdGhlIGV4cGVjdGVkIGNvbW1hbmQgb24gR0FQIGZvciB0aGlzIGV2ZW50cyFcbiAgICAgIHRoaXMuX2V4ZWN1dGUodGhpcy5kYXRhLmNhbGxiYWNrKTtcbiAgICB9XG4gIH1cblxuICBfZXhlY3V0ZShjYWxiYWNrT2JqKSB7XG4gICAgdGhpcy5jYWxsYmFjayhgVHJpZ2dlcigke0pTT04uc3RyaW5naWZ5KEpTT04uc3RyaW5naWZ5KGNhbGJhY2tPYmopKX0pO2ApO1xuICB9XG59XG4iLCJpbXBvcnQgQ29tcG9zaXRlIGZyb20gJy4vY29tcG9zaXRlJztcbmltcG9ydCBHcmFwaCBmcm9tICcuL2dyYXBoJztcbmltcG9ydCBDaGFydCBmcm9tICcuL2NoYXJ0JztcbmltcG9ydCB7IGRvbnRFeGVjdXRlSWZOb0RhdGEgfSBmcm9tICcuLi9kZWNvcmF0b3IvZGF0YSc7XG5cbi8qIGdsb2JhbCBkMyAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXMgZXh0ZW5kcyBDb21wb3NpdGUge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gICAgdGhpcy5ncmFwaCA9IG5ldyBHcmFwaCh0aGlzLm9wdGlvbnMpO1xuICAgIHRoaXMuY2hhcnQgPSBuZXcgQ2hhcnQodGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLmFkZCh0aGlzLmdyYXBoKS5hZGQodGhpcy5jaGFydCk7XG4gIH1cblxuICBAZG9udEV4ZWN1dGVJZk5vRGF0YSgpXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XG5cbiAgICB2YXIgY2FudmFzSWQgPSB0aGlzLmRhdGEuY2FudmFzLmlkO1xuICAgIHRoaXMuZWxlbWVudCA9IGQzLnNlbGVjdChgc3ZnIyR7Y2FudmFzSWR9YCk7XG4gICAgLy8gY2hlY2sgaWYgdGhlIGNhbnZhcyBpcyBhbHJlYWR5IHByZXNlbnRcbiAgICBpZiAoIXRoaXMuZWxlbWVudC5ub2RlKCkpIHtcbiAgICAgIC8vIGNyZWF0ZSBhIHN2ZyBlbGVtZW50IGRldGFjaGVkIGZyb20gdGhlIERPTSFcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBDcmVhdGluZyBDYW52YXMgWyR7Y2FudmFzSWR9XS4uLmApO1xuICAgICAgdGhpcy5lbGVtZW50ID0gcGFyZW50LmFwcGVuZCgnc3ZnJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1jYW52YXMnKVxuICAgICAgICAuYXR0cignaWQnLCBjYW52YXNJZCk7XG4gICAgfVxuXG4gICAgLy8gY2Fubm90IGNvbnRpbnVlIGlmIGNhbnZhcyBpcyBub3QgcHJlc2VudFxuICAgIGlmICghdGhpcy5lbGVtZW50Lm5vZGUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBPb3BzLCBjb3VsZCBub3QgY3JlYXRlIGNhbnZhcyB3aXRoIGlkIFske2NhbnZhc0lkfV0uLi4gQ2Fubm90IHByb2NlZWQuYCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50LmF0dHIoJ3dpZHRoJywgdGhpcy5kYXRhLmNhbnZhcy53aWR0aCkuYXR0cignaGVpZ2h0JywgdGhpcy5kYXRhLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgdmFyIHpvb20gPSBkMy56b29tKCk7XG5cbiAgICB2YXIgY29udGVudCA9IHRoaXMuZWxlbWVudC5zZWxlY3QoJ2cuZnJhbmN5LWNvbnRlbnQnKTtcblxuICAgIGlmICghY29udGVudC5ub2RlKCkpIHtcbiAgICAgIGNvbnRlbnQgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LWNvbnRlbnQnKTtcbiAgICAgIHpvb20ub24oXCJ6b29tXCIsIHpvb21lZCk7XG4gICAgICB0aGlzLmVsZW1lbnQuY2FsbCh6b29tKS5vbihcImRibGNsaWNrLnpvb21cIiwgbnVsbCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50Lm9uKFwiY2xpY2tcIiwgc3RvcHBlZCwgdHJ1ZSk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5lbGVtZW50Lnpvb21Ub0ZpdCA9IHRoaXMuem9vbVRvRml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBvbmx5IGV4ZWN1dGUgaWYgZW5hYmxlLCBvZiBjb3Vyc2VcbiAgICAgIGlmIChzZWxmLmRhdGEuY2FudmFzLnpvb21Ub0ZpdCkge1xuICAgICAgICB2YXIgYm91bmRzID0gY29udGVudC5ub2RlKCkuZ2V0QkJveCgpO1xuXG4gICAgICAgIHZhciBjbGllbnRCb3VuZHMgPSBzZWxmLmVsZW1lbnQubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgIGZ1bGxXaWR0aCA9IGNsaWVudEJvdW5kcy5yaWdodCAtIGNsaWVudEJvdW5kcy5sZWZ0LFxuICAgICAgICAgIGZ1bGxIZWlnaHQgPSBjbGllbnRCb3VuZHMuYm90dG9tIC0gY2xpZW50Qm91bmRzLnRvcDtcblxuICAgICAgICB2YXIgd2lkdGggPSBib3VuZHMud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gYm91bmRzLmhlaWdodDtcblxuICAgICAgICBpZiAod2lkdGggPT0gMCB8fCBoZWlnaHQgPT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBtaWRYID0gYm91bmRzLnggKyB3aWR0aCAvIDIsXG4gICAgICAgICAgbWlkWSA9IGJvdW5kcy55ICsgaGVpZ2h0IC8gMjtcblxuICAgICAgICB2YXIgc2NhbGUgPSAwLjkgLyBNYXRoLm1heCh3aWR0aCAvIGZ1bGxXaWR0aCwgaGVpZ2h0IC8gZnVsbEhlaWdodCk7XG4gICAgICAgIHZhciB0cmFuc2xhdGVYID0gZnVsbFdpZHRoIC8gMiAtIHNjYWxlICogbWlkWCxcbiAgICAgICAgICB0cmFuc2xhdGVZID0gZnVsbEhlaWdodCAvIDIgLSBzY2FsZSAqIG1pZFk7XG5cbiAgICAgICAgY29udGVudC50cmFuc2l0aW9uKClcbiAgICAgICAgICAuZHVyYXRpb24oMTAwMClcbiAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RyYW5zbGF0ZVh9LCR7dHJhbnNsYXRlWX0pc2NhbGUoJHtzY2FsZX0sJHtzY2FsZX0pYClcbiAgICAgICAgICAub24oJ2VuZCcsICgpID0+IHVwZGF0ZVpvb20odHJhbnNsYXRlWCwgdHJhbnNsYXRlWSwgc2NhbGUpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlWm9vbSh0cmFuc2xhdGVYLCB0cmFuc2xhdGVZLCBzY2FsZSkge1xuICAgICAgc2VsZi5lbGVtZW50LmNhbGwoem9vbS50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eS50cmFuc2xhdGUodHJhbnNsYXRlWCwgdHJhbnNsYXRlWSkuc2NhbGUoc2NhbGUsIHNjYWxlKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gem9vbWVkKCkge1xuICAgICAgY29udGVudC5hdHRyKFwidHJhbnNmb3JtXCIsIGQzLmV2ZW50LnRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RvcHBlZCgpIHtcbiAgICAgIGlmIChkMy5ldmVudC5kZWZhdWx0UHJldmVudGVkKSB7IGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyB9XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIuZGVidWcoYENhbnZhcyB1cGRhdGVkIFske2NhbnZhc0lkfV0uLi5gKTtcblxuICAgIHRoaXMucmVuZGVyQ2hpbGRyZW4oKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxuXG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuL3Rvb2x0aXAnO1xuaW1wb3J0IENoYXJ0IGZyb20gJy4vY2hhcnQnO1xuXG4vKiBnbG9iYWwgZDMgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFyQ2hhcnQgZXh0ZW5kcyBSZW5kZXJlciB7XG5cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcblxuICAgIHZhciB0b29sdGlwID0gbmV3IFRvb2x0aXAodGhpcy5vcHRpb25zKTtcblxuICAgIHZhciBwYXJlbnQgPSB0aGlzLm9wdGlvbnMuYXBwZW5kVG8uZWxlbWVudDtcblxuICAgIHZhciBheGlzID0gdGhpcy5kYXRhLmNhbnZhcy5jaGFydC5heGlzLFxuICAgICAgZGF0YXNldHMgPSB0aGlzLmRhdGEuY2FudmFzLmNoYXJ0LmRhdGEsXG4gICAgICBkYXRhc2V0TmFtZXMgPSBPYmplY3Qua2V5cyhkYXRhc2V0cyk7XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBwYXJlbnQuc2VsZWN0KCdnLmZyYW5jeS1jb250ZW50Jyk7XG5cbiAgICB2YXIgbWFyZ2luID0geyB0b3A6IDUwLCByaWdodDogNTAsIGJvdHRvbTogNTAsIGxlZnQ6IDUwIH0sXG4gICAgICB3aWR0aCA9ICtwYXJlbnQuYXR0cignd2lkdGgnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXG4gICAgICBoZWlnaHQgPSArcGFyZW50LmF0dHIoJ2hlaWdodCcpIHx8IGQzLnNlbGVjdCgnYm9keScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG5cbiAgICAvLyBzZXQgdGhlIGRpbWVuc2lvbnMgYW5kIG1hcmdpbnMgb2YgdGhlIGNoYXJ0XG4gICAgd2lkdGggPSB3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGhlaWdodCA9IGhlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG4gICAgLy8gc2V0IHRoZSByYW5nZXNcbiAgICB2YXIgeCA9IGQzLnNjYWxlQmFuZCgpLnJhbmdlKFswLCB3aWR0aF0pLnBhZGRpbmcoMC4xKS5kb21haW4oYXhpcy54LmRvbWFpbik7XG4gICAgdmFyIHkgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHQsIDBdKS5kb21haW4oYXhpcy55LmRvbWFpbik7XG5cbiAgICB2YXIgdG1wID0gW107XG4gICAgZGF0YXNldE5hbWVzLmZvckVhY2goa2V5ID0+IHRtcCA9IHRtcC5jb25jYXQoZGF0YXNldHNba2V5XSkpO1xuXG4gICAgaWYgKCFheGlzLnkuZG9tYWluLmxlbmd0aCkge1xuICAgICAgeS5kb21haW4oWzAsIGQzLm1heCh0bXAsIGQgPT4gZCldKTtcbiAgICB9XG5cbiAgICBpZiAoIWF4aXMueC5kb21haW4ubGVuZ3RoKSB7XG4gICAgICBheGlzLnguZG9tYWluID0gQ2hhcnQuZG9tYWluUmFuZ2UodG1wLmxlbmd0aCAvIGRhdGFzZXROYW1lcy5sZW5ndGgpO1xuICAgICAgeC5kb21haW4oYXhpcy54LmRvbWFpbik7XG4gICAgfVxuXG4gICAgdmFyIGJhcnNHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJ2cuZnJhbmN5LWJhcnMnKTtcblxuICAgIGlmICghYmFyc0dyb3VwLm5vZGUoKSkge1xuICAgICAgYmFyc0dyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1iYXJzJyk7XG4gICAgfVxuXG4gICAgZGF0YXNldE5hbWVzLmZvckVhY2goZnVuY3Rpb24oa2V5LCBpbmRleCkge1xuICAgICAgdmFyIGJhciA9IGJhcnNHcm91cC5zZWxlY3RBbGwoYC5mcmFuY3ktYmFyJHtpbmRleH1gKS5kYXRhKGRhdGFzZXRzW2tleV0pO1xuXG4gICAgICBiYXIuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgICAvLyBhcHBlbmQgdGhlIHJlY3RhbmdsZXMgZm9yIHRoZSBiYXIgY2hhcnRcbiAgICAgIGJhci5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAoKSA9PiBDaGFydC5jb2xvcnMoaW5kZXggKiA1KSlcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgYGZyYW5jeS1iYXIke2luZGV4fWApXG4gICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4geChheGlzLnguZG9tYWluW2ldKSArIGluZGV4ICogKHguYmFuZHdpZHRoKCkgLyBkYXRhc2V0TmFtZXMubGVuZ3RoKTsgfSlcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgKHguYmFuZHdpZHRoKCkgLyBkYXRhc2V0TmFtZXMubGVuZ3RoKSAtIDEpXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24oZCkgeyByZXR1cm4geShkKTsgfSlcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGhlaWdodCAtIHkoZCk7IH0pXG4gICAgICAgIC5vbihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC5kdXJhdGlvbigyNTApLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsIDAuNSk7XG4gICAgICAgICAgdG9vbHRpcC5sb2FkKENoYXJ0LnRvb2x0aXAoa2V5LCBkKSwgdHJ1ZSkucmVuZGVyKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgLmR1cmF0aW9uKDI1MCkuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIiwgMSk7XG4gICAgICAgICAgdG9vbHRpcC51bnJlbmRlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgYmFyLm1lcmdlKGJhcik7XG4gICAgfSk7XG5cbiAgICAvLyBmb3JjZSByZWJ1aWxkIGF4aXMgYWdhaW5cbiAgICB2YXIgeEF4aXNHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJ2cuZnJhbmN5LXgtYXhpcycpO1xuXG4gICAgaWYgKCF4QXhpc0dyb3VwLm5vZGUoKSkge1xuICAgICAgeEF4aXNHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3kteC1heGlzJyk7XG4gICAgfVxuXG4gICAgeEF4aXNHcm91cC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcblxuICAgIC8vIGFkZCB0aGUgeCBBeGlzXG4gICAgeEF4aXNHcm91cFxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke2hlaWdodH0pYClcbiAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdkeScsIDUwKVxuICAgICAgLmF0dHIoJ2R4Jywgd2lkdGggLyAyKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1heGlzJylcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcbiAgICAgIC50ZXh0KGF4aXMueC50aXRsZSk7XG5cbiAgICAvLyBmb3JjZSByZWJ1aWxkIGF4aXMgYWdhaW5cbiAgICB2YXIgeUF4aXNHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJ2cuZnJhbmN5LXktYXhpcycpO1xuXG4gICAgaWYgKCF5QXhpc0dyb3VwLm5vZGUoKSkge1xuICAgICAgeUF4aXNHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3kteS1heGlzJyk7XG4gICAgfVxuXG4gICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcblxuICAgIC8vIGFkZCB0aGUgeSBBeGlzXG4gICAgeUF4aXNHcm91cFxuICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSkpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdkeCcsIC01MClcbiAgICAgIC5hdHRyKCdkeScsIGhlaWdodCAvIDIpXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LWF4aXMnKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLnRleHQoYXhpcy55LnRpdGxlKTtcblxuICAgIHZhciBsZWdlbmRHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJy5mcmFuY3ktbGVnZW5kJyk7XG5cbiAgICBpZiAoIWxlZ2VuZEdyb3VwLm5vZGUoKSkge1xuICAgICAgbGVnZW5kR3JvdXAgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LWxlZ2VuZCcpO1xuICAgIH1cblxuICAgIC8vIGZvcmNlIHJlYnVpbGQgbGVnZW5kIGFnYWluXG4gICAgbGVnZW5kR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgICB2YXIgbGVnZW5kID0gbGVnZW5kR3JvdXAuc2VsZWN0QWxsKCdnJykuZGF0YShkYXRhc2V0TmFtZXMuc2xpY2UoKSk7XG5cbiAgICBsZWdlbmQuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgbGVnZW5kID0gbGVnZW5kLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiBgdHJhbnNsYXRlKDAsJHtpICogMjB9KWApXG4gICAgICAubWVyZ2UobGVnZW5kKTtcblxuICAgIGxlZ2VuZC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHIoJ3gnLCB3aWR0aCArIDIwKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgMTkpXG4gICAgICAuYXR0cignaGVpZ2h0JywgMTkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCAoZCwgaSkgPT4gQ2hhcnQuY29sb3JzKGkgKiA1KSk7XG5cbiAgICBsZWdlbmQuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCd4Jywgd2lkdGggKyA4MClcbiAgICAgIC5hdHRyKCd5JywgOSlcbiAgICAgIC5hdHRyKCdkeScsICcuMzVlbScpXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXG4gICAgICAudGV4dChkID0+IGQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuL3Rvb2x0aXAnO1xuaW1wb3J0IENoYXJ0IGZyb20gJy4vY2hhcnQnO1xuXG4vKiBnbG9iYWwgZDMgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGluZUNoYXJ0IGV4dGVuZHMgUmVuZGVyZXIge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG5cbiAgICB2YXIgdG9vbHRpcCA9IG5ldyBUb29sdGlwKHRoaXMub3B0aW9ucyk7XG5cbiAgICB2YXIgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XG5cbiAgICB2YXIgYXhpcyA9IHRoaXMuZGF0YS5jYW52YXMuY2hhcnQuYXhpcyxcbiAgICAgIGRhdGFzZXRzID0gdGhpcy5kYXRhLmNhbnZhcy5jaGFydC5kYXRhLFxuICAgICAgZGF0YXNldE5hbWVzID0gT2JqZWN0LmtleXMoZGF0YXNldHMpO1xuXG4gICAgdGhpcy5lbGVtZW50ID0gcGFyZW50LnNlbGVjdCgnZy5mcmFuY3ktY29udGVudCcpO1xuXG4gICAgdmFyIG1hcmdpbiA9IHsgdG9wOiA1MCwgcmlnaHQ6IDUwLCBib3R0b206IDUwLCBsZWZ0OiA1MCB9LFxuICAgICAgd2lkdGggPSArcGFyZW50LmF0dHIoJ3dpZHRoJykgfHwgZDMuc2VsZWN0KCdib2R5Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gK3BhcmVudC5hdHRyKCdoZWlnaHQnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXG4gICAgLy8gc2V0IHRoZSBkaW1lbnNpb25zIGFuZCBtYXJnaW5zIG9mIHRoZSBjaGFydFxuICAgIHdpZHRoID0gd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICBoZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuICAgIC8vIHNldCB0aGUgcmFuZ2VzXG4gICAgdmFyIHggPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFswLCB3aWR0aF0pLmRvbWFpbihheGlzLnguZG9tYWluKTtcbiAgICB2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodCwgMF0pLmRvbWFpbihheGlzLnkuZG9tYWluKTtcblxuICAgIHZhciB0bXAgPSBbXTtcbiAgICBkYXRhc2V0TmFtZXMuZm9yRWFjaChrZXkgPT4gdG1wID0gdG1wLmNvbmNhdChkYXRhc2V0c1trZXldKSk7XG5cbiAgICBpZiAoIWF4aXMueS5kb21haW4ubGVuZ3RoKSB7XG4gICAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRtcCwgZCA9PiBkKV0pO1xuICAgIH1cblxuICAgIGlmICghYXhpcy54LmRvbWFpbi5sZW5ndGgpIHtcbiAgICAgIHguZG9tYWluKFswLCB0bXAubGVuZ3RoIC8gZGF0YXNldE5hbWVzLmxlbmd0aF0pO1xuICAgIH1cblxuICAgIHZhciBsaW5lc0dyb3VwID0gdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnZy5mcmFuY3ktbGluZXMnKTtcblxuICAgIGlmICghbGluZXNHcm91cC5ub2RlKCkpIHtcbiAgICAgIGxpbmVzR3JvdXAgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LWxpbmVzJyk7XG4gICAgfVxuXG4gICAgZGF0YXNldE5hbWVzLmZvckVhY2goZnVuY3Rpb24oa2V5LCBpbmRleCkge1xuICAgICAgdmFyIHZhbHVlTGluZSA9IGQzLmxpbmUoKVxuICAgICAgICAueChmdW5jdGlvbihkLCBpKSB7IHJldHVybiB4KGkpOyB9KVxuICAgICAgICAueShmdW5jdGlvbihkKSB7IHJldHVybiB5KGQpOyB9KTtcblxuICAgICAgdmFyIGxpbmUgPSBsaW5lc0dyb3VwLnNlbGVjdEFsbChgLmxpbmUke2luZGV4fWApLmRhdGEoW2RhdGFzZXRzW2tleV1dKTtcblxuICAgICAgbGluZS5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICAgIC8vIGFwcGVuZCB0aGUgcmVjdGFuZ2xlcyBmb3IgdGhlIGJhciBjaGFydFxuICAgICAgbGluZS5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICgpID0+IENoYXJ0LmNvbG9ycyhpbmRleCAqIDUpKVxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsICc1cHgnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCBgZnJhbmN5LWxpbmUke2luZGV4fWApXG4gICAgICAgIC5hdHRyKCdkJywgdmFsdWVMaW5lKVxuICAgICAgICAub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuZHVyYXRpb24oMjUwKVxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlLW9wYWNpdHlcIiwgMC41KVxuICAgICAgICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCAnMTBweCcpO1xuICAgICAgICAgIHRvb2x0aXAubG9hZChDaGFydC50b29sdGlwKGtleSwgZCksIHRydWUpLnJlbmRlcigpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC5kdXJhdGlvbigyNTApXG4gICAgICAgICAgICAuc3R5bGUoXCJzdHJva2Utb3BhY2l0eVwiLCAxKVxuICAgICAgICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCAnNXB4Jyk7XG4gICAgICAgICAgdG9vbHRpcC51bnJlbmRlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgbGluZS5tZXJnZShsaW5lKTtcbiAgICB9KTtcblxuICAgIC8vIGZvcmNlIHJlYnVpbGQgYXhpcyBhZ2FpblxuICAgIHZhciB4QXhpc0dyb3VwID0gdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnZy5mcmFuY3kteC1heGlzJyk7XG5cbiAgICBpZiAoIXhBeGlzR3JvdXAubm9kZSgpKSB7XG4gICAgICB4QXhpc0dyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS14LWF4aXMnKTtcbiAgICB9XG5cbiAgICB4QXhpc0dyb3VwLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xuXG4gICAgLy8gYWRkIHRoZSB4IEF4aXNcbiAgICB4QXhpc0dyb3VwXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgwLCR7aGVpZ2h0fSlgKVxuICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSlcbiAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHIoJ2R5JywgNTApXG4gICAgICAuYXR0cignZHgnLCB3aWR0aCAvIDIpXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LWF4aXMnKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLnRleHQoYXhpcy54LnRpdGxlKTtcblxuICAgIC8vIGZvcmNlIHJlYnVpbGQgYXhpcyBhZ2FpblxuICAgIHZhciB5QXhpc0dyb3VwID0gdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnZy5mcmFuY3kteS1heGlzJyk7XG5cbiAgICBpZiAoIXlBeGlzR3JvdXAubm9kZSgpKSB7XG4gICAgICB5QXhpc0dyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS15LWF4aXMnKTtcbiAgICB9XG5cbiAgICB5QXhpc0dyb3VwLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xuXG4gICAgLy8gYWRkIHRoZSB5IEF4aXNcbiAgICB5QXhpc0dyb3VwXG4gICAgICAuY2FsbChkMy5heGlzTGVmdCh5KSlcbiAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHIoJ2R4JywgLTUwKVxuICAgICAgLmF0dHIoJ2R5JywgaGVpZ2h0IC8gMilcbiAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktYXhpcycpXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXG4gICAgICAudGV4dChheGlzLnkudGl0bGUpO1xuXG4gICAgdmFyIGxlZ2VuZEdyb3VwID0gdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnLmZyYW5jeS1sZWdlbmQnKTtcblxuICAgIGlmICghbGVnZW5kR3JvdXAubm9kZSgpKSB7XG4gICAgICBsZWdlbmRHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbGVnZW5kJyk7XG4gICAgfVxuXG4gICAgLy8gZm9yY2UgcmVidWlsZCBsZWdlbmQgYWdhaW5cbiAgICBsZWdlbmRHcm91cC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcblxuICAgIHZhciBsZWdlbmQgPSBsZWdlbmRHcm91cC5zZWxlY3RBbGwoJ2cnKS5kYXRhKGRhdGFzZXROYW1lcy5zbGljZSgpKTtcblxuICAgIGxlZ2VuZC5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICBsZWdlbmQgPSBsZWdlbmQuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgKGQsIGkpID0+IGB0cmFuc2xhdGUoMCwke2kgKiAyMH0pYClcbiAgICAgIC5tZXJnZShsZWdlbmQpO1xuXG4gICAgbGVnZW5kLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cigneCcsIHdpZHRoICsgMjApXG4gICAgICAuYXR0cignd2lkdGgnLCAxOSlcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCAxOSlcbiAgICAgIC5zdHlsZSgnZmlsbCcsIChkLCBpKSA9PiBDaGFydC5jb2xvcnMoaSAqIDUpKTtcblxuICAgIGxlZ2VuZC5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHIoJ3gnLCB3aWR0aCArIDgwKVxuICAgICAgLmF0dHIoJ3knLCA5KVxuICAgICAgLmF0dHIoJ2R5JywgJy4zNWVtJylcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcbiAgICAgIC50ZXh0KGQgPT4gZCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHVucmVuZGVyKCkge31cbn1cbiIsImltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyJztcbmltcG9ydCBUb29sdGlwIGZyb20gJy4vdG9vbHRpcCc7XG5pbXBvcnQgQ2hhcnQgZnJvbSAnLi9jaGFydCc7XG5cbi8qIGdsb2JhbCBkMyAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY2F0dGVyQ2hhcnQgZXh0ZW5kcyBSZW5kZXJlciB7XG5cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcblxuICAgIHZhciB0b29sdGlwID0gbmV3IFRvb2x0aXAodGhpcy5vcHRpb25zKTtcblxuICAgIHZhciBwYXJlbnQgPSB0aGlzLm9wdGlvbnMuYXBwZW5kVG8uZWxlbWVudDtcblxuICAgIHZhciBheGlzID0gdGhpcy5kYXRhLmNhbnZhcy5jaGFydC5heGlzLFxuICAgICAgZGF0YXNldHMgPSB0aGlzLmRhdGEuY2FudmFzLmNoYXJ0LmRhdGEsXG4gICAgICBkYXRhc2V0TmFtZXMgPSBPYmplY3Qua2V5cyhkYXRhc2V0cyk7XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBwYXJlbnQuc2VsZWN0KCdnLmZyYW5jeS1jb250ZW50Jyk7XG5cbiAgICB2YXIgbWFyZ2luID0geyB0b3A6IDUwLCByaWdodDogNTAsIGJvdHRvbTogNTAsIGxlZnQ6IDUwIH0sXG4gICAgICB3aWR0aCA9ICtwYXJlbnQuYXR0cignd2lkdGgnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXG4gICAgICBoZWlnaHQgPSArcGFyZW50LmF0dHIoJ2hlaWdodCcpIHx8IGQzLnNlbGVjdCgnYm9keScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG5cbiAgICAvLyBzZXQgdGhlIGRpbWVuc2lvbnMgYW5kIG1hcmdpbnMgb2YgdGhlIGNoYXJ0XG4gICAgd2lkdGggPSB3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGhlaWdodCA9IGhlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG4gICAgLy8gc2V0IHRoZSByYW5nZXNcbiAgICB2YXIgeCA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoWzAsIHdpZHRoXSkuZG9tYWluKGF4aXMueC5kb21haW4pO1xuICAgIHZhciB5ID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbaGVpZ2h0LCAwXSkuZG9tYWluKGF4aXMueS5kb21haW4pO1xuXG4gICAgdmFyIHRtcCA9IFtdO1xuICAgIGRhdGFzZXROYW1lcy5mb3JFYWNoKGtleSA9PiB0bXAgPSB0bXAuY29uY2F0KGRhdGFzZXRzW2tleV0pKTtcblxuICAgIGlmICghYXhpcy55LmRvbWFpbi5sZW5ndGgpIHtcbiAgICAgIHkuZG9tYWluKFswLCBkMy5tYXgodG1wLCBkID0+IGQpXSk7XG4gICAgfVxuXG4gICAgaWYgKCFheGlzLnguZG9tYWluLmxlbmd0aCkge1xuICAgICAgeC5kb21haW4oWzAsIHRtcC5sZW5ndGggLyBkYXRhc2V0TmFtZXMubGVuZ3RoXSk7XG4gICAgfVxuXG4gICAgdmFyIHNjYXR0ZXJHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJ2cuZnJhbmN5LXNjYXR0ZXJzJyk7XG5cbiAgICBpZiAoIXNjYXR0ZXJHcm91cC5ub2RlKCkpIHtcbiAgICAgIHNjYXR0ZXJHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktc2NhdHRlcnMnKTtcbiAgICB9XG5cbiAgICBkYXRhc2V0TmFtZXMuZm9yRWFjaChmdW5jdGlvbihrZXksIGluZGV4KSB7XG4gICAgICB2YXIgc2NhdHRlciA9IHNjYXR0ZXJHcm91cC5zZWxlY3RBbGwoYC5zY2F0dGVyJHtpbmRleH1gKS5kYXRhKGRhdGFzZXRzW2tleV0pO1xuXG4gICAgICBzY2F0dGVyLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgICAgLy8gYXBwZW5kIHRoZSByZWN0YW5nbGVzIGZvciB0aGUgYmFyIGNoYXJ0XG4gICAgICBzY2F0dGVyXG4gICAgICAgIC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsICgpID0+IENoYXJ0LmNvbG9ycyhpbmRleCAqIDUpKVxuICAgICAgICAuYXR0cignY2xhc3MnLCBgZnJhbmN5LXNjYXR0ZXIke2luZGV4fWApXG4gICAgICAgIC5hdHRyKFwiclwiLCA1KVxuICAgICAgICAuYXR0cihcImN4XCIsIGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIHgoaSk7IH0pXG4gICAgICAgIC5hdHRyKFwiY3lcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geShkKTsgfSlcbiAgICAgICAgLm9uKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgLmR1cmF0aW9uKDI1MClcbiAgICAgICAgICAgIC5zdHlsZShcImZpbGwtb3BhY2l0eVwiLCAwLjUpXG4gICAgICAgICAgICAuYXR0cigncicsIDEwKTtcbiAgICAgICAgICB0b29sdGlwLmxvYWQoQ2hhcnQudG9vbHRpcChrZXksIGQpLCB0cnVlKS5yZW5kZXIoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuZHVyYXRpb24oMjUwKVxuICAgICAgICAgICAgLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsIDEpXG4gICAgICAgICAgICAuYXR0cigncicsIDUpO1xuICAgICAgICAgIHRvb2x0aXAudW5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIHNjYXR0ZXIubWVyZ2Uoc2NhdHRlcik7XG4gICAgfSk7XG5cbiAgICAvLyBmb3JjZSByZWJ1aWxkIGF4aXMgYWdhaW5cbiAgICB2YXIgeEF4aXNHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJ2cuZnJhbmN5LXgtYXhpcycpO1xuXG4gICAgaWYgKCF4QXhpc0dyb3VwLm5vZGUoKSkge1xuICAgICAgeEF4aXNHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3kteC1heGlzJyk7XG4gICAgfVxuXG4gICAgeEF4aXNHcm91cC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcblxuICAgIC8vIGFkZCB0aGUgeCBBeGlzXG4gICAgeEF4aXNHcm91cFxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke2hlaWdodH0pYClcbiAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdkeScsIDUwKVxuICAgICAgLmF0dHIoJ2R4Jywgd2lkdGggLyAyKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1heGlzJylcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcbiAgICAgIC50ZXh0KGF4aXMueC50aXRsZSk7XG5cbiAgICAvLyBmb3JjZSByZWJ1aWxkIGF4aXMgYWdhaW5cbiAgICB2YXIgeUF4aXNHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJ2cuZnJhbmN5LXktYXhpcycpO1xuXG4gICAgaWYgKCF5QXhpc0dyb3VwLm5vZGUoKSkge1xuICAgICAgeUF4aXNHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3kteS1heGlzJyk7XG4gICAgfVxuXG4gICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcblxuICAgIC8vIGFkZCB0aGUgeSBBeGlzXG4gICAgeUF4aXNHcm91cFxuICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSkpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdkeCcsIC01MClcbiAgICAgIC5hdHRyKCdkeScsIGhlaWdodCAvIDIpXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LWF4aXMnKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLnRleHQoYXhpcy55LnRpdGxlKTtcblxuICAgIHZhciBsZWdlbmRHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJy5mcmFuY3ktbGVnZW5kJyk7XG5cbiAgICBpZiAoIWxlZ2VuZEdyb3VwLm5vZGUoKSkge1xuICAgICAgbGVnZW5kR3JvdXAgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LWxlZ2VuZCcpO1xuICAgIH1cblxuICAgIC8vIGZvcmNlIHJlYnVpbGQgbGVnZW5kIGFnYWluXG4gICAgbGVnZW5kR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgICB2YXIgbGVnZW5kID0gbGVnZW5kR3JvdXAuc2VsZWN0QWxsKCdnJykuZGF0YShkYXRhc2V0TmFtZXMuc2xpY2UoKSk7XG5cbiAgICBsZWdlbmQuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgbGVnZW5kID0gbGVnZW5kLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiBgdHJhbnNsYXRlKDAsJHtpICogMjB9KWApXG4gICAgICAubWVyZ2UobGVnZW5kKTtcblxuICAgIGxlZ2VuZC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHIoJ3gnLCB3aWR0aCArIDIwKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgMTkpXG4gICAgICAuYXR0cignaGVpZ2h0JywgMTkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCAoZCwgaSkgPT4gQ2hhcnQuY29sb3JzKGkgKiA1KSk7XG5cbiAgICBsZWdlbmQuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCd4Jywgd2lkdGggKyA4MClcbiAgICAgIC5hdHRyKCd5JywgOSlcbiAgICAgIC5hdHRyKCdkeScsICcuMzVlbScpXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXG4gICAgICAudGV4dChkID0+IGQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgQmFyQ2hhcnQgZnJvbSAnLi9jaGFydC1iYXInO1xuaW1wb3J0IExpbmVDaGFydCBmcm9tICcuL2NoYXJ0LWxpbmUnO1xuaW1wb3J0IFNjYXR0ZXJDaGFydCBmcm9tICcuL2NoYXJ0LXNjYXR0ZXInO1xuaW1wb3J0IHsgZG9udEV4ZWN1dGVJZk5vRGF0YSB9IGZyb20gJy4uL2RlY29yYXRvci9kYXRhJztcblxuLyogZ2xvYmFsIGQzICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYXJ0IGV4dGVuZHMgUmVuZGVyZXIge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gIH1cblxuICBAZG9udEV4ZWN1dGVJZk5vRGF0YSgnY2FudmFzLmNoYXJ0JylcbiAgcmVuZGVyKCkge1xuXG4gICAgdmFyIGVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgc3dpdGNoICh0aGlzLmRhdGEuY2FudmFzLmNoYXJ0LnR5cGUpIHtcbiAgICAgIGNhc2UgXCJiYXJcIjpcbiAgICAgICAgZWxlbWVudCA9IG5ldyBCYXJDaGFydCh0aGlzLm9wdGlvbnMpLmxvYWQodGhpcy5kYXRhKS5yZW5kZXIoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibGluZVwiOlxuICAgICAgICBlbGVtZW50ID0gbmV3IExpbmVDaGFydCh0aGlzLm9wdGlvbnMpLmxvYWQodGhpcy5kYXRhKS5yZW5kZXIoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic2NhdHRlclwiOlxuICAgICAgICBlbGVtZW50ID0gbmV3IFNjYXR0ZXJDaGFydCh0aGlzLm9wdGlvbnMpLmxvYWQodGhpcy5kYXRhKS5yZW5kZXIoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQuem9vbVRvRml0KCk7XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHN0YXRpYyB0b29sdGlwKGRhdGFzZXQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHsgXCJBXCI6IHsgJ3RpdGxlJzogJ0RhdGFzZXQnLCAndGV4dCc6IGRhdGFzZXQgfSwgXCJCXCI6IHsgJ3RpdGxlJzogJ1ZhbHVlJywgJ3RleHQnOiB2YWx1ZSB9IH07XG4gIH1cblxuICBzdGF0aWMgZ2V0IGNvbG9ycygpIHtcbiAgICByZXR1cm4gZDMuc2NhbGVTZXF1ZW50aWFsKCkuZG9tYWluKFswLCAxMDBdKS5pbnRlcnBvbGF0b3IoZDMuaW50ZXJwb2xhdGVSYWluYm93KTtcbiAgfVxuXG4gIHN0YXRpYyBkb21haW5SYW5nZShtYXgpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgQXJyYXkobWF4KSwgKF8sIGkpID0+IGkpLm1hcCh4ID0+IHgpO1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxuXG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvc2l0ZSBleHRlbmRzIFJlbmRlcmVyIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICAgIGlmIChuZXcudGFyZ2V0ID09PSBDb21wb3NpdGUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgW0NvbXBvc2l0ZV0gaW5zdGFuY2VzIGRpcmVjdGx5IScpO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlcmVycyA9IFtdO1xuICB9XG5cbiAgYWRkKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlcnMucHVzaChyZW5kZXJlcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZW5kZXJDaGlsZHJlbigpIHtcbiAgICAvLyB1cGRhdGUgY2hpbGRyZW4gcmVuZGVyaW5nIHdpdGggYSBuZXcgcGFyZW50IVxuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIG9wdGlvbnMuYXBwZW5kVG8gPSB0aGlzO1xuICAgIC8vIHJlbmRlciBvdGhlciBjb21wb25lbnRzXG4gICAgZm9yICh2YXIgcmVuZGVyZXIgb2YgdGhpcy5yZW5kZXJlcnMpIHtcbiAgICAgIHJlbmRlcmVyLnNldHRpbmdzKG9wdGlvbnMpLmxvYWQodGhpcy5kYXRhKS5yZW5kZXIoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBDb21wb3NpdGUgZnJvbSAnLi9jb21wb3NpdGUnO1xuaW1wb3J0IENhbnZhcyBmcm9tICcuL2NhbnZhcyc7XG5pbXBvcnQgTWFpbk1lbnUgZnJvbSAnLi9tZW51LW1haW4nO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi9tZXNzYWdlJztcbmltcG9ydCB7IGRvbnRFeGVjdXRlSWZOb0RhdGEgfSBmcm9tICcuLi9kZWNvcmF0b3IvZGF0YSc7XG5cbi8qIGdsb2JhbCBkMyAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGcmFtZSBleHRlbmRzIENvbXBvc2l0ZSB7XG5cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcbiAgICB0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXModGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLm1lbnUgPSBuZXcgTWFpbk1lbnUodGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLm1lc3NhZ2VzID0gbmV3IE1lc3NhZ2UodGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLmFkZCh0aGlzLm1lc3NhZ2VzKS5hZGQodGhpcy5tZW51KS5hZGQodGhpcy5jYW52YXMpO1xuICAgIHRoaXMuZWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIEBkb250RXhlY3V0ZUlmTm9EYXRhKClcbiAgcmVuZGVyKCkge1xuICAgIHZhciBwYXJlbnQgPSBkMy5zZWxlY3QodGhpcy5vcHRpb25zLmFwcGVuZFRvKTtcblxuICAgIHZhciBmcmFtZUlkID0gYEYke3RoaXMuZGF0YS5jYW52YXMuaWR9YDtcbiAgICB0aGlzLmVsZW1lbnQgPSBkMy5zZWxlY3QoYGRpdiMke2ZyYW1lSWR9YCk7XG4gICAgLy8gY2hlY2sgaWYgdGhlIGNhbnZhcyBpcyBhbHJlYWR5IHByZXNlbnRcbiAgICBpZiAoIXRoaXMuZWxlbWVudC5ub2RlKCkpIHtcbiAgICAgIC8vIGNyZWF0ZSBhIHN2ZyBlbGVtZW50IGRldGFjaGVkIGZyb20gdGhlIERPTSFcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBDcmVhdGluZyBGcmFtZSBbJHtmcmFtZUlkfV0uLi5gKTtcbiAgICAgIHRoaXMuZWxlbWVudCA9IHBhcmVudC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeScpLmF0dHIoJ2lkJywgZnJhbWVJZCk7XG4gICAgfVxuXG4gICAgLy8gY2Fubm90IGNvbnRpbnVlIGlmIGNhbnZhcyBpcyBub3QgcHJlc2VudFxuICAgIGlmICghdGhpcy5lbGVtZW50Lm5vZGUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBPb3BzLCBjb3VsZCBub3QgY3JlYXRlIGZyYW1lIHdpdGggaWQgWyR7ZnJhbWVJZH1dLi4uIENhbm5vdCBwcm9jZWVkLmApO1xuICAgIH1cblxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBGcmFtZSB1cGRhdGVkIFske2ZyYW1lSWR9XS4uLmApO1xuXG4gICAgdGhpcy5yZW5kZXJDaGlsZHJlbigpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG5cbn1cbiIsImltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyJztcbmltcG9ydCBDb250ZXh0TWVudSBmcm9tICcuL21lbnUtY29udGV4dCc7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuL3Rvb2x0aXAnO1xuaW1wb3J0IENhbGxiYWNrIGZyb20gJy4vY2FsbGJhY2snO1xuaW1wb3J0IHsgZG9udEV4ZWN1dGVJZk5vRGF0YSB9IGZyb20gJy4uL2RlY29yYXRvci9kYXRhJztcblxuLyogZ2xvYmFsIGQzICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyYXBoIGV4dGVuZHMgUmVuZGVyZXIge1xuXG5cbiAgc3RhdGljIGdldCBjb2xvcnMoKSB7XG4gICAgcmV0dXJuIGQzLnNjYWxlU2VxdWVudGlhbCgpLmRvbWFpbihbMCwgMTAwXSkuaW50ZXJwb2xhdG9yKGQzLmludGVycG9sYXRlUmFpbmJvdyk7XG4gIH1cblxuICBzdGF0aWMgZ2V0U3ltYm9sKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PT0gJ2NpcmNsZScpIHtcbiAgICAgIHJldHVybiBkMy5zeW1ib2xDaXJjbGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdjcm9zcycpIHtcbiAgICAgIHJldHVybiBkMy5zeW1ib2xDcm9zcztcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ2RpYW1vbmQnKSB7XG4gICAgICByZXR1cm4gZDMuc3ltYm9sRGlhbW9uZDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3NxdWFyZScpIHtcbiAgICAgIHJldHVybiBkMy5zeW1ib2xTcXVhcmU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICd0cmlhbmdsZScpIHtcbiAgICAgIHJldHVybiBkMy5zeW1ib2xUcmlhbmdsZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3N0YXInKSB7XG4gICAgICByZXR1cm4gZDMuc3ltYm9sU3RhcjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3d5ZScpIHtcbiAgICAgIHJldHVybiBkMy5zeW1ib2xXeWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGQzLnN5bWJvbENpcmNsZTtcbiAgICB9XG4gIH1cblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICB9XG5cbiAgQGRvbnRFeGVjdXRlSWZOb0RhdGEoJ2NhbnZhcy5ncmFwaCcpXG4gIHJlbmRlcigpIHtcblxuICAgIHZhciBwYXJlbnQgPSB0aGlzLm9wdGlvbnMuYXBwZW5kVG8uZWxlbWVudDtcblxuICAgIHZhciBkYXRhQ2hhbmdlZCA9IGZhbHNlO1xuICAgIHZhciB0b29sdGlwID0gbmV3IFRvb2x0aXAodGhpcy5vcHRpb25zKTtcbiAgICB2YXIgY29udGV4dE1lbnUgPSBuZXcgQ29udGV4dE1lbnUodGhpcy5vcHRpb25zKTtcbiAgICB2YXIgY2FsbGJhY2sgPSBuZXcgQ2FsbGJhY2sodGhpcy5vcHRpb25zKTtcblxuICAgIHZhciBzaW11bGF0aW9uQWN0aXZlID0gdGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5zaW11bGF0aW9uO1xuXG4gICAgdmFyIGNhbnZhc05vZGVzID0gdGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5ub2RlcyA/IE9iamVjdC52YWx1ZXModGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5ub2RlcykgOiBbXSxcbiAgICAgIGNhbnZhc0xpbmtzID0gdGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5saW5rcyA/IE9iamVjdC52YWx1ZXModGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5saW5rcykgOiBbXTtcblxuICAgIHRoaXMuZWxlbWVudCA9IHBhcmVudC5zZWxlY3QoJ2cuZnJhbmN5LWNvbnRlbnQnKTtcblxuICAgIHZhciB3aWR0aCA9ICtwYXJlbnQuYXR0cignd2lkdGgnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXG4gICAgICBoZWlnaHQgPSArcGFyZW50LmF0dHIoJ2hlaWdodCcpIHx8IGQzLnNlbGVjdCgnYm9keScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG5cbiAgICB2YXIgbGlua0dyb3VwID0gdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnZy5mcmFuY3ktbGlua3MnKTtcblxuICAgIGlmICghbGlua0dyb3VwLm5vZGUoKSkge1xuICAgICAgbGlua0dyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1saW5rcycpO1xuICAgIH1cblxuICAgIHZhciBsaW5rID0gbGlua0dyb3VwLnNlbGVjdEFsbCgnbGluZS5mcmFuY3ktbGluaycpLmRhdGEoY2FudmFzTGlua3MpO1xuXG4gICAgaWYgKGxpbmsuZW50ZXIoKS5kYXRhKCkubGVuZ3RoID4gMCB8fCBsaW5rLmVudGVyKCkuZGF0YSgpLmxlbmd0aCA+IDApIHtcbiAgICAgIGRhdGFDaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBsaW5rLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIGxpbmsgPSBsaW5rLmVudGVyKCkuYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktbGluaycpXG4gICAgICAuYXR0cignaWQnLCBkID0+IGAke2Quc291cmNlfSwke2QudGFyZ2V0fWApXG4gICAgICAuYXR0cigneDEnLCBkID0+IGQuc291cmNlLngpXG4gICAgICAuYXR0cigneTEnLCBkID0+IGQuc291cmNlLnkpXG4gICAgICAuYXR0cigneDInLCBkID0+IGQudGFyZ2V0LngpXG4gICAgICAuYXR0cigneTInLCBkID0+IGQudGFyZ2V0LnkpXG4gICAgICAubWVyZ2UobGluayk7XG5cbiAgICBpZiAodGhpcy5kYXRhLmNhbnZhcy5ncmFwaC50eXBlID09PSAnZGlyZWN0ZWQnKSB7XG4gICAgICAvLyB0aGlzIG1lYW5zIHdlIG5lZWQgYXJyb3dzLCBzbyB3ZSBhcHBlbmQgdGhlIG1hcmtlclxuICAgICAgcGFyZW50LmFwcGVuZCgnZGVmcycpLnNlbGVjdEFsbCgnbWFya2VyJylcbiAgICAgICAgLmRhdGEoWydhcnJvdyddKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ21hcmtlcicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktYXJyb3dzJylcbiAgICAgICAgLmF0dHIoJ2lkJywgZCA9PiBkKVxuICAgICAgICAuYXR0cigndmlld0JveCcsICcwIC01IDEwIDEwJylcbiAgICAgICAgLmF0dHIoJ3JlZlgnLCAyNSlcbiAgICAgICAgLmF0dHIoJ3JlZlknLCAwKVxuICAgICAgICAuYXR0cignbWFya2VyV2lkdGgnLCAxMClcbiAgICAgICAgLmF0dHIoJ21hcmtlckhlaWdodCcsIDEwKVxuICAgICAgICAuYXR0cignb3JpZW50JywgJ2F1dG8nKVxuICAgICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgICAgLmF0dHIoJ2QnLCAnTTAsLTVMMTAsMEwwLDUgTDEwLDAgTDAsIC01Jyk7XG4gICAgICAvLyB1cGRhdGUgdGhlIHN0eWxlIG9mIHRoZSBsaW5rXG4gICAgICBsaW5rLnN0eWxlKCdtYXJrZXItZW5kJywgJ3VybCgjYXJyb3cpJyk7XG4gICAgfVxuXG4gICAgdmFyIG5vZGVHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJ2cuZnJhbmN5LW5vZGVzJyk7XG5cbiAgICBpZiAoIW5vZGVHcm91cC5ub2RlKCkpIHtcbiAgICAgIG5vZGVHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbm9kZXMnKTtcbiAgICB9XG5cbiAgICB2YXIgbm9kZSA9IG5vZGVHcm91cC5zZWxlY3RBbGwoJ3BhdGguZnJhbmN5LW5vZGUnKS5kYXRhKGNhbnZhc05vZGVzKTtcblxuICAgIGlmIChub2RlLmV4aXQoKS5kYXRhKCkubGVuZ3RoID4gMCB8fCBub2RlLmVudGVyKCkuZGF0YSgpLmxlbmd0aCA+IDApIHtcbiAgICAgIGRhdGFDaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBub2RlLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIG5vZGUgPSBub2RlLmVudGVyKCkuYXBwZW5kKCdwYXRoJykubWVyZ2Uobm9kZSlcbiAgICAgIC5hdHRyKCdkJywgZDMuc3ltYm9sKCkudHlwZShkID0+IEdyYXBoLmdldFN5bWJvbChkLnR5cGUpKS5zaXplKGQgPT4gZC5zaXplICogMTAwKSlcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBkID0+IGB0cmFuc2xhdGUoJHtkLnh9LCR7ZC55fSlgKVxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBHcmFwaC5jb2xvcnMoZC5sYXllciAqIDUpKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgZCA9PiAnZnJhbmN5LW5vZGUnICsgKGQuaGlnaGxpZ2h0ID8gJyBmcmFuY3ktaGlnaGxpZ2h0JyA6ICcnKSArIChPYmplY3QudmFsdWVzKGQubWVudXMpLmxlbmd0aCA/ICcgZnJhbmN5LWNvbnRleHQnIDogJycpKVxuICAgICAgLmF0dHIoJ2lkJywgZCA9PiBkLmlkKTtcblxuICAgIGlmICh0aGlzLmRhdGEuY2FudmFzLmdyYXBoLmRyYWcpIHtcbiAgICAgIG5vZGUuY2FsbChkMy5kcmFnKClcbiAgICAgICAgLm9uKCdzdGFydCcsIGRyYWdzdGFydGVkKVxuICAgICAgICAub24oJ2RyYWcnLCBkcmFnZ2VkKVxuICAgICAgICAub24oJ2VuZCcsIGRyYWdlbmRlZCkpO1xuICAgIH1cblxuICAgIG5vZGUub24oJ2NvbnRleHRtZW51JywgZnVuY3Rpb24oZCkge1xuICAgICAgICAvLyBkZWZhdWx0LCBidWlsZCBjb250ZXh0IG1lbnVcbiAgICAgICAgY29udGV4dE1lbnUubG9hZChkLCB0cnVlKS5yZW5kZXIoKTtcbiAgICAgICAgLy8gYW55IGNhbGxiYWNrcyB3aWxsIGJlIGhhbmRsZWQgaGVyZVxuICAgICAgICBleGVjdXRlQ2FsbGJhY2suY2FsbCh0aGlzLCBkLCAnY29udGV4dG1lbnUnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAvLyBkZWZhdWx0LCBoaWdobGlnaHQgY29ubmVjdGVkIG5vZGVzXG4gICAgICAgIGNvbm5lY3RlZE5vZGVzLmNhbGwodGhpcyk7XG4gICAgICAgIC8vIGFueSBjYWxsYmFja3Mgd2lsbCBiZSBoYW5kbGVkIGhlcmVcbiAgICAgICAgZXhlY3V0ZUNhbGxiYWNrLmNhbGwodGhpcywgZCwgJ2NsaWNrJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdkYmxjbGljaycsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgLy8gYW55IGNhbGxiYWNrcyB3aWxsIGJlIGhhbmRsZWQgaGVyZVxuICAgICAgICBleGVjdXRlQ2FsbGJhY2suY2FsbCh0aGlzLCBkLCAnZGJsY2xpY2snKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZWVudGVyXCIsIGQgPT4ge1xuICAgICAgICAvLyBkZWZhdWx0LCBzaG93IHRvb2x0aXBcbiAgICAgICAgdG9vbHRpcC5sb2FkKGQubWVzc2FnZXMsIHRydWUpLnJlbmRlcigpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgICAgICAvLyBkZWZhdWx0LCBoaWRlIHRvb2x0aXBcbiAgICAgICAgdG9vbHRpcC51bnJlbmRlcigpO1xuICAgICAgfSk7XG5cbiAgICB2YXIgbGFiZWxHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJy5mcmFuY3ktbGFiZWxzJyk7XG5cbiAgICBpZiAoIWxhYmVsR3JvdXAubm9kZSgpKSB7XG4gICAgICBsYWJlbEdyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1sYWJlbHMnKTtcbiAgICB9XG5cbiAgICB2YXIgbGFiZWwgPSBsYWJlbEdyb3VwLnNlbGVjdEFsbCgndGV4dCcpLmRhdGEoY2FudmFzTm9kZXMpO1xuXG4gICAgbGFiZWwuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgbGFiZWwgPSBsYWJlbC5lbnRlcigpLmFwcGVuZCgndGV4dCcpLm1lcmdlKGxhYmVsKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1sYWJlbCcpXG4gICAgICAudGV4dChkID0+IGQudGl0bGUpXG4gICAgICAuYXR0cigneCcsIGQgPT4gZC54IC0gZC50aXRsZS5sZW5ndGggLSBNYXRoLnNxcnQoZC5zaXplICogZC50aXRsZS5sZW5ndGggKiAyKSlcbiAgICAgIC5hdHRyKCd5JywgZCA9PiBkLnkgLSBNYXRoLnNxcnQoZC5zaXplICogMikpO1xuXG4gICAgbGFiZWxcbiAgICAgIC5vbignY29udGV4dG1lbnUnLCBmdW5jdGlvbihkKSB7XG4gICAgICAgIC8vIGRlZmF1bHQsIGJ1aWxkIGNvbnRleHQgbWVudVxuICAgICAgICBjb250ZXh0TWVudS5sb2FkKGQsIHRydWUpLnJlbmRlcigpO1xuICAgICAgICAvLyBhbnkgY2FsbGJhY2tzIHdpbGwgYmUgaGFuZGxlZCBoZXJlXG4gICAgICAgIGV4ZWN1dGVDYWxsYmFjay5jYWxsKHRoaXMsIGQsICdjb250ZXh0bWVudScpO1xuICAgICAgfSlcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihkKSB7XG4gICAgICAgIC8vIGRlZmF1bHQsIGhpZ2hsaWdodCBjb25uZWN0ZWQgbm9kZXNcbiAgICAgICAgY29ubmVjdGVkTm9kZXMuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gYW55IGNhbGxiYWNrcyB3aWxsIGJlIGhhbmRsZWQgaGVyZVxuICAgICAgICBleGVjdXRlQ2FsbGJhY2suY2FsbCh0aGlzLCBkLCAnY2xpY2snKTtcbiAgICAgIH0pXG4gICAgICAub24oJ2RibGNsaWNrJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAvLyBhbnkgY2FsbGJhY2tzIHdpbGwgYmUgaGFuZGxlZCBoZXJlXG4gICAgICAgIGV4ZWN1dGVDYWxsYmFjay5jYWxsKHRoaXMsIGQsICdkYmxjbGljaycpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCBkID0+IHtcbiAgICAgICAgLy8gZGVmYXVsdCwgc2hvdyB0b29sdGlwXG4gICAgICAgIHRvb2x0aXAubG9hZChkLm1lc3NhZ2VzLCB0cnVlKS5yZW5kZXIoKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW91dFwiLCAoKSA9PiB7XG4gICAgICAgIC8vIGRlZmF1bHQsIGhpZGUgdG9vbHRpcFxuICAgICAgICB0b29sdGlwLnVucmVuZGVyKCk7XG4gICAgICB9KTtcblxuICAgIGlmIChzaW11bGF0aW9uQWN0aXZlKSB7IC8vICYmIGRhdGFDaGFuZ2VkKSB7XG4gICAgICAvLyBDYW52YXMgRm9yY2VzXG4gICAgICB2YXIgY2VudGVyRm9yY2UgPSBkMy5mb3JjZUNlbnRlcigpLngod2lkdGggLyAyKS55KGhlaWdodCAvIDIpO1xuICAgICAgdmFyIG1hbnlGb3JjZSA9IGQzLmZvcmNlTWFueUJvZHkoKS5zdHJlbmd0aCgtY2FudmFzTm9kZXMubGVuZ3RoICogMzApO1xuICAgICAgdmFyIGxpbmtGb3JjZSA9IGQzLmZvcmNlTGluayhjYW52YXNMaW5rcykuaWQoZCA9PiBkLmlkKS5kaXN0YW5jZSg1MCk7XG4gICAgICB2YXIgY29sbGlkZUZvcmNlID0gZDMuZm9yY2VDb2xsaWRlKGQgPT4gZC5zaXplICogMik7XG5cbiAgICAgIC8vR2VuZXJpYyBncmF2aXR5IGZvciB0aGUgWCBwb3NpdGlvblxuICAgICAgdmFyIGZvcmNlWCA9IGQzLmZvcmNlWCh3aWR0aCAvIDIpLnN0cmVuZ3RoKDAuMDUpO1xuXG4gICAgICAvL0dlbmVyaWMgZ3Jhdml0eSBmb3IgdGhlIFkgcG9zaXRpb24gLSB1bmRpcmVjdGVkL2RpcmVjdGVkIGdyYXBocyBmYWxsIGhlcmVcbiAgICAgIHZhciBmb3JjZVkgPSBkMy5mb3JjZVkoaGVpZ2h0IC8gMikuc3RyZW5ndGgoMC4yNSk7XG5cbiAgICAgIGlmICh0aGlzLmRhdGEuY2FudmFzLmdyYXBoLnR5cGUgPT09ICdoYXNzZScpIHtcbiAgICAgICAgLy9HZW5lcmljIGdyYXZpdHkgZm9yIHRoZSBYIHBvc2l0aW9uXG4gICAgICAgIGZvcmNlWCA9IGQzLmZvcmNlWCh3aWR0aCAvIDIpLnN0cmVuZ3RoKDAuNSk7XG4gICAgICAgIC8vU3Ryb25nIHkgcG9zaXRpb25pbmcgYmFzZWQgb24gbGF5ZXIgdG8gc2ltdWxhdGUgdGhlIGhhc3NlIGRpYWdyYW1cbiAgICAgICAgZm9yY2VZID0gZDMuZm9yY2VZKGQgPT4gZC5sYXllciAqIDUwKS5zdHJlbmd0aCg1KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNpbXVsYXRpb24gPSBkMy5mb3JjZVNpbXVsYXRpb24oY2FudmFzTm9kZXMpXG4gICAgICAgIC5mb3JjZShcImNoYXJnZVwiLCBtYW55Rm9yY2UpXG4gICAgICAgIC5mb3JjZShcImxpbmtcIiwgbGlua0ZvcmNlKVxuICAgICAgICAuZm9yY2UoXCJjZW50ZXJcIiwgY2VudGVyRm9yY2UpXG4gICAgICAgIC5mb3JjZShcInhcIiwgZm9yY2VYKVxuICAgICAgICAuZm9yY2UoXCJ5XCIsIGZvcmNlWSlcbiAgICAgICAgLmZvcmNlKFwiY29sbGlkZVwiLCBjb2xsaWRlRm9yY2UpXG4gICAgICAgIC5vbigndGljaycsIHRpY2tlZClcbiAgICAgICAgLm9uKFwiZW5kXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vIHpvb20gdG8gZml0IHdoZW4gc2ltdWxhdGlvbiBpcyBvdmVyXG4gICAgICAgICAgcGFyZW50Lnpvb21Ub0ZpdCgpO1xuICAgICAgICB9KTtcblxuICAgICAgLy9mb3JjZSBzaW11bGF0aW9uIHJlc3RhcnRcbiAgICAgIHNpbXVsYXRpb24ucmVzdGFydCgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIHdlbGwsIHNpbXVsYXRpb24gaXMgb2ZmLCB6b29tIHRvIGZpdCBub3dcbiAgICAgIHBhcmVudC56b29tVG9GaXQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0aWNrZWQoKSB7XG4gICAgICBsaW5rXG4gICAgICAgIC5hdHRyKCd4MScsIGQgPT4gZC5zb3VyY2UueClcbiAgICAgICAgLmF0dHIoJ3kxJywgZCA9PiBkLnNvdXJjZS55KVxuICAgICAgICAuYXR0cigneDInLCBkID0+IGQudGFyZ2V0LngpXG4gICAgICAgIC5hdHRyKCd5MicsIGQgPT4gZC50YXJnZXQueSk7XG5cbiAgICAgIG5vZGUuYXR0cigndHJhbnNmb3JtJywgZCA9PiBgdHJhbnNsYXRlKCR7ZC54fSwke2QueX0pYCk7XG5cbiAgICAgIGxhYmVsXG4gICAgICAgIC5hdHRyKCd4JywgZCA9PiBkLnggLSBkLnRpdGxlLmxlbmd0aCAtIE1hdGguc3FydChkLnNpemUgKiBkLnRpdGxlLmxlbmd0aCAqIDIpKVxuICAgICAgICAuYXR0cigneScsIGQgPT4gZC55IC0gTWF0aC5zcXJ0KGQuc2l6ZSAqIDIpKTtcblxuICAgICAgbm9kZS5lYWNoKGNvbGxpZGUoMSkpO1xuICAgIH1cblxuICAgIC8vIENPTExJU0lPTlxuICAgIHZhciBwYWRkaW5nID0gMTA7IC8vIHNlcGFyYXRpb24gYmV0d2VlbiBjaXJjbGVzO1xuXG4gICAgZnVuY3Rpb24gY29sbGlkZShhbHBoYSkge1xuICAgICAgbGV0IHF1YWRUcmVlID0gZDMucXVhZHRyZWUoY2FudmFzTm9kZXMpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgbGV0IHJiID0gMTAwICogZC5zaXplICsgcGFkZGluZyxcbiAgICAgICAgICBueDEgPSBkLnggLSByYixcbiAgICAgICAgICBueDIgPSBkLnggKyByYixcbiAgICAgICAgICBueTEgPSBkLnkgLSByYixcbiAgICAgICAgICBueTIgPSBkLnkgKyByYjtcbiAgICAgICAgcXVhZFRyZWUudmlzaXQoZnVuY3Rpb24ocXVhZCwgeDEsIHkxLCB4MiwgeTIpIHtcbiAgICAgICAgICBpZiAocXVhZC5wb2ludCAmJiAocXVhZC5wb2ludCAhPT0gZCkpIHtcbiAgICAgICAgICAgIGxldCB4ID0gZC54IC0gcXVhZC5wb2ludC54LFxuICAgICAgICAgICAgICB5ID0gZC55IC0gcXVhZC5wb2ludC55LFxuICAgICAgICAgICAgICBsID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xuICAgICAgICAgICAgaWYgKGwgPCByYikge1xuICAgICAgICAgICAgICBsID0gKGwgLSByYikgLyBsICogYWxwaGE7XG4gICAgICAgICAgICAgIGQueCAtPSB4ICo9IGw7XG4gICAgICAgICAgICAgIGQueSAtPSB5ICo9IGw7XG4gICAgICAgICAgICAgIHF1YWQucG9pbnQueCArPSB4O1xuICAgICAgICAgICAgICBxdWFkLnBvaW50LnkgKz0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHgxID4gbngyIHx8IHgyIDwgbngxIHx8IHkxID4gbnkyIHx8IHkyIDwgbnkxO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSElHSExJR0hUXG4gICAgLy9Ub2dnbGUgc3RvcmVzIHdoZXRoZXIgdGhlIGhpZ2hsaWdodGluZyBpcyBvblxuICAgIHZhciB0b2dnbGUgPSAwO1xuICAgIC8vQ3JlYXRlIGFuIGFycmF5IGxvZ2dpbmcgd2hhdCBpcyBjb25uZWN0ZWQgdG8gd2hhdFxuICAgIHZhciBsaW5rZWRCeUluZGV4ID0ge307XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhbnZhc05vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaW5rZWRCeUluZGV4W2Ake2l9LCR7aX1gXSA9IDE7XG4gICAgfVxuXG4gICAgY2FudmFzTGlua3MuZm9yRWFjaChmdW5jdGlvbihkKSB7XG4gICAgICBsaW5rZWRCeUluZGV4W2Ake2Quc291cmNlLmluZGV4fSwke2QudGFyZ2V0LmluZGV4fWBdID0gMTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGNvbm5lY3RlZE5vZGVzKCkge1xuICAgICAgLy9UaGlzIGZ1bmN0aW9uIGxvb2tzIHVwIHdoZXRoZXIgYSBwYWlyIGFyZSBuZWlnaGJvdXJzXG4gICAgICBmdW5jdGlvbiBuZWlnaGJvcmluZyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBsaW5rZWRCeUluZGV4W2Ake2EuaW5kZXh9LCR7Yi5pbmRleH1gXTtcbiAgICAgIH1cbiAgICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAodG9nZ2xlID09PSAwKSB7XG4gICAgICAgIC8vUmVkdWNlIHRoZSBvcGFjaXR5IG9mIGFsbCBidXQgdGhlIG5laWdoYm91cmluZyBub2Rlc1xuICAgICAgICBsZXQgZCA9IGQzLnNlbGVjdCh0aGlzKS5ub2RlKCkuX19kYXRhX187XG4gICAgICAgIG5vZGUuc3R5bGUoJ29wYWNpdHknLCBvID0+IG5laWdoYm9yaW5nKGQsIG8pIHx8IG5laWdoYm9yaW5nKG8sIGQpID8gMSA6IDAuMSk7XG4gICAgICAgIGxpbmsuc3R5bGUoJ29wYWNpdHknLCBvID0+IGQuaW5kZXggPT09IG8uc291cmNlLmluZGV4IHx8IGQuaW5kZXggPT09IG8udGFyZ2V0LmluZGV4ID8gMSA6IDAuMSk7XG4gICAgICAgIC8vUmVkdWNlIHRoZSBvcFxuICAgICAgICB0b2dnbGUgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vUHV0IHRoZW0gYmFjayB0byBvcGFjaXR5PTFcbiAgICAgICAgbm9kZS5zdHlsZSgnb3BhY2l0eScsIDEpO1xuICAgICAgICBsaW5rLnN0eWxlKCdvcGFjaXR5JywgMSk7XG4gICAgICAgIHRvZ2dsZSA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHJhZ3N0YXJ0ZWQoZCkge1xuICAgICAgaWYgKCFkMy5ldmVudC5hY3RpdmUgJiYgc2ltdWxhdGlvbkFjdGl2ZSAmJiBkYXRhQ2hhbmdlZCkge1xuICAgICAgICBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDAuMDEpLnJlc3RhcnQoKTtcbiAgICAgIH1cbiAgICAgIGQuZnggPSBkLng7XG4gICAgICBkLmZ5ID0gZC55O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYWdnZWQoZCkge1xuICAgICAgZC5meCA9IGQzLmV2ZW50Lng7XG4gICAgICBkLmZ5ID0gZDMuZXZlbnQueTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkcmFnZW5kZWQoZCkge1xuICAgICAgaWYgKCFkMy5ldmVudC5hY3RpdmUgJiYgc2ltdWxhdGlvbkFjdGl2ZSAmJiBkYXRhQ2hhbmdlZCkge1xuICAgICAgICBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDApO1xuICAgICAgfVxuICAgICAgZC5meCA9IG51bGw7XG4gICAgICBkLmZ5ID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleGVjdXRlQ2FsbGJhY2soZGF0YSwgZXZlbnQpIHtcbiAgICAgIGlmIChkYXRhLmNhbGxiYWNrcykge1xuICAgICAgICBPYmplY3QudmFsdWVzKGRhdGEuY2FsbGJhY2tzKS5mb3JFYWNoKChjYikgPT4ge1xuICAgICAgICAgIC8vIGV4ZWN1dGUgdGhlIG9uZXMgdGhhdCBtYXRjaCB0aGUgZXZlbnQhXG4gICAgICAgICAgY2IudHJpZ2dlciA9PT0gZXZlbnQgJiYgY2FsbGJhY2subG9hZCh7IGNhbGxiYWNrOiBjYiB9LCB0cnVlKS5leGVjdXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuXG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG5cbn1cbiIsImltcG9ydCBNZW51IGZyb20gJy4vbWVudSc7XG5pbXBvcnQgeyBkb250RXhlY3V0ZUlmTm9EYXRhIH0gZnJvbSAnLi4vZGVjb3JhdG9yL2RhdGEnO1xuXG4vKiBnbG9iYWwgZDMgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udGV4dE1lbnUgZXh0ZW5kcyBNZW51IHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICB9XG5cbiAgQGRvbnRFeGVjdXRlSWZOb0RhdGEoJ21lbnVzJylcbiAgcmVuZGVyKCkge1xuXG4gICAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuSFRNTFBhcmVudC5zZWxlY3QoJ2Rpdi5mcmFuY3ktY29udGV4dC1tZW51LWhvbGRlcicpO1xuICAgIC8vIGNoZWNrIGlmIHRoZSB3aW5kb3cgaXMgYWxyZWFkeSBwcmVzZW50XG4gICAgaWYgKCF0aGlzLmVsZW1lbnQubm9kZSgpKSB7XG4gICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLkhUTUxQYXJlbnQuYXBwZW5kKCdkaXYnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LWNvbnRleHQtbWVudS1ob2xkZXInKTtcbiAgICB9XG5cbiAgICB2YXIgcG9zID0gZDMubW91c2UodGhpcy5TVkdQYXJlbnQubm9kZSgpKTtcblxuICAgIHRoaXMuZWxlbWVudC5zdHlsZSgnbGVmdCcsIHBvc1swXSArIDUgKyAncHgnKS5zdHlsZSgndG9wJywgcG9zWzFdICsgNSArICdweCcpO1xuXG4gICAgLy8gc2hvdyB0aGUgY29udGV4dCBtZW51XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG5cbiAgICAvLyBjaGVjayBpZiBpdCBleGlzdHMgYWxyZWFkeVxuICAgIGlmICh0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCcqJykubm9kZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZGVzdHJveSBtZW51XG4gICAgZDMuc2VsZWN0KCdib2R5Jykub24oJ2NsaWNrLmZyYW5jeS1jb250ZXh0LW1lbnUnLCAoKSA9PiB0aGlzLnVucmVuZGVyKCkpO1xuXG4gICAgLy8gdGhpcyBnZXRzIGV4ZWN1dGVkIHdoZW4gYSBjb250ZXh0bWVudSBldmVudCBvY2N1cnNcbiAgICB2YXIgbWVudSA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1jb250ZXh0LW1lbnUnKS5hcHBlbmQoJ3VsJyk7XG4gICAgdmFyIG1lbnVzSXRlcmF0b3IgPSB0aGlzLml0ZXJhdG9yKE9iamVjdC52YWx1ZXModGhpcy5kYXRhLm1lbnVzKSk7XG4gICAgdGhpcy50cmF2ZXJzZShtZW51LCBtZW51c0l0ZXJhdG9yKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgTWVudSBmcm9tICcuL21lbnUnO1xuaW1wb3J0IEFib3V0TW9kYWwgZnJvbSAnLi9tb2RhbC1hYm91dCc7XG4vL2ltcG9ydCAqIGFzIFN2Z1RvUG5nIGZyb20gJy4uLy4uL25vZGVfbW9kdWxlcy9zYXZlLXN2Zy1hcy1wbmcvc2F2ZVN2Z0FzUG5nJztcblxuLyogZ2xvYmFsIGQzIHdpbmRvdyAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluTWVudSBleHRlbmRzIE1lbnUge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMub3B0aW9ucy5hcHBlbmRUby5lbGVtZW50O1xuXG4gICAgdmFyIGFib3V0TW9kYWwgPSBuZXcgQWJvdXRNb2RhbCh0aGlzLm9wdGlvbnMpO1xuXG4gICAgLy8gT3RoZXJ3aXNlIGNsYXNoZXMgd2l0aCB0aGUgY2FudmFzIGl0c2VsZiFcbiAgICB2YXIgbWVudUlkID0gYE1haW5NZW51LSR7dGhpcy5kYXRhLmNhbnZhcy5pZH1gO1xuICAgIHRoaXMuZWxlbWVudCA9IGQzLnNlbGVjdChgIyR7bWVudUlkfWApO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIG1lbnUgaXMgYWxyZWFkeSBwcmVzZW50XG4gICAgaWYgKCF0aGlzLmVsZW1lbnQubm9kZSgpKSB7XG4gICAgICAvLyBjcmVhdGUgYSBkaXYgZWxlbWVudCBkZXRhY2hlZCBmcm9tIHRoZSBET00hXG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgQ3JlYXRpbmcgTWFpbiBNZW51IFske21lbnVJZH1dLi4uYCk7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBwYXJlbnQuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbWFpbi1tZW51LWhvbGRlcicpLmF0dHIoJ2lkJywgbWVudUlkKTtcbiAgICB9XG5cbiAgICAvLyBGb3JjZSByZWJ1aWxkIG1lbnUgYWdhaW5cbiAgICB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCd1bCcpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tYWluLW1lbnUnKTtcblxuICAgIGlmICh0aGlzLmRhdGEuY2FudmFzLnRpdGxlKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKCdsaScpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10aXRsZScpLmFwcGVuZCgnYScpLmh0bWwodGhpcy5kYXRhLmNhbnZhcy50aXRsZSk7XG4gICAgfVxuXG4gICAgdmFyIGVudHJ5ID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnbGknKTtcbiAgICBlbnRyeS5hcHBlbmQoJ2EnKS5odG1sKCdGcmFuY3knKTtcbiAgICB2YXIgY29udGVudCA9IGVudHJ5LmFwcGVuZCgndWwnKTtcbiAgICBpZiAodGhpcy5kYXRhLmNhbnZhcy56b29tVG9GaXQpIHtcbiAgICAgIGNvbnRlbnQuYXBwZW5kKCdsaScpLmFwcGVuZCgnYScpLm9uKCdjbGljaycsICgpID0+IHRoaXMub3B0aW9ucy5hcHBlbmRUby5jYW52YXMuem9vbVRvRml0KCkpLmF0dHIoJ3RpdGxlJywgJ1pvb20gdG8gRml0JykuaHRtbCgnWm9vbSB0byBGaXQnKTtcbiAgICB9XG4gICAgLy9jb250ZW50LmFwcGVuZCgnbGknKS5hcHBlbmQoJ2EnKS5vbignY2xpY2snLCAoKSA9PiBTdmdUb1BuZy5zYXZlU3ZnQXNQbmcoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kYXRhLmNhbnZhcy5pZCksIFwiZGlhZ3JhbS5wbmdcIikpLmF0dHIoJ3RpdGxlJywgJ1NhdmUgdG8gUE5HJykuaHRtbCgnU2F2ZSB0byBQTkcnKTtcbiAgICBjb250ZW50LmFwcGVuZCgnbGknKS5hcHBlbmQoJ2EnKS5vbignY2xpY2snLCAoKSA9PiBhYm91dE1vZGFsLmxvYWQodGhpcy5kYXRhKS5yZW5kZXIoKSkuYXR0cigndGl0bGUnLCAnQWJvdXQnKS5odG1sKCdBYm91dCcpO1xuXG4gICAgLy8gVHJhdmVyc2UgYWxsIG1lbnVzIGFuZCBmbGF0dGVuIHRoZW0hXG4gICAgdmFyIG1lbnVzSXRlcmF0b3IgPSB0aGlzLml0ZXJhdG9yKE9iamVjdC52YWx1ZXModGhpcy5kYXRhLmNhbnZhcy5tZW51cykpO1xuICAgIHRoaXMudHJhdmVyc2UodGhpcy5lbGVtZW50LCBtZW51c0l0ZXJhdG9yKTtcblxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBNYWluIE1lbnUgdXBkYXRlZCBbJHttZW51SWR9XS4uLmApO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG5cbn1cbiIsImltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyJztcbmltcG9ydCBDYWxsYmFjayBmcm9tICcuL2NhbGxiYWNrJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVudSBleHRlbmRzIFJlbmRlcmVyIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICB9XG5cbiAgdHJhdmVyc2UoYXBwZW5kVG8sIG1lbnVzSXRlcmF0b3IpIHtcbiAgICB3aGlsZSAobWVudXNJdGVyYXRvci5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBtZW51SXRlbSA9IG1lbnVzSXRlcmF0b3IubmV4dCgpO1xuICAgICAgdmFyIGVudHJ5ID0gYXBwZW5kVG8uYXBwZW5kKCdsaScpO1xuICAgICAgdmFyIGFjdGlvbiA9IGVudHJ5LnNlbGVjdEFsbCgnYScpLmRhdGEoW21lbnVJdGVtXSkuZW50ZXIoKS5hcHBlbmQoJ2EnKS5hdHRyKCd0aXRsZScsIG1lbnVJdGVtLnRpdGxlKS5odG1sKG1lbnVJdGVtLnRpdGxlKTtcbiAgICAgIGlmIChtZW51SXRlbS5jYWxsYmFjayAmJiBPYmplY3QudmFsdWVzKG1lbnVJdGVtLmNhbGxiYWNrKS5sZW5ndGgpIHtcbiAgICAgICAgYWN0aW9uLm9uKCdjbGljaycsIChkKSA9PiBuZXcgQ2FsbGJhY2sodGhpcy5vcHRpb25zKS5sb2FkKGQsIHRydWUpLmV4ZWN1dGUoKSk7XG4gICAgICB9XG4gICAgICBpZiAobWVudUl0ZW0ubWVudXMgJiYgT2JqZWN0LnZhbHVlcyhtZW51SXRlbS5tZW51cykubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgY29udGVudCA9IGVudHJ5LmFwcGVuZCgndWwnKTtcbiAgICAgICAgdmFyIHN1Yk1lbnVzSXRlcmF0b3IgPSB0aGlzLml0ZXJhdG9yKE9iamVjdC52YWx1ZXMobWVudUl0ZW0ubWVudXMpKTtcbiAgICAgICAgdGhpcy50cmF2ZXJzZShjb250ZW50LCBzdWJNZW51c0l0ZXJhdG9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpdGVyYXRvcihhcnJheSkge1xuICAgIHZhciBuZXh0SW5kZXggPSAwO1xuICAgIHJldHVybiB7XG4gICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzTmV4dCgpID8gYXJyYXlbbmV4dEluZGV4KytdIDogdW5kZWZpbmVkO1xuICAgICAgfSxcbiAgICAgIGhhc05leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV4dEluZGV4IDwgYXJyYXkubGVuZ3RoO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgeyBkb250RXhlY3V0ZUlmTm9EYXRhIH0gZnJvbSAnLi4vZGVjb3JhdG9yL2RhdGEnO1xuXG4vKiBnbG9iYWwgZDMgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzc2FnZSBleHRlbmRzIFJlbmRlcmVyIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICB9XG5cbiAgQGRvbnRFeGVjdXRlSWZOb0RhdGEoJ2NhbnZhcy5tZXNzYWdlcycpXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XG5cbiAgICB2YXIgbWVzc2FnZXMgPSBPYmplY3Qua2V5cyh0aGlzLmRhdGEuY2FudmFzLm1lc3NhZ2VzKS5tYXAoKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGtleSxcbiAgICAgICAgdHlwZTogdGhpcy5kYXRhLmNhbnZhcy5tZXNzYWdlc1trZXldLnR5cGUsXG4gICAgICAgIHRpdGxlOiB0aGlzLmRhdGEuY2FudmFzLm1lc3NhZ2VzW2tleV0udGl0bGUsXG4gICAgICAgIHRleHQ6IHRoaXMuZGF0YS5jYW52YXMubWVzc2FnZXNba2V5XS50ZXh0XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdmFyIGFsZXJ0c0lkID0gYE1lc3NhZ2VzLSR7dGhpcy5kYXRhLmNhbnZhcy5pZH1gO1xuICAgIHRoaXMuZWxlbWVudCA9IGQzLnNlbGVjdChgIyR7YWxlcnRzSWR9YCk7XG4gICAgLy8gY2hlY2sgaWYgdGhlIHdpbmRvdyBpcyBhbHJlYWR5IHByZXNlbnRcbiAgICBpZiAoIXRoaXMuZWxlbWVudC5ub2RlKCkpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IHBhcmVudC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tZXNzYWdlLWhvbGRlcicpLmF0dHIoJ2lkJywgYWxlcnRzSWQpO1xuICAgIH1cblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBtZXNzYWdlcy5tYXAoZnVuY3Rpb24oZCkge1xuICAgICAgLy8gb25seSByZW5kZXIgbmV3IG9uZXNcbiAgICAgIGlmICghc2VsZi5lbGVtZW50LnNlbGVjdChgZGl2IyR7ZC5pZH1gKS5ub2RlKCkpIHtcbiAgICAgICAgdmFyIHJvdyA9IHNlbGYuZWxlbWVudC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2lkJywgZC5pZClcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCBgZnJhbmN5LWFsZXJ0IGFsZXJ0LSR7ZC50eXBlfWApLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgcm93LmFwcGVuZCgnc3BhbicpLmF0dHIoJ2NsYXNzJywgJ3N0cm9uZycpLnRleHQoZC50aXRsZSk7XG4gICAgICAgIHJvdy5hcHBlbmQoJ3NwYW4nKS50ZXh0KGQudGV4dCk7XG4gICAgICAgIHJvdy5hcHBlbmQoJ3NwYW4nKS5hdHRyKCdjbGFzcycsICdzdHJvbmcnKS5zdHlsZSgnZGlzcGxheScsICdub25lJykudGV4dChcInhcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxufVxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xuXG4vKiBnbG9iYWwgZDMgSnVweXRlciAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBYm91dE1vZGFsIGV4dGVuZHMgUmVuZGVyZXIge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdmFyIG1vZGFsSWQgPSAnQWJvdXRNb2RhbFdpbmRvdyc7XG5cbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgQ3JlYXRpbmcgQWJvdXQgTW9kYWwgWyR7bW9kYWxJZH1dLi4uYCk7XG5cbiAgICAvLyB3ZSB3YW50IHRvIG92ZXJsYXkgZXZlcnl0aGluZywgaGVuY2UgJ2JvZHknIG11c3QgYmUgdXNlZFxuICAgIHZhciBvdmVybGF5ID0gZDMuc2VsZWN0KCdib2R5JykuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1vdmVybGF5Jyk7XG4gICAgdmFyIGhvbGRlciA9IGQzLnNlbGVjdCgnYm9keScpLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3knKTtcbiAgICB0aGlzLmVsZW1lbnQgPSBob2xkZXIuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2lkJywgbW9kYWxJZClcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktbW9kYWwnKTtcblxuICAgIHZhciBmb3JtID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZm9ybScpO1xuXG4gICAgdmFyIGhlYWRlciA9IGZvcm0uYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbW9kYWwtaGVhZGVyJyk7XG5cbiAgICBoZWFkZXIuYXBwZW5kKCdzcGFuJykuaHRtbChgQWJvdXQgRnJhbmN5IHYke3RoaXMuZGF0YS52ZXJzaW9uIHx8ICdOL0EnfWApO1xuXG4gICAgdmFyIGNvbnRlbnQgPSBmb3JtLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1vZGFsLWNvbnRlbnQnKS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZScpLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLWJvZHknKTtcblxuICAgIGNvbnRlbnQuYXBwZW5kKCdzcGFuJykudGV4dCgnTG9hZGVkIE9iamVjdDonKTtcbiAgICBjb250ZW50LmFwcGVuZCgncHJlJykuYXR0cignY2xhc3MnLCAnZnJhbmN5JykuaHRtbCh0aGlzLnN5bnRheEhpZ2hsaWdodChKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEuY2FudmFzLCBudWxsLCAyKSkpO1xuICAgIGNvbnRlbnQuYXBwZW5kKCdzcGFuJykuYXBwZW5kKCdhJykuYXR0cignaHJlZicsICdodHRwczovL2dpdGh1Yi5jb20vbWNtYXJ0aW5zL2ZyYW5jeScpLnRleHQoJ0ZyYW5jeSBvbiBHaXRodWInKTtcblxuICAgIHZhciBmb290ZXIgPSBmb3JtLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1vZGFsLWZvb3RlcicpO1xuXG4gICAgZm9vdGVyLmFwcGVuZCgnYnV0dG9uJykudGV4dCgnT2snKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIGhvbGRlci5yZW1vdmUoKTtcbiAgICAgIG92ZXJsYXkucmVtb3ZlKCk7XG4gICAgICBkMy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gZGlzYWJsZSBrZXlib2FyZCBzaG9ydGN1dHMgd2hlbiB1c2luZyB0aGlzIG1vZGFsIGluIEp1cHl0ZXJcbiAgICB0cnkge1xuICAgICAgSnVweXRlci5rZXlib2FyZF9tYW5hZ2VyLnJlZ2lzdGVyX2V2ZW50cygnLmZyYW5jeScpO1xuICAgICAgSnVweXRlci5rZXlib2FyZF9tYW5hZ2VyLnJlZ2lzdGVyX2V2ZW50cygnLmZyYW5jeS1hcmcnKTtcbiAgICAgIEp1cHl0ZXIua2V5Ym9hcmRfbWFuYWdlci5yZWdpc3Rlcl9ldmVudHMoJy5mcmFuY3ktb3ZlcmxheScpO1xuICAgICAgSnVweXRlci5rZXlib2FyZF9tYW5hZ2VyLnJlZ2lzdGVyX2V2ZW50cygnLmZyYW5jeS1tb2RhbCcpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgaWYgKGUubmFtZSA9PSAnUmVmZXJlbmNlRXJyb3InKSB7XG4gICAgICAgIHNlbGYubG9nZ2VyLmRlYnVnKCdJdCBzZWVtcyB3ZVxcJ3JlIG5vdCBydW5uaW5nIG9uIEp1cHl0ZXIuLi4nLCBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgQ2FsbGJhY2sgQWJvdXQgdXBkYXRlZCBbJHttb2RhbElkfV0uLi5gKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxuXG4gIC8vIGNyZWRpdHMgaGVyZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDgxMDg0MS9ob3ctY2FuLWktcHJldHR5LXByaW50LWpzb24tdXNpbmctamF2YXNjcmlwdCNhbnN3ZXItNzIyMDUxMFxuICBzeW50YXhIaWdobGlnaHQoanNvbikge1xuICAgIGpzb24gPSBqc29uLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbiAgICByZXR1cm4ganNvbi5yZXBsYWNlKC8oXCIoXFxcXHVbYS16QS1aMC05XXs0fXxcXFxcW151XXxbXlwiXSkqXCIoXFxzKjopP3xcXGIodHJ1ZXxmYWxzZXxudWxsKVxcYnwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWystXT9cXGQrKT8pL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICB2YXIgY2xzID0gJ251bWJlcic7XG4gICAgICBpZiAoL15cIi8udGVzdChtYXRjaCkpIHtcbiAgICAgICAgaWYgKC86JC8udGVzdChtYXRjaCkpIHtcbiAgICAgICAgICBjbHMgPSAna2V5JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjbHMgPSAnc3RyaW5nJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoL3RydWV8ZmFsc2UvLnRlc3QobWF0Y2gpKSB7XG4gICAgICAgIGNscyA9ICdib29sZWFuJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKC9udWxsLy50ZXN0KG1hdGNoKSkge1xuICAgICAgICBjbHMgPSAnbnVsbCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiJyArIGNscyArICdcIj4nICsgbWF0Y2ggKyAnPC9zcGFuPic7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyJztcblxuLyogZ2xvYmFsIGQzIEp1cHl0ZXIgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVxdWlyZWRBcmdzTW9kYWwgZXh0ZW5kcyBSZW5kZXJlciB7XG5cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgbW9kYWxJZCA9IHRoaXMuZGF0YS5jYWxsYmFjay5pZDtcblxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBDcmVhdGluZyBDYWxsYmFjayBNb2RhbCBbJHttb2RhbElkfV0uLi5gKTtcblxuICAgIC8vIHdlIHdhbnQgdG8gb3ZlcmxheSBldmVyeXRoaW5nLCBoZW5jZSAnYm9keScgbXVzdCBiZSB1c2VkXG4gICAgdmFyIG92ZXJsYXkgPSBkMy5zZWxlY3QoJ2JvZHknKS5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LW92ZXJsYXknKTtcbiAgICB2YXIgaG9sZGVyID0gZDMuc2VsZWN0KCdib2R5JykuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeScpO1xuICAgIHRoaXMuZWxlbWVudCA9IGhvbGRlci5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignaWQnLCBtb2RhbElkKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tb2RhbCcpO1xuXG4gICAgdmFyIGZvcm0gPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdmb3JtJyk7XG5cbiAgICB2YXIgaGVhZGVyID0gZm9ybS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tb2RhbC1oZWFkZXInKTtcblxuICAgIHZhciBoZWFkZXJUaXRsZSA9IGhlYWRlci5hcHBlbmQoJ3NwYW4nKS5odG1sKCdSZXF1aXJlZCBhcmd1bWVudHMmbmJzcDsnKTtcbiAgICBpZiAodGhpcy5kYXRhLnRpdGxlKSB7XG4gICAgICBoZWFkZXJUaXRsZS5hcHBlbmQoJ3NwYW4nKS5hdHRyKCdzdHlsZScsICdmb250LXdlaWdodDogYm9sZDsnKS50ZXh0KGBmb3IgJHt0aGlzLmRhdGEudGl0bGV9YCk7XG4gICAgfVxuXG4gICAgdmFyIGNvbnRlbnQgPSBmb3JtLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1vZGFsLWNvbnRlbnQnKS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZScpLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLWJvZHknKTtcblxuICAgIGZvciAodmFyIGFyZyBvZiBPYmplY3QudmFsdWVzKHRoaXMuZGF0YS5jYWxsYmFjay5yZXF1aXJlZEFyZ3MpKSB7XG4gICAgICB2YXIgcm93ID0gY29udGVudC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1yb3cnKTtcbiAgICAgIHJvdy5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1jZWxsJykuYXBwZW5kKCdsYWJlbCcpLmF0dHIoJ2ZvcicsIGFyZy5pZCkudGV4dChhcmcudGl0bGUpO1xuICAgICAgdmFyIGlucHV0ID0gcm93LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLWNlbGwnKS5hcHBlbmQoJ2lucHV0JykuYXR0cignaWQnLCBhcmcuaWQpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1hcmcnKVxuICAgICAgICAuYXR0cigncmVxdWlyZWQnLCAnJylcbiAgICAgICAgLmF0dHIoJ25hbWUnLCBhcmcuaWQpXG4gICAgICAgIC5hdHRyKCd0eXBlJywgYXJnLnR5cGUpXG4gICAgICAgIC5hdHRyKCd2YWx1ZScsIGFyZy52YWx1ZSlcbiAgICAgICAgLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsgc2VsZi5kYXRhLmNhbGxiYWNrLnJlcXVpcmVkQXJnc1t0aGlzLmlkXS52YWx1ZSA9IHRoaXMudmFsdWU7IH0pXG4gICAgICAgIC5vbignaW5wdXQnLCB0aGlzLm9uY2hhbmdlKVxuICAgICAgICAub24oJ2tleXVwJywgdGhpcy5vbmNoYW5nZSlcbiAgICAgICAgLm9uKCdwYXN0ZScsIHRoaXMub25jaGFuZ2UpO1xuICAgICAgLy8gd2FpdCwgaWYgaXQgaXMgYm9vbGVhbiB3ZSBjcmVhdGUgYSBjaGVja2JveFxuICAgICAgaWYgKGFyZy50eXBlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgLy8gd2VsbCwgYSBjaGVja2JveCB3b3JrcyB0aGlzIHdheSBzbyB3ZSBuZWVkIHRvIGluaXRpYWxpemUgXG4gICAgICAgIC8vIHRoZSB2YWx1ZSB0byBmYWxzZSBhbmQgdXBkYXRlIHRoZSB2YWx1ZSBiYXNlZCBvbiB0aGUgY2hlY2tlZCBcbiAgICAgICAgLy8gcHJvcGVydHkgdGhhdCB0cmlnZ2VycyB0aGUgb25jaGFuZ2UgZXZlbnRcbiAgICAgICAgYXJnLnZhbHVlID0gYXJnLnZhbHVlIHx8IGZhbHNlO1xuICAgICAgICBpbnB1dC5hdHRyKCd0eXBlJywgJ2NoZWNrYm94JykuYXR0cigncmVxdWlyZWQnLCBudWxsKVxuICAgICAgICAgIC5hdHRyKCd2YWx1ZScsIGFyZy52YWx1ZSlcbiAgICAgICAgICAub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkgeyBzZWxmLmRhdGEuY2FsbGJhY2sucmVxdWlyZWRBcmdzW3RoaXMuaWRdLnZhbHVlID0gdGhpcy52YWx1ZSA9IHRoaXMuY2hlY2tlZDsgfSk7XG4gICAgICB9XG4gICAgICByb3cuYXBwZW5kKCdzcGFuJykuYXR0cignY2xhc3MnLCAndmFsaWRpdHknKTtcbiAgICB9XG5cbiAgICB2YXIgZm9vdGVyID0gZm9ybS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tb2RhbC1mb290ZXInKTtcblxuICAgIGZvb3Rlci5hcHBlbmQoJ2J1dHRvbicpLnRleHQoJ09rJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoZm9ybS5ub2RlKCkuY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHNlbGYub3B0aW9ucy5jYWxsYmFja0hhbmRsZXIoc2VsZi5kYXRhLmNhbGxiYWNrKTtcbiAgICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgICAgc2VsZi5lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICBob2xkZXIucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gICAgZm9vdGVyLmFwcGVuZCgnYnV0dG9uJykudGV4dCgnQ2FuY2VsJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgIHNlbGYuZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIGhvbGRlci5yZW1vdmUoKTtcbiAgICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAvLyBkaXNhYmxlIGtleWJvYXJkIHNob3J0Y3V0cyB3aGVuIHVzaW5nIHRoaXMgbW9kYWwgaW4gSnVweXRlclxuICAgIHRyeSB7XG4gICAgICBKdXB5dGVyLmtleWJvYXJkX21hbmFnZXIucmVnaXN0ZXJfZXZlbnRzKCcuZnJhbmN5Jyk7XG4gICAgICBKdXB5dGVyLmtleWJvYXJkX21hbmFnZXIucmVnaXN0ZXJfZXZlbnRzKCcuZnJhbmN5LWFyZycpO1xuICAgICAgSnVweXRlci5rZXlib2FyZF9tYW5hZ2VyLnJlZ2lzdGVyX2V2ZW50cygnLmZyYW5jeS1vdmVybGF5Jyk7XG4gICAgICBKdXB5dGVyLmtleWJvYXJkX21hbmFnZXIucmVnaXN0ZXJfZXZlbnRzKCcuZnJhbmN5LW1vZGFsJyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5uYW1lID09ICdSZWZlcmVuY2VFcnJvcicpIHtcbiAgICAgICAgc2VsZi5sb2dnZXIuZGVidWcoJ0l0IHNlZW1zIHdlXFwncmUgbm90IHJ1bm5pbmcgb24gSnVweXRlci4uLicsIGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRlbnQuc2VsZWN0QWxsKCcuZnJhbmN5LWFyZycpLm5vZGUoKS5mb2N1cygpO1xuXG4gICAgdGhpcy5sb2dnZXIuZGVidWcoYENhbGxiYWNrIE1vZGFsIHVwZGF0ZWQgWyR7bW9kYWxJZH1dLi4uYCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHVucmVuZGVyKCkge31cbn1cbiIsImltcG9ydCBCYXNlIGZyb20gJy4vYmFzZSc7XG5cbi8qIGdsb2JhbCBkMyAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlciBleHRlbmRzIEJhc2Uge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gICAgaWYgKG5ldy50YXJnZXQgPT09IFJlbmRlcmVyKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFtSZW5kZXJlcl0gaW5zdGFuY2VzIGRpcmVjdGx5IScpO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZW5kZXIgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdGhpcy5yZW5kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ011c3Qgb3ZlcnJpZGUgW3JlbmRlcigpXSBtZXRob2QhJyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnVucmVuZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdObyBbdW5yZW5kZXIoKV0gbWV0aG9kIHNwZWNpZmllZC4uLicpO1xuICAgIH1cbiAgICB0aGlzLmVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXQgSFRNTFBhcmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQubm9kZSgpLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NWRycgPyBkMy5zZWxlY3QodGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQubm9kZSgpLnBhcmVudE5vZGUpIDogdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XG4gIH1cblxuICBnZXQgU1ZHUGFyZW50KCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYXBwZW5kVG8uZWxlbWVudC5ub2RlKCkudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnRElWJyA/IHRoaXMub3B0aW9ucy5hcHBlbmRUby5lbGVtZW50LnNlbGVjdCgnc3ZnJykgOiB0aGlzLm9wdGlvbnMuYXBwZW5kVG8uZWxlbWVudDtcbiAgfVxuXG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgeyBkb250RXhlY3V0ZUlmTm9EYXRhIH0gZnJvbSAnLi4vZGVjb3JhdG9yL2RhdGEnO1xuXG4vKiBnbG9iYWwgZDMgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbHRpcCBleHRlbmRzIFJlbmRlcmVyIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICB9XG5cbiAgQGRvbnRFeGVjdXRlSWZOb0RhdGEoKVxuICByZW5kZXIoKSB7XG5cbiAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLkhUTUxQYXJlbnQuc2VsZWN0KCdkaXYuZnJhbmN5LXRvb2x0aXAtaG9sZGVyJyk7XG4gICAgLy8gY2hlY2sgaWYgdGhlIHdpbmRvdyBpcyBhbHJlYWR5IHByZXNlbnRcbiAgICBpZiAoIXRoaXMuZWxlbWVudC5ub2RlKCkpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuSFRNTFBhcmVudC5hcHBlbmQoJ2RpdicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktdG9vbHRpcC1ob2xkZXInKTtcbiAgICB9XG5cbiAgICB2YXIgcG9zID0gZDMubW91c2UodGhpcy5TVkdQYXJlbnQubm9kZSgpKTtcblxuICAgIC8vIFRPRE8gZml4IGFsd2F5cyB2aXNpYmxlIHRvb2x0aXAsIGZpbmUgdW50aWwgc29tZW9uZSBjb21wbGFpbnMgYWJvdXQgOlBcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUoJ2xlZnQnLCBwb3NbMF0gKyAncHgnKS5zdHlsZSgndG9wJywgcG9zWzFdICsgJ3B4Jyk7XG5cbiAgICAvLyBjaGVjayBpZiBpdCBleGlzdHMgYWxyZWFkeVxuICAgIGlmICh0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCcqJykubm9kZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRhYmxlID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRvb2x0aXAnKVxuICAgICAgLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlJylcbiAgICAgIC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1ib2R5Jyk7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIE9iamVjdC5rZXlzKHRoaXMuZGF0YSkubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIHJvdyA9IHRhYmxlLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLXJvdycpO1xuICAgICAgcm93LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLWNlbGwnKS50ZXh0KHNlbGYuZGF0YVtrZXldLnRpdGxlKTtcbiAgICAgIHJvdy5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1jZWxsJykudGV4dChzZWxmLmRhdGFba2V5XS50ZXh0KTtcbiAgICB9KTtcblxuICAgIC8vIHNob3cgdG9vbHRpcFxuICAgIHRoaXMuZWxlbWVudC5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xuXG4gICAgdGhpcztcbiAgfVxuXG4gIHVucmVuZGVyKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdG8gZGVhbCB3aXRoIEpTT04uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEpzb25VdGlscyB7XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBhbiBpbnB1dCBuZCBjaGVja3Mgd2hldGhlciB0aGlzIGlucHV0IGlzIHZhbGlkIGFuZCByZXR1cm5zIGEgSlNPTiBvYmplY3QuXG4gICAqIEBwYXJhbSBpbnB1dCAtIHRoZSBpbnB1dCB0byBwYXJzZVxuICAgKiBAcmV0dXJucyB7anNvbn0gLSBpZiB0aGUgaW5wdXQgaXMgYSB2YWxpZCBKU09OIG9iamVjdCwgb3RoZXJ3aXNlIHJldHVybnMge3VuZGVmaW5lZH1cbiAgICovXG4gIHN0YXRpYyBwYXJzZShpbnB1dCwgcGFydGlhbCkge1xuICAgIGlmICghaW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5wdXQgPSB0eXBlb2YgaW5wdXQgIT09IFwic3RyaW5nXCIgPyBKU09OLnN0cmluZ2lmeShpbnB1dCkgOiBpbnB1dDtcbiAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoL1tcXG5cXHJcXGJcXFxcXSt8KGdhcD4pL2csICcnKTtcbiAgICBsZXQganNvblJlZ2V4ID0gL3soPzpbXl0pKn0vZztcbiAgICBsZXQgbWF0Y2ggPSBqc29uUmVnZXguZXhlYyhpbnB1dCk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBpbnB1dCA9IG1hdGNoWzBdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIGpzb24ubWltZSA9PT0gSnNvblV0aWxzLk1JTUUgfHwgcGFydGlhbCA/IGpzb24gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBzdGF0aWMgZ2V0IE1JTUUoKSB7XG4gICAgcmV0dXJuICdhcHBsaWNhdGlvbi92bmQuZnJhbmN5K2pzb24nO1xuICB9XG59XG4iLCIvKipcbiAqIFRoaXMgY2xhc3MgaXMgYSBzaW5nbGV0b24gdGhhdCBwcm92aWRlcyBhIGxvZ2dlciBmb3IgdGhlIEZyYW5jeSBhcHBsaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9nZ2VyIHtcblxuICAvKipcbiAgICogU2luZ2xldG9uOiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSBsb2dnZXIgYW5kIHdpbGwgcmV0dXJuZWQgdGhhdCBpbnN0YW5jZSxcbiAgICogZXZlcnl0aW1lIGEgbmV3IGluc3RhbmNlIGlzIHJlcXVlc3RlZC5cbiAgICogQHBhcmFtIHZlcmJvc2UgcHJpbnRzIGV4dHJhIGxvZyBpbmZvcm1hdGlvbiB0byBjb25zb2xlLmxvZywgZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgdGhpcy52ZXJib3NlID0gdmVyYm9zZTtcbiAgICB0aGlzLmNvbnNvbGUgPSBjb25zb2xlO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBbREVCVUddIGVudHJ5IGluIHRoZSBjb25zb2xlIGxvZ1xuICAgKiBAcGFyYW0gbWVzc2FnZSB0aGUgbWVzc2FnZSB0byBwcmludFxuICAgKi9cbiAgZGVidWcobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLnZlcmJvc2UpIHtcbiAgICAgIHRoaXMuY29uc29sZS5kZWJ1Zyh0aGlzLl9mb3JtYXQoJ0RFQlVHJywgbWVzc2FnZSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgW0lORk9dIGVudHJ5IGluIHRoZSBjb25zb2xlIGxvZ1xuICAgKiBAcGFyYW0gbWVzc2FnZSB0aGUgbWVzc2FnZSB0byBwcmludFxuICAgKi9cbiAgaW5mbyhtZXNzYWdlKSB7XG4gICAgdGhpcy5jb25zb2xlLmluZm8odGhpcy5fZm9ybWF0KCdJTkZPJywgbWVzc2FnZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBbRVJST1JdIGVudHJ5IGluIHRoZSBjb25zb2xlIGxvZ1xuICAgKiBAcGFyYW0gbWVzc2FnZSB0aGUgbWVzc2FnZSB0byBwcmludFxuICAgKiBAcGFyYW0gZXJyb3IgdGhlIGVycm9yIE9iamVjdCB0byBhdHRhY2ggdG8gdGhlIG1lc3NhZ2VcbiAgICovXG4gIGVycm9yKG1lc3NhZ2UsIGVycm9yKSB7XG4gICAgdGhpcy5jb25zb2xlLmVycm9yKHRoaXMuX2Zvcm1hdCgnRVJST1InLCBtZXNzYWdlKSwgZXJyb3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBbV0FSTl0gZW50cnkgaW4gdGhlIGNvbnNvbGUgbG9nXG4gICAqIEBwYXJhbSBtZXNzYWdlIHRoZSBtZXNzYWdlIHRvIHByaW50XG4gICAqIEBwYXJhbSBlcnJvciB0aGUgZXJyb3IgT2JqZWN0IHRvIGF0dGFjaCB0byB0aGUgbWVzc2FnZVxuICAgKi9cbiAgd2FybihtZXNzYWdlLCBlcnJvcikge1xuICAgIGVycm9yID0gZXJyb3IgfHwge307XG4gICAgdGhpcy5jb25zb2xlLmVycm9yKHRoaXMuX2Zvcm1hdCgnV0FSTicsIG1lc3NhZ2UpLCBlcnJvcik7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyBhIHByaXZhdGUgbWV0aG9kIHRoYXQgZm9ybWF0cyBhbGwgbG9nIG1lc3NhZ2VzXG4gICAqIEBwYXJhbSBtZXNzYWdlIHRoZSBtZXNzYWdlIHRvIHByaW50XG4gICAqL1xuICBfZm9ybWF0KGxldmVsLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIGBbJHtsZXZlbH1dIC0gJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9IC0gJHttZXNzYWdlfWA7XG4gIH1cbn1cbiJdfQ==\n"]}