{"version":3,"sources":["francy.bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_jsonUtils2","_canvas2","_menuMain2","_graph2","_chart2","ALL_CANVAS","Francy","_ref","_ref$verbose","verbose","undefined","appendTo","callbackHandler","instance","TypeError","_classCallCheck","this","d3","options","input","json","parse","canvas","menu","graph","chart","add","element","render","id","node","window","onresize","values","forEach","zoomToFit","selectAll","attr","./render/canvas","./render/chart","./render/graph","./render/menu-main","./util/json-utils","2","_logger2","Base","logger","_ref2","_ref2$verbose","../util/logger","3","_base2","_modalRequired2","CallbackHandler","_Base","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","subClass","superClass","create","constructor","setPrototypeOf","_inherits","config","keys","callback","requiredArgs","./base","./modal-required","4","_composite2","_message2","Canvas","_Composite","zoomed","content","event","transform","parent","select","canvasId","debug","append","width","height","zoom","on","defaultPrevented","stopPropagation","bounds","getBBox","fullWidth","clientWidth","fullHeight","clientHeight","midX","x","midY","y","scale","Math","max","translateX","translateY","transition","duration","zoomIdentity","translate","updateZoom","messages","renderChildren","./composite","./message","5","_renderer2","_tooltip2","BarChart","_Renderer","tooltip","axis","datasets","data","datasetNames","svg","margin","getBoundingClientRect","scaleBand","range","padding","domain","scaleLinear","tmp","concat","d","domainRange","barsGroup","index","bar","exit","remove","enter","style","colors","bandwidth","Dataset","Value","unrender","merge","xAxisGroup","axisBottom","text","title","yAxisGroup","axisLeft","legendGroup","legend","slice","./chart","./renderer","./tooltip","6","LineChart","linesGroup","valueLine","line","7","ScatterChart","scatterGroup","scatter","8","_chartBar2","_chartLine2","_chartScatter2","Chart","type","Array","from","_","map","get","scaleSequential","interpolator","interpolateRainbow","./chart-bar","./chart-line","./chart-scatter","9","Composite","_this","renderers","renderer","push","childrenOptions","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","update","err","return","10","_menuContext2","_callback2","Graph","symbolCircle","symbolCross","symbolDiamond","symbolSquare","symbolTriangle","symbolStar","symbolWye","connectedNodes","neighboring","b","linkedByIndex","preventDefault","toggle","__data__","link","source","executeCallback","callbacks","cb","trigger","execute","contextMenu","canvasNodes","nodes","canvasLinks","links","linkGroup","nodeGroup","symbol","getSymbol","size","highlight","menus","drag","active","simulation","alphaTarget","restart","fx","fy","labelGroup","label","layer","sort","centerForce","forceCenter","manyForce","forceManyBody","strength","linkForce","forceLink","distance","collideForce","forceCollide","forceX","forceY","forceSimulation","force","sqrt","each","alpha","quadTree","quadtree","rb","nx1","nx2","ny1","ny2","visit","quad","x1","y1","x2","y2","point","collide","./callback","./menu-context","11","_menu2","ContextMenu","_Menu","SVGParent","object","_this2","offsetX","offsetY","menusIterator","traverse","./menu","12","_modalAbout2","MainMenu","aboutModal","menuId","html","entry","info","./modal-about","13","Menu","hasNext","menuItem","action","subMenusIterator","array","nextIndex","14","Message","alerts","row","15","AboutModal","modalId","overlay","holder","modal","form","version","syntaxHighlight","JSON","stringify","Jupyter","keyboard_manager","register_events","name","replace","match","cls","test","16","RequiredArgsModal","headerTitle","arg","onchange","checked","footer","checkValidity","focus","17","Renderer","parentNode","18","Tooltip","table","19","JsonUtils","exec","mime","console","error","20","singleton","Logger","arguments","message","_format","_error","level","Date","toISOString"],"mappings":"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","file":"../francy.bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jsonUtils = require('./util/json-utils');\n\nvar _jsonUtils2 = _interopRequireDefault(_jsonUtils);\n\nvar _canvas = require('./render/canvas');\n\nvar _canvas2 = _interopRequireDefault(_canvas);\n\nvar _menuMain = require('./render/menu-main');\n\nvar _menuMain2 = _interopRequireDefault(_menuMain);\n\nvar _graph = require('./render/graph');\n\nvar _graph2 = _interopRequireDefault(_graph);\n\nvar _chart = require('./render/chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n//import Tracker from './tracker/change';\n\nvar ALL_CANVAS = {};\n\n/* global d3 */\n\n/**\n * Francy is the main entry point for the whole framework. By passing an input string/object to the {Francy.handle} function,\n * Francy will handle the creation of that json as long it is a valid and understandable json object to Francy.\n * @access public\n * \n * @version 0.5.0\n * \n * @example\n * let francy = new Francy({verbose: true, appendTo: '#div-id', callbackHandler: console.log});\n * francy.render(json);\n */\n\nvar Francy = function () {\n\n  /**\n   * Creates an instance of Francy with the following options:\n   * @typedef {Object} Options\n   * @property {Boolean} verbose prints extra log information to console.log, default false\n   * @property {Boolean} appendTo where the generated html/svg components will be attached to, default body\n   * @property {Function} callbackHandler this handler will be used to invoke actions from the menu, default console.log\n   */\n  function Francy(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Francy);\n\n    if (!callbackHandler) {\n      throw new Error('A Callback Handler must be provided! This will be used to trigger events from the graphics produced...');\n    }\n    if (!appendTo) {\n      throw new Error('Missing an element or id to append the graphics to...!');\n    }\n    if (!d3) {\n      throw new Error('D3 is not imported! Francy won\\'t work without it... please import D3 v4+.');\n    }\n    /**\n     * @typedef {Object} Options\n     * @property {Boolean} verbose prints extra log information to console.log, default false\n     * @property {Boolean} appendTo where the generated html/svg components will be attached to, default body\n     * @property {Function} callbackHandler this handler will be used to invoke actions from the menu, default console.log\n     */\n    this.options = {\n      verbose: verbose,\n      appendTo: appendTo,\n      callbackHandler: callbackHandler\n    };\n  }\n\n  /**\n   * Main entry point. Calling render passing a json representation string will \n   * trigger the drawing of a json object.\n   * @param {String} input a json string/object render\n   * @returns {Object} the element created\n   */\n\n\n  _createClass(Francy, [{\n    key: 'render',\n    value: function render(input) {\n      var json = _jsonUtils2.default.parse(input);\n      if (json) {\n        //var tracker = new Tracker(json, this.options);\n        //tracker.subscribe(function(obj) { console.log(obj); });\n        //return new Draw(this.options).handle(tracker.object);\n        var canvas = new _canvas2.default(this.options);\n        var menu = new _menuMain2.default(this.options);\n        var graph = new _graph2.default(this.options);\n        var chart = new _chart2.default(this.options);\n        canvas.add(menu);\n        canvas.add(graph);\n        canvas.add(chart);\n        var element = canvas.render(json);\n        ALL_CANVAS[json.canvas.id] = element;\n        return element.node();\n      }\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender(id) {\n      delete ALL_CANVAS[id];\n    }\n  }]);\n\n  return Francy;\n}();\n\nexports.default = Francy;\n\n\ntry {\n  exports.Francy = window.Francy = Francy;\n  // handle events on resize\n  window.onresize = function () {\n    // zoom to fit all canvas on resize\n    Object.values(ALL_CANVAS).forEach(function (canvas) {\n      canvas.zoomToFit();\n    });\n    // adjust top menus on resize\n    d3.selectAll('foreignObject.francy-main-menu-holder').attr('width', '100%');\n  };\n} catch (e) {\n  exports.Francy = Francy;\n}\n\n},{\"./render/canvas\":4,\"./render/chart\":8,\"./render/graph\":10,\"./render/menu-main\":12,\"./util/json-utils\":19}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _logger = require('../util/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Base = function () {\n  function Base(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Base);\n\n    /**\n     * @type {Object}\n     */\n    this.options = {\n      verbose: verbose,\n      appendTo: appendTo,\n      callbackHandler: callbackHandler\n    };\n    /**\n     * @type {Logger}\n     */\n    this.logger = new _logger2.default(this.options);\n  }\n\n  _createClass(Base, [{\n    key: 'update',\n    value: function update(_ref2) {\n      var _ref2$verbose = _ref2.verbose,\n          verbose = _ref2$verbose === undefined ? false : _ref2$verbose,\n          appendTo = _ref2.appendTo,\n          callbackHandler = _ref2.callbackHandler;\n\n      this.options = {\n        verbose: verbose,\n        appendTo: appendTo,\n        callbackHandler: callbackHandler\n      };\n      return this;\n    }\n  }]);\n\n  return Base;\n}();\n\nexports.default = Base;\n\n},{\"../util/logger\":20}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _base = require('./base');\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _modalRequired = require('./modal-required');\n\nvar _modalRequired2 = _interopRequireDefault(_modalRequired);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CallbackHandler = function (_Base) {\n  _inherits(CallbackHandler, _Base);\n\n  function CallbackHandler(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, CallbackHandler);\n\n    return _possibleConstructorReturn(this, (CallbackHandler.__proto__ || Object.getPrototypeOf(CallbackHandler)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(CallbackHandler, [{\n    key: 'execute',\n    value: function execute(config) {\n      if (Object.keys(config.callback.requiredArgs).length) {\n        return new _modalRequired2.default(this.options).render(config);\n      } else {\n        return this.options.callbackHandler(config.callback);\n      }\n    }\n  }]);\n\n  return CallbackHandler;\n}(_base2.default);\n\nexports.default = CallbackHandler;\n\n},{\"./base\":2,\"./modal-required\":16}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _composite = require('./composite');\n\nvar _composite2 = _interopRequireDefault(_composite);\n\nvar _message = require('./message');\n\nvar _message2 = _interopRequireDefault(_message);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar Canvas = function (_Composite) {\n  _inherits(Canvas, _Composite);\n\n  function Canvas(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Canvas);\n\n    return _possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Canvas, [{\n    key: 'render',\n    value: function render(json) {\n      var parent = d3.select(this.options.appendTo);\n\n      var canvasId = json.canvas.id;\n      var canvas = d3.select('svg#' + canvasId);\n      // check if the canvas is already present\n      if (!canvas.node()) {\n        // create a svg element detached from the DOM!\n        this.logger.debug('Creating Canvas [' + canvasId + ']...');\n        canvas = parent.append('svg').attr('id', canvasId).attr('class', 'francy francy-canvas');\n      }\n\n      // cannot continue if canvas is not present\n      if (!canvas.node()) {\n        throw new Error('Oops, could not create canvas with id [' + canvasId + ']... Cannot proceed.');\n      }\n\n      canvas.attr('width', json.canvas.width).attr('height', json.canvas.height);\n\n      var zoom = d3.zoom();\n\n      var content = canvas.select('g.francy-content');\n\n      if (!content.node()) {\n        content = canvas.append('g').attr('class', 'francy-content');\n        zoom.on(\"zoom\", zoomed);\n        canvas.call(zoom).on(\"dblclick.zoom\", null); //.transform, d3.zoomIdentity);\n      }\n\n      canvas.on(\"click\", stopped, true);\n\n      canvas.zoomToFit = function () {\n        var bounds = content.node().getBBox();\n\n        var fullWidth = canvas.node().clientWidth,\n            fullHeight = canvas.node().clientHeight + 45; //well, the menu is part of the canvas +-40px\n\n        var width = bounds.width,\n            height = bounds.height;\n\n        if (width == 0 || height == 0) return;\n\n        var midX = bounds.x + width / 2,\n            midY = bounds.y + height / 2;\n\n        var scale = 0.75 / Math.max(width / fullWidth, height / fullHeight);\n        var translateX = fullWidth / 2 - scale * midX,\n            translateY = fullHeight / 2 - scale * midY;\n\n        content.transition().duration(2000).attr('transform', 'translate(' + translateX + ',' + translateY + ')scale(' + scale + ',' + scale + ')').on('end', function () {\n          return updateZoom(translateX, translateY, scale);\n        });\n      };\n\n      function updateZoom(translateX, translateY, scale) {\n        canvas.call(zoom.transform, d3.zoomIdentity.translate(translateX, translateY).scale(scale, scale));\n      }\n\n      function zoomed() {\n        content.attr(\"transform\", d3.event.transform);\n      }\n\n      function stopped() {\n        if (d3.event.defaultPrevented) {\n          d3.event.stopPropagation();\n        }\n      }\n\n      this.logger.debug('Canvas updated [' + canvasId + ']...');\n\n      // add messages to canvas\n      this.options.appendTo = canvas;\n      var messages = new _message2.default(this.options);\n      messages.render(json.canvas.messages);\n\n      this.renderChildren(canvas, json);\n\n      return canvas;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Canvas;\n}(_composite2.default);\n\nexports.default = Canvas;\n\n},{\"./composite\":9,\"./message\":14}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar BarChart = function (_Renderer) {\n  _inherits(BarChart, _Renderer);\n\n  function BarChart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, BarChart);\n\n    return _possibleConstructorReturn(this, (BarChart.__proto__ || Object.getPrototypeOf(BarChart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(BarChart, [{\n    key: 'render',\n    value: function render(json) {\n\n      // just ignore rendering if no chart is present\n      if (!json.canvas.chart) {\n        this.logger.debug('No BarChart to render here... continuing...');\n        return;\n      }\n\n      var tooltip = new _tooltip2.default(this.options);\n\n      var parent = this.options.appendTo;\n\n      var axis = json.canvas.chart.axis,\n          datasets = json.canvas.chart.data,\n          datasetNames = Object.keys(datasets);\n\n      var svg = parent.select('g.francy-content'),\n          margin = { top: 50, right: 50, bottom: 50, left: 50 },\n          width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      // set the dimensions and margins of the chart\n      width = width - margin.left - margin.right;\n      height = height - margin.top - margin.bottom;\n\n      // set the ranges\n      var x = d3.scaleBand().range([0, width]).padding(0.1).domain(axis.x.domain);\n      var y = d3.scaleLinear().range([height, 0]).domain(axis.y.domain);\n\n      var tmp = [];\n      datasetNames.forEach(function (key) {\n        return tmp = tmp.concat(datasets[key]);\n      });\n\n      if (!axis.y.domain.length) {\n        y.domain([0, d3.max(tmp, function (d) {\n          return d;\n        })]);\n      }\n\n      if (!axis.x.domain.length) {\n        axis.x.domain = _chart2.default.domainRange(tmp.length / datasetNames.length);\n        x.domain(axis.x.domain);\n      }\n\n      var barsGroup = svg.selectAll('g.francy-bars');\n\n      if (!barsGroup.node()) {\n        barsGroup = svg.append('g').attr('class', 'francy-bars');\n      }\n\n      datasetNames.forEach(function (key, index) {\n        var bar = barsGroup.selectAll('.francy-bar' + index).data(datasets[key]);\n\n        bar.exit().remove();\n\n        // append the rectangles for the bar chart\n        bar.enter().append('rect').style('fill', function () {\n          return _chart2.default.colors(index * 5);\n        }).attr('class', 'francy-bar' + index).attr('x', function (d, i) {\n          return x(axis.x.domain[i]) + index * (x.bandwidth() / datasetNames.length);\n        }).attr('width', x.bandwidth() / datasetNames.length - 1).attr('y', function (d) {\n          return y(d);\n        }).attr('height', function (d) {\n          return height - y(d);\n        }).on(\"mouseover\", function (d) {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 0.5);\n          tooltip.render({ 'Dataset': key, 'Value': d });\n        }).on(\"mouseout\", function () {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 1);\n          tooltip.unrender();\n        });\n\n        bar.merge(bar).on('end', function () {\n          return parent.zoomToFit();\n        });\n      });\n\n      // force rebuild axis again\n      var xAxisGroup = svg.selectAll('g.francy-x-axis');\n\n      if (!xAxisGroup.node()) {\n        xAxisGroup = svg.append('g').attr('class', 'francy-x-axis');\n      }\n\n      xAxisGroup.selectAll('*').remove();\n\n      // add the x Axis\n      xAxisGroup.attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x)).append('text').attr('dy', 50).attr('dx', width / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.x.title);\n\n      // force rebuild axis again\n      var yAxisGroup = svg.selectAll('g.francy-y-axis');\n\n      if (!yAxisGroup.node()) {\n        yAxisGroup = svg.append('g').attr('class', 'francy-y-axis');\n      }\n\n      yAxisGroup.selectAll('*').remove();\n\n      // add the y Axis\n      yAxisGroup.call(d3.axisLeft(y)).append('text').attr('dx', -50).attr('dy', height / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.y.title);\n\n      var legendGroup = svg.selectAll('.francy-legend');\n\n      if (!legendGroup.node()) {\n        legendGroup = svg.append('g').attr('class', 'francy-legend');\n      }\n\n      // force rebuild legend again\n      legendGroup.selectAll('*').remove();\n\n      var legend = legendGroup.selectAll('g').data(datasetNames.slice());\n\n      legend.exit().remove();\n\n      legend = legend.enter().append('g').attr('transform', function (d, i) {\n        return 'translate(0,' + i * 20 + ')';\n      }).merge(legend);\n\n      legend.append('rect').attr('x', width + 20).attr('width', 19).attr('height', 19).style('fill', function (d, i) {\n        return _chart2.default.colors(i * 5);\n      });\n\n      legend.append('text').attr('x', width + 80).attr('y', 9).attr('dy', '.35em').style('text-anchor', 'end').text(function (d) {\n        return d;\n      });\n\n      parent.zoomToFit();\n\n      return svg;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return BarChart;\n}(_renderer2.default);\n\nexports.default = BarChart;\n\n},{\"./chart\":8,\"./renderer\":17,\"./tooltip\":18}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar LineChart = function (_Renderer) {\n  _inherits(LineChart, _Renderer);\n\n  function LineChart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, LineChart);\n\n    return _possibleConstructorReturn(this, (LineChart.__proto__ || Object.getPrototypeOf(LineChart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(LineChart, [{\n    key: 'render',\n    value: function render(json) {\n\n      // just ignore rendering if no chart is present\n      if (!json.canvas.chart) {\n        this.logger.debug('No LineChart to render here... continuing...');\n        return;\n      }\n\n      var tooltip = new _tooltip2.default(this.options);\n\n      var parent = this.options.appendTo;\n\n      var axis = json.canvas.chart.axis,\n          datasets = json.canvas.chart.data,\n          datasetNames = Object.keys(datasets);\n\n      var svg = parent.select('g.francy-content'),\n          margin = { top: 50, right: 50, bottom: 50, left: 50 },\n          width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      // set the dimensions and margins of the chart\n      width = width - margin.left - margin.right;\n      height = height - margin.top - margin.bottom;\n\n      // set the ranges\n      var x = d3.scaleLinear().range([0, width]).domain(axis.x.domain);\n      var y = d3.scaleLinear().range([height, 0]).domain(axis.y.domain);\n\n      var tmp = [];\n      datasetNames.forEach(function (key) {\n        return tmp = tmp.concat(datasets[key]);\n      });\n\n      if (!axis.y.domain.length) {\n        y.domain([0, d3.max(tmp, function (d) {\n          return d;\n        })]);\n      }\n\n      if (!axis.x.domain.length) {\n        x.domain([0, tmp.length / datasetNames.length]);\n      }\n\n      var linesGroup = svg.selectAll('g.francy-lines');\n\n      if (!linesGroup.node()) {\n        linesGroup = svg.append('g').attr('class', 'francy-lines');\n      }\n\n      datasetNames.forEach(function (key, index) {\n        var valueLine = d3.line().x(function (d, i) {\n          return x(i);\n        }).y(function (d) {\n          return y(d);\n        });\n\n        var line = linesGroup.selectAll('.line' + index).data([datasets[key]]);\n\n        line.exit().remove();\n\n        // append the rectangles for the bar chart\n        line.enter().append('path').style('stroke', function () {\n          return _chart2.default.colors(index * 5);\n        }).style('stroke-width', '5px').attr('class', 'francy-line' + index).attr('d', valueLine).on(\"mouseover\", function (d) {\n          d3.select(this).transition().duration(250).style(\"stroke-opacity\", 0.5).style('stroke-width', '10px');\n          tooltip.render({ 'Dataset': key, 'Value': d });\n        }).on(\"mouseout\", function () {\n          d3.select(this).transition().duration(250).style(\"stroke-opacity\", 1).style('stroke-width', '5px');\n          tooltip.unrender();\n        });\n\n        line.merge(line);\n      });\n\n      // force rebuild axis again\n      var xAxisGroup = svg.selectAll('g.francy-x-axis');\n\n      if (!xAxisGroup.node()) {\n        xAxisGroup = svg.append('g').attr('class', 'francy-x-axis');\n      }\n\n      xAxisGroup.selectAll('*').remove();\n\n      // add the x Axis\n      xAxisGroup.attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x)).append('text').attr('dy', 50).attr('dx', width / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.x.title);\n\n      // force rebuild axis again\n      var yAxisGroup = svg.selectAll('g.francy-y-axis');\n\n      if (!yAxisGroup.node()) {\n        yAxisGroup = svg.append('g').attr('class', 'francy-y-axis');\n      }\n\n      yAxisGroup.selectAll('*').remove();\n\n      // add the y Axis\n      yAxisGroup.call(d3.axisLeft(y)).append('text').attr('dx', -50).attr('dy', height / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.y.title);\n\n      var legendGroup = svg.selectAll('.francy-legend');\n\n      if (!legendGroup.node()) {\n        legendGroup = svg.append('g').attr('class', 'francy-legend');\n      }\n\n      // force rebuild legend again\n      legendGroup.selectAll('*').remove();\n\n      var legend = legendGroup.selectAll('g').data(datasetNames.slice());\n\n      legend.exit().remove();\n\n      legend = legend.enter().append('g').attr('transform', function (d, i) {\n        return 'translate(0,' + i * 20 + ')';\n      }).merge(legend);\n\n      legend.append('rect').attr('x', width + 20).attr('width', 19).attr('height', 19).style('fill', function (d, i) {\n        return _chart2.default.colors(i * 5);\n      });\n\n      legend.append('text').attr('x', width + 80).attr('y', 9).attr('dy', '.35em').style('text-anchor', 'end').text(function (d) {\n        return d;\n      });\n\n      parent.zoomToFit();\n\n      return svg;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return LineChart;\n}(_renderer2.default);\n\nexports.default = LineChart;\n\n},{\"./chart\":8,\"./renderer\":17,\"./tooltip\":18}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar ScatterChart = function (_Renderer) {\n  _inherits(ScatterChart, _Renderer);\n\n  function ScatterChart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, ScatterChart);\n\n    return _possibleConstructorReturn(this, (ScatterChart.__proto__ || Object.getPrototypeOf(ScatterChart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(ScatterChart, [{\n    key: 'render',\n    value: function render(json) {\n\n      // just ignore rendering if no chart is present\n      if (!json.canvas.chart) {\n        this.logger.debug('No ScatterChart to render here... continuing...');\n        return;\n      }\n\n      var tooltip = new _tooltip2.default(this.options);\n\n      var parent = this.options.appendTo;\n\n      var axis = json.canvas.chart.axis,\n          datasets = json.canvas.chart.data,\n          datasetNames = Object.keys(datasets);\n\n      var svg = parent.select('g.francy-content'),\n          margin = { top: 50, right: 50, bottom: 50, left: 50 },\n          width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      // set the dimensions and margins of the chart\n      width = width - margin.left - margin.right;\n      height = height - margin.top - margin.bottom;\n\n      // set the ranges\n      var x = d3.scaleLinear().range([0, width]).domain(axis.x.domain);\n      var y = d3.scaleLinear().range([height, 0]).domain(axis.y.domain);\n\n      var tmp = [];\n      datasetNames.forEach(function (key) {\n        return tmp = tmp.concat(datasets[key]);\n      });\n\n      if (!axis.y.domain.length) {\n        y.domain([0, d3.max(tmp, function (d) {\n          return d;\n        })]);\n      }\n\n      if (!axis.x.domain.length) {\n        x.domain([0, tmp.length / datasetNames.length]);\n      }\n\n      var scatterGroup = svg.selectAll('g.francy-scatters');\n\n      if (!scatterGroup.node()) {\n        scatterGroup = svg.append('g').attr('class', 'francy-scatters');\n      }\n\n      datasetNames.forEach(function (key, index) {\n        var scatter = scatterGroup.selectAll('.scatter' + index).data(datasets[key]);\n\n        scatter.exit().remove();\n\n        // append the rectangles for the bar chart\n        scatter.enter().append('circle').style('fill', function () {\n          return _chart2.default.colors(index * 5);\n        }).attr('class', 'francy-scatter' + index).attr(\"r\", 5).attr(\"cx\", function (d, i) {\n          return x(i);\n        }).attr(\"cy\", function (d) {\n          return y(d);\n        }).on(\"mouseover\", function (d) {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 0.5).attr('r', 10);\n          tooltip.render({ 'Dataset': key, 'Value': d });\n        }).on(\"mouseout\", function () {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 1).attr('r', 5);\n          tooltip.unrender();\n        });\n\n        scatter.merge(scatter);\n      });\n\n      // force rebuild axis again\n      var xAxisGroup = svg.selectAll('g.francy-x-axis');\n\n      if (!xAxisGroup.node()) {\n        xAxisGroup = svg.append('g').attr('class', 'francy-x-axis');\n      }\n\n      xAxisGroup.selectAll('*').remove();\n\n      // add the x Axis\n      xAxisGroup.attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x)).append('text').attr('dy', 50).attr('dx', width / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.x.title);\n\n      // force rebuild axis again\n      var yAxisGroup = svg.selectAll('g.francy-y-axis');\n\n      if (!yAxisGroup.node()) {\n        yAxisGroup = svg.append('g').attr('class', 'francy-y-axis');\n      }\n\n      yAxisGroup.selectAll('*').remove();\n\n      // add the y Axis\n      yAxisGroup.call(d3.axisLeft(y)).append('text').attr('dx', -50).attr('dy', height / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.y.title);\n\n      var legendGroup = svg.selectAll('.francy-legend');\n\n      if (!legendGroup.node()) {\n        legendGroup = svg.append('g').attr('class', 'francy-legend');\n      }\n\n      // force rebuild legend again\n      legendGroup.selectAll('*').remove();\n\n      var legend = legendGroup.selectAll('g').data(datasetNames.slice());\n\n      legend.exit().remove();\n\n      legend = legend.enter().append('g').attr('transform', function (d, i) {\n        return 'translate(0,' + i * 20 + ')';\n      }).merge(legend);\n\n      legend.append('rect').attr('x', width + 20).attr('width', 19).attr('height', 19).style('fill', function (d, i) {\n        return _chart2.default.colors(i * 5);\n      });\n\n      legend.append('text').attr('x', width + 80).attr('y', 9).attr('dy', '.35em').style('text-anchor', 'end').text(function (d) {\n        return d;\n      });\n\n      parent.zoomToFit();\n\n      return svg;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return ScatterChart;\n}(_renderer2.default);\n\nexports.default = ScatterChart;\n\n},{\"./chart\":8,\"./renderer\":17,\"./tooltip\":18}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _chartBar = require('./chart-bar');\n\nvar _chartBar2 = _interopRequireDefault(_chartBar);\n\nvar _chartLine = require('./chart-line');\n\nvar _chartLine2 = _interopRequireDefault(_chartLine);\n\nvar _chartScatter = require('./chart-scatter');\n\nvar _chartScatter2 = _interopRequireDefault(_chartScatter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar Chart = function (_Renderer) {\n  _inherits(Chart, _Renderer);\n\n  function Chart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Chart);\n\n    return _possibleConstructorReturn(this, (Chart.__proto__ || Object.getPrototypeOf(Chart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Chart, [{\n    key: 'render',\n    value: function render(json) {\n\n      if (!json.canvas.chart) {\n        return;\n      }\n\n      var element = undefined;\n      switch (json.canvas.chart.type) {\n        case \"bar\":\n          element = new _chartBar2.default(this.options).render(json);\n          break;\n        case \"line\":\n          element = new _chartLine2.default(this.options).render(json);\n          break;\n        case \"scatter\":\n          element = new _chartScatter2.default(this.options).render(json);\n          break;\n      }\n\n      return element;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }], [{\n    key: 'domainRange',\n    value: function domainRange(max) {\n      return Array.from(new Array(max), function (_, i) {\n        return i;\n      }).map(function (x) {\n        return x;\n      });\n    }\n  }, {\n    key: 'colors',\n    get: function get() {\n      return d3.scaleSequential().domain([0, 100]).interpolator(d3.interpolateRainbow);\n    }\n  }]);\n\n  return Chart;\n}(_renderer2.default);\n\nexports.default = Chart;\n\n},{\"./chart-bar\":5,\"./chart-line\":6,\"./chart-scatter\":7,\"./renderer\":17}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Composite = function (_Renderer) {\n  _inherits(Composite, _Renderer);\n\n  function Composite(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Composite);\n\n    var _this = _possibleConstructorReturn(this, (Composite.__proto__ || Object.getPrototypeOf(Composite)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    if (new.target === Composite) {\n      throw new TypeError('Cannot construct [Composite] instances directly!');\n    }\n    _this.renderers = [];\n    return _this;\n  }\n\n  _createClass(Composite, [{\n    key: 'add',\n    value: function add(renderer) {\n      this.renderers.push(renderer);\n    }\n  }, {\n    key: 'renderChildren',\n    value: function renderChildren(parent, json) {\n      // update children rendering with a new parent if required!\n      var childrenOptions = this.options;\n      if (parent) {\n        childrenOptions.appendTo = parent;\n      }\n      // render other components\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.renderers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var renderer = _step.value;\n\n          renderer.update(childrenOptions).render(json);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }]);\n\n  return Composite;\n}(_renderer2.default);\n\nexports.default = Composite;\n\n},{\"./renderer\":17}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _menuContext = require('./menu-context');\n\nvar _menuContext2 = _interopRequireDefault(_menuContext);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _callback = require('./callback');\n\nvar _callback2 = _interopRequireDefault(_callback);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar Graph = function (_Renderer) {\n  _inherits(Graph, _Renderer);\n\n  _createClass(Graph, null, [{\n    key: 'getSymbol',\n    value: function getSymbol(type) {\n      if (type === 'circle') {\n        return d3.symbolCircle;\n      } else if (type === 'cross') {\n        return d3.symbolCross;\n      } else if (type === 'diamond') {\n        return d3.symbolDiamond;\n      } else if (type === 'square') {\n        return d3.symbolSquare;\n      } else if (type === 'triangle') {\n        return d3.symbolTriangle;\n      } else if (type === 'star') {\n        return d3.symbolStar;\n      } else if (type === 'wye') {\n        return d3.symbolWye;\n      } else {\n        return d3.symbolCircle;\n      }\n    }\n  }, {\n    key: 'colors',\n    get: function get() {\n      return d3.scaleSequential().domain([0, 100]).interpolator(d3.interpolateRainbow);\n    }\n  }]);\n\n  function Graph(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Graph);\n\n    return _possibleConstructorReturn(this, (Graph.__proto__ || Object.getPrototypeOf(Graph)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Graph, [{\n    key: 'render',\n    value: function render(json) {\n\n      // just ignore rendering if no graph is present\n      if (!json.canvas.graph) {\n        this.logger.debug('No Graph to render here... continuing...');\n        return;\n      }\n\n      var tooltip = new _tooltip2.default(this.options);\n      var contextMenu = new _menuContext2.default(this.options);\n      var callback = new _callback2.default(this.options);\n\n      var parent = this.options.appendTo;\n\n      var canvasNodes = json.canvas.graph.nodes ? Object.values(json.canvas.graph.nodes) : [],\n          canvasLinks = json.canvas.graph.links ? Object.values(json.canvas.graph.links) : [];\n\n      var svg = parent.select('g.francy-content'),\n          width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      var linkGroup = svg.selectAll('g.francy-links');\n\n      if (!linkGroup.node()) {\n        linkGroup = svg.append('g').attr('class', 'francy-links');\n      }\n\n      var link = linkGroup.selectAll('line.francy-link').data(canvasLinks);\n\n      link.exit().remove();\n\n      link = link.enter().append('line').attr('class', 'francy-link').attr('id', function (d) {\n        return d.source + ',' + d.target;\n      }).merge(link);\n\n      if (json.canvas.graph.type === 'directed') {\n        // this means we need arrows, so we append the marker\n        parent.append('defs').selectAll('marker').data(['arrow']).enter().append('marker').attr('class', 'francy-arrows').attr('id', function (d) {\n          return d;\n        }).attr('viewBox', '0 -5 10 10').attr('refX', 25).attr('refY', 0).attr('markerWidth', 10).attr('markerHeight', 10).attr('orient', 'auto').append('path').attr('d', 'M0,-5L10,0L0,5 L10,0 L0, -5');\n        // update the style of the link\n        link.style('marker-end', 'url(#arrow)');\n      }\n\n      var nodeGroup = svg.selectAll('g.francy-nodes');\n\n      if (!nodeGroup.node()) {\n        nodeGroup = svg.append('g').attr('class', 'francy-nodes');\n      }\n\n      var node = nodeGroup.selectAll('path.francy-node').data(canvasNodes);\n\n      node.exit().remove();\n\n      node = node.enter().append('path').attr('d', d3.symbol().type(function (d) {\n        return Graph.getSymbol(d.type);\n      }).size(function (d) {\n        return d.size * 100;\n      })).attr('transform', 'translate(0,0)').attr('class', function (d) {\n        return 'francy-node' + (d.highlight ? ' francy-highlight' : '') + (Object.values(d.menus).length ? ' francy-context' : '');\n      }).attr('id', function (d) {\n        return d.id;\n      }).merge(node);\n\n      node.call(d3.drag().on('start', dragstarted).on('drag', dragged).on('end', dragended)).on('contextmenu', function (d) {\n        // default, build context menu\n        contextMenu.render(d);\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'contextmenu');\n      }).on('click', function (d) {\n        // default, highlight connected nodes\n        connectedNodes.call(this);\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'click');\n      }).on('dblclick', function (d) {\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'dblclick');\n      }).on(\"mouseover\", function (d) {\n        // default, show tooltip\n        tooltip.render(d.messages);\n      }).on(\"mouseout\", function () {\n        // default, hide tooltip\n        tooltip.unrender();\n      });\n\n      var labelGroup = svg.selectAll('.francy-labels');\n\n      if (!labelGroup.node()) {\n        labelGroup = svg.append('g').attr('class', 'francy-labels');\n      }\n\n      var label = labelGroup.selectAll('text').data(canvasNodes);\n\n      label.exit().remove();\n\n      label = label.enter().append('text').attr('class', 'francy-label').text(function (d) {\n        return d.title;\n      }).merge(label);\n\n      label.on('contextmenu', function (d) {\n        // default, build context menu\n        contextMenu.render(d);\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'contextmenu');\n      }).on('click', function (d) {\n        // default, highlight connected nodes\n        connectedNodes.call(this);\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'click');\n      }).on('dblclick', function (d) {\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'dblclick');\n      }).on(\"mouseover\", function (d) {\n        // default, show tooltip\n        tooltip.render(d.messages);\n      }).on(\"mouseout\", function () {\n        // default, hide tooltip\n        tooltip.unrender();\n      });\n\n      var legendGroup = parent.selectAll('.francy-legend');\n\n      if (!legendGroup.node()) {\n        legendGroup = parent.append('g').attr('class', 'francy-legend');\n      }\n\n      // force rebuild legend again\n      legendGroup.selectAll('*').remove();\n\n      var legend = legendGroup.selectAll('g').data(d3.map(canvasNodes, function (d) {\n        return d.layer;\n      }).values().sort(function (a, b) {\n        return a.layer > b.layer;\n      }), function (d) {\n        return d.id;\n      });\n\n      legend.exit().remove();\n\n      legend = legend.enter().append('g').attr('id', function (d) {\n        return 'legendLayer' + d.id;\n      }).attr('transform', function (d, i) {\n        return 'translate(' + 10 + ',' + (i + 5) * 12 + ')';\n      }).merge(legend);\n\n      legend.append('rect').attr('width', 10).attr('height', 8).style('fill', function (d) {\n        return Graph.colors(d.layer * 6);\n      }).style('stroke', function (d) {\n        return Graph.colors(d.layer * 6);\n      });\n\n      legend.append('text').attr('style', 'font-size: 10px;').attr('x', 10 + 5).attr('y', 10 - 2).text(function (d) {\n        return 'Index ' + d.layer;\n      });\n\n      // Canvas Forces\n      var centerForce = d3.forceCenter().x(width / 2).y(height / 2);\n      var manyForce = d3.forceManyBody().strength(-canvasNodes.length * 30);\n      var linkForce = d3.forceLink(canvasLinks).id(function (d) {\n        return d.id;\n      }).distance(50);\n      var collideForce = d3.forceCollide(function (d) {\n        return d.size * 2;\n      });\n\n      //Generic gravity for the X position\n      var forceX = d3.forceX(width / 2).strength(0.05);\n\n      //Generic gravity for the Y position - undirected/directed graphs fall here\n      var forceY = d3.forceY(height / 2).strength(0.25);\n\n      if (json.canvas.graph.type === 'hasse') {\n        //Generic gravity for the X position\n        forceX = d3.forceX(width / 2).strength(0.5);\n        //Strong y positioning based on layer to simulate the hasse diagram\n        forceY = d3.forceY(function (d) {\n          return d.layer * 50;\n        }).strength(5);\n      }\n\n      var simulation = d3.forceSimulation(canvasNodes).force(\"charge\", manyForce).force(\"link\", linkForce).force(\"center\", centerForce).force(\"x\", forceX).force(\"y\", forceY).force(\"collide\", collideForce).on('tick', ticked).on(\"end\", function () {\n        // zoom to fit when simulation is over\n        parent.zoomToFit();\n      });\n\n      //force simulation restart\n      simulation.restart();\n\n      function ticked() {\n        link.attr('x1', function (d) {\n          return d.source.x;\n        }).attr('y1', function (d) {\n          return d.source.y;\n        }).attr('x2', function (d) {\n          return d.target.x;\n        }).attr('y2', function (d) {\n          return d.target.y;\n        });\n\n        node.style('fill', function (d) {\n          return Graph.colors(d.layer * 5);\n        }).attr('transform', function (d) {\n          return 'translate(' + d.x + ',' + d.y + ')';\n        });\n\n        label.attr('x', function (d) {\n          return d.x - d.title.length - Math.sqrt(d.size * d.title.length * 2);\n        }).attr('y', function (d) {\n          return d.y - Math.sqrt(d.size * 2);\n        });\n\n        node.each(collide(1));\n      }\n\n      // COLLISION\n      var padding = 10; // separation between circles;\n\n      function collide(alpha) {\n        var quadTree = d3.quadtree(canvasNodes);\n        return function (d) {\n          var rb = 100 * d.size + padding,\n              nx1 = d.x - rb,\n              nx2 = d.x + rb,\n              ny1 = d.y - rb,\n              ny2 = d.y + rb;\n          quadTree.visit(function (quad, x1, y1, x2, y2) {\n            if (quad.point && quad.point !== d) {\n              var x = d.x - quad.point.x,\n                  y = d.y - quad.point.y,\n                  l = Math.sqrt(x * x + y * y);\n              if (l < rb) {\n                l = (l - rb) / l * alpha;\n                d.x -= x *= l;\n                d.y -= y *= l;\n                quad.point.x += x;\n                quad.point.y += y;\n              }\n            }\n            return x1 > nx2 || x2 < nx1 || y1 > ny2 || y2 < ny1;\n          });\n        };\n      }\n\n      // HIGHLIGHT\n      //Toggle stores whether the highlighting is on\n      var toggle = 0;\n      //Create an array logging what is connected to what\n      var linkedByIndex = {};\n\n      for (var i = 0; i < canvasNodes.length; i++) {\n        linkedByIndex[i + ',' + i] = 1;\n      }\n\n      canvasLinks.forEach(function (d) {\n        linkedByIndex[d.source.index + ',' + d.target.index] = 1;\n      });\n\n      function connectedNodes() {\n        //This function looks up whether a pair are neighbours\n        function neighboring(a, b) {\n          return linkedByIndex[a.index + ',' + b.index];\n        }\n        d3.event.preventDefault();\n        if (toggle === 0) {\n          //Reduce the opacity of all but the neighbouring nodes\n          var d = d3.select(this).node().__data__;\n          node.style('opacity', function (o) {\n            return neighboring(d, o) || neighboring(o, d) ? 1 : 0.1;\n          });\n          link.style('opacity', function (o) {\n            return d.index === o.source.index || d.index === o.target.index ? 1 : 0.1;\n          });\n          //Reduce the op\n          toggle = 1;\n        } else {\n          //Put them back to opacity=1\n          node.style('opacity', 1);\n          link.style('opacity', 1);\n          toggle = 0;\n        }\n      }\n\n      function dragstarted(d) {\n        if (!d3.event.active) {\n          simulation.alphaTarget(0.01).restart();\n        }\n        d.fx = d.x;\n        d.fy = d.y;\n      }\n\n      function dragged(d) {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n      }\n\n      function dragended(d) {\n        if (!d3.event.active) {\n          simulation.alphaTarget(0);\n        }\n        d.fx = null;\n        d.fy = null;\n      }\n\n      function executeCallback(data, event) {\n        if (data.callbacks) {\n          Object.values(data.callbacks).forEach(function (cb) {\n            // execute the ones that match the event!\n            cb.trigger === event && callback.execute({ callback: cb });\n          });\n        }\n      }\n\n      return svg;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Graph;\n}(_renderer2.default);\n\nexports.default = Graph;\n\n},{\"./callback\":3,\"./menu-context\":11,\"./renderer\":17,\"./tooltip\":18}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _menu = require('./menu');\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar ContextMenu = function (_Menu) {\n  _inherits(ContextMenu, _Menu);\n\n  function ContextMenu(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, ContextMenu);\n\n    var _this = _possibleConstructorReturn(this, (ContextMenu.__proto__ || Object.getPrototypeOf(ContextMenu)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    _this.contextMenu = _this.SVGParent.select('foreignObject.francy-context-menu-holder');\n    // check if the window is already present\n    if (!_this.contextMenu.node()) {\n      _this.contextMenu = _this.SVGParent.append('foreignObject').attr('class', 'francy-context-menu-holder');\n    }\n    return _this;\n  }\n\n  _createClass(ContextMenu, [{\n    key: 'render',\n    value: function render(object) {\n      var _this2 = this;\n\n      d3.event.preventDefault();\n\n      // just ignore rendering if no menus are present\n      if (!object.menus || !Object.values(object.menus).length) {\n        this.logger.debug('No ContextMenu to render here... continuing...');\n        return;\n      }\n\n      this.contextMenu.transition().duration(1000).attr('transform', 'translate(' + (d3.event.offsetX + 5) + ',' + (d3.event.offsetY + 5) + ')');\n\n      // show the context menu\n      this.contextMenu.style('display', 'block');\n\n      // check if it exists already\n      if (this.contextMenu.selectAll('*').node()) {\n        return;\n      }\n\n      // destroy menu\n      d3.select('body').on('click.francy-context-menu', function () {\n        return _this2.unrender();\n      });\n\n      // this gets executed when a contextmenu event occurs\n      var menu = this.contextMenu.append('xhtml:div').append('div').attr('class', 'francy-context-menu').append('ul');\n      var menusIterator = this.iterator(Object.values(object.menus));\n      this.traverse(menu, menusIterator);\n\n      return this.contextMenu;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {\n      this.contextMenu.selectAll('*').remove();\n      this.contextMenu.style('display', null);\n    }\n  }]);\n\n  return ContextMenu;\n}(_menu2.default);\n\nexports.default = ContextMenu;\n\n},{\"./menu\":13}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _menu = require('./menu');\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nvar _modalAbout = require('./modal-about');\n\nvar _modalAbout2 = _interopRequireDefault(_modalAbout);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 window */\n\nvar MainMenu = function (_Menu) {\n  _inherits(MainMenu, _Menu);\n\n  function MainMenu(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, MainMenu);\n\n    return _possibleConstructorReturn(this, (MainMenu.__proto__ || Object.getPrototypeOf(MainMenu)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(MainMenu, [{\n    key: 'render',\n    value: function render(json) {\n      var _this2 = this;\n\n      var parent = this.options.appendTo;\n\n      var aboutModal = new _modalAbout2.default(this.options);\n\n      // otherwise clashes with the canvas itself!\n      var menuId = 'M' + json.canvas.id;\n      var menu = d3.select('#' + menuId);\n\n      // Check if the menu is already present\n      if (!menu.node()) {\n        // create a div element detached from the DOM!\n        this.logger.debug('Creating Main Menu [' + menuId + ']...');\n        menu = parent.append('foreignObject').attr('transform', 'translate(0,0)').attr('class', 'francy-main-menu-holder').attr('id', menuId);\n      }\n\n      // Force rebuild menu again\n      menu.selectAll('*').remove();\n\n      menu = menu.append('xhtml:ul').attr('class', 'francy-main-menu');\n\n      if (json.canvas.title) {\n        menu.append('li').attr('class', 'francy-title').append('a').html(json.canvas.title);\n      }\n\n      var entry = menu.append('li');\n      entry.append('a').html('Francy');\n      var content = entry.append('ul');\n      content.append('li').append('a').on('click', function () {\n        return parent.zoomToFit();\n      }).attr('title', 'Zoom to Fit').html('Zoom to Fit');\n      content.append('li').append('a').on('click', function () {\n        return _this2.logger.info('Save to PNG pressed... Not Implemented!');\n      }).attr('title', 'Save to PNG').html('Save to PNG');\n      content.append('li').append('a').on('click', function () {\n        return aboutModal.render(json);\n      }).attr('title', 'About').html('About');\n\n      // Traverse all menus and flatten them!\n      var menusIterator = this.iterator(Object.values(json.canvas.menus));\n      this.traverse(menu, menusIterator);\n\n      this.logger.debug('Main Menu updated [' + menuId + ']...');\n\n      return menu;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return MainMenu;\n}(_menu2.default);\n\nexports.default = MainMenu;\n\n},{\"./menu\":13,\"./modal-about\":15}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _callback = require('./callback');\n\nvar _callback2 = _interopRequireDefault(_callback);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Menu = function (_Renderer) {\n  _inherits(Menu, _Renderer);\n\n  function Menu(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Menu);\n\n    return _possibleConstructorReturn(this, (Menu.__proto__ || Object.getPrototypeOf(Menu)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Menu, [{\n    key: 'traverse',\n    value: function traverse(appendTo, menusIterator) {\n      var _this2 = this;\n\n      while (menusIterator.hasNext()) {\n        var menuItem = menusIterator.next();\n        var entry = appendTo.append('li');\n        var action = entry.selectAll('a').data([menuItem]).enter().append('a').attr('title', menuItem.title).html(menuItem.title);\n        if (menuItem.callback && Object.values(menuItem.callback).length) {\n          action.on('click', function (d) {\n            return new _callback2.default(_this2.options).execute(d);\n          });\n        }\n        if (menuItem.menus && Object.values(menuItem.menus).length > 0) {\n          var content = entry.append('ul');\n          var subMenusIterator = this.iterator(Object.values(menuItem.menus));\n          this.traverse(content, subMenusIterator);\n        }\n      }\n    }\n  }, {\n    key: 'iterator',\n    value: function iterator(array) {\n      var nextIndex = 0;\n      return {\n        next: function next() {\n          return this.hasNext() ? array[nextIndex++] : undefined;\n        },\n        hasNext: function hasNext() {\n          return nextIndex < array.length;\n        }\n      };\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Menu;\n}(_renderer2.default);\n\nexports.default = Menu;\n\n},{\"./callback\":3,\"./renderer\":17}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar Message = function (_Renderer) {\n  _inherits(Message, _Renderer);\n\n  function Message(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Message);\n\n    var _this = _possibleConstructorReturn(this, (Message.__proto__ || Object.getPrototypeOf(Message)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    _this.alerts = _this.SVGParent.select('foreignObject.francy-alerts-holder');\n    // check if the window is already present\n    if (!_this.alerts.node()) {\n      _this.alerts = _this.SVGParent.append('foreignObject').attr('class', 'francy-alerts-holder').attr('transform', 'translate(100,55)').append('xhtml:div').attr('class', 'francy-alerts');\n    } else {\n      _this.alerts = _this.alerts.select('div.francy-alerts');\n    }\n    return _this;\n  }\n\n  _createClass(Message, [{\n    key: 'render',\n    value: function render(messages) {\n\n      // just ignore rendering if no messages are present\n      if (!messages || !Object.values(messages).length) {\n        //this.logger.debug('Nothing to render here... continuing...');\n        return;\n      }\n\n      var self = this;\n\n      Object.keys(messages).map(function (id) {\n        // only render new ones\n        if (!self.alerts.select('div#' + id).node()) {\n          var row = self.alerts.append('div').attr('id', id).attr('class', 'francy-alert ' + messages[id].type).on('click', function () {\n            d3.select(this).style('display', 'none');\n          });\n          row.append('span').attr('class', 'strong').text(messages[id].title);\n          row.append('span').text(messages[id].text);\n          row.append('span').attr('class', 'strong').style('display', 'none').text(\"x\");\n        }\n      });\n\n      this.alerts.style('display', 'block');\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Message;\n}(_renderer2.default);\n\nexports.default = Message;\n\n},{\"./renderer\":17}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 Jupyter */\n\nvar AboutModal = function (_Renderer) {\n  _inherits(AboutModal, _Renderer);\n\n  function AboutModal(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, AboutModal);\n\n    return _possibleConstructorReturn(this, (AboutModal.__proto__ || Object.getPrototypeOf(AboutModal)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(AboutModal, [{\n    key: 'render',\n    value: function render(json) {\n      var modalId = 'AboutModalWindow';\n\n      this.logger.debug('Creating About Modal [' + modalId + ']...');\n\n      // we want to overlay everything, hence 'body' must be used\n      var overlay = d3.select('body').append('div').attr('class', 'francy-overlay');\n      var holder = d3.select('body').append('div').attr('class', 'francy');\n      var modal = holder.append('div').attr('id', modalId).attr('class', 'francy-modal');\n\n      var form = modal.append('form');\n\n      var header = form.append('div').attr('class', 'francy-modal-header');\n\n      header.append('span').html('About Francy v' + json.version);\n\n      var content = form.append('div').attr('class', 'francy-modal-content').append('div').attr('class', 'francy-table').append('div').attr('class', 'francy-table-body');\n\n      content.append('span').text('Loaded Object:');\n      content.append('pre').attr('class', 'francy').html(this.syntaxHighlight(JSON.stringify(json.canvas, null, 2)));\n      content.append('span').append('a').attr('href', 'https://github.com/mcmartins/francy').text('Francy on Github');\n\n      var footer = form.append('div').attr('class', 'francy-modal-footer');\n\n      footer.append('button').text('Ok').on('click', function () {\n        modal.remove();\n        holder.remove();\n        overlay.remove();\n        event.preventDefault();\n        return false;\n      });\n\n      // disable keyboard shortcuts when using this modal in Jupyter\n      try {\n        Jupyter.keyboard_manager.register_events('.francy');\n        Jupyter.keyboard_manager.register_events('.francy-arg');\n        Jupyter.keyboard_manager.register_events('.francy-overlay');\n        Jupyter.keyboard_manager.register_events('.francy-modal');\n      } catch (e) {\n        if (e.name == 'ReferenceError') {\n          self.logger.debug('It seems we\\'re not running on Jupyter...', e);\n        }\n      }\n\n      this.logger.debug('Callback About updated [' + modalId + ']...');\n\n      return modal;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n\n    // credits here: https://stackoverflow.com/questions/4810841/how-can-i-pretty-print-json-using-javascript#answer-7220510\n\n  }, {\n    key: 'syntaxHighlight',\n    value: function syntaxHighlight(json) {\n      json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n      return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/g, function (match) {\n        var cls = 'number';\n        if (/^\"/.test(match)) {\n          if (/:$/.test(match)) {\n            cls = 'key';\n          } else {\n            cls = 'string';\n          }\n        } else if (/true|false/.test(match)) {\n          cls = 'boolean';\n        } else if (/null/.test(match)) {\n          cls = 'null';\n        }\n        return '<span class=\"' + cls + '\">' + match + '</span>';\n      });\n    }\n  }]);\n\n  return AboutModal;\n}(_renderer2.default);\n\nexports.default = AboutModal;\n\n},{\"./renderer\":17}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 Jupyter */\n\nvar RequiredArgsModal = function (_Renderer) {\n  _inherits(RequiredArgsModal, _Renderer);\n\n  function RequiredArgsModal(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, RequiredArgsModal);\n\n    return _possibleConstructorReturn(this, (RequiredArgsModal.__proto__ || Object.getPrototypeOf(RequiredArgsModal)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(RequiredArgsModal, [{\n    key: 'render',\n    value: function render(json) {\n      var self = this;\n\n      var modalId = json.callback.id;\n\n      this.logger.debug('Creating Callback Modal [' + modalId + ']...');\n\n      // we want to overlay everything, hence 'body' must be used\n      var overlay = d3.select('body').append('div').attr('class', 'francy-overlay');\n      var holder = d3.select('body').append('div').attr('class', 'francy');\n      var modal = holder.append('div').attr('id', modalId).attr('class', 'francy-modal');\n\n      var form = modal.append('form');\n\n      var header = form.append('div').attr('class', 'francy-modal-header');\n\n      var headerTitle = header.append('span').html('Required arguments&nbsp;');\n      if (json.title) {\n        headerTitle.append('span').attr('style', 'font-weight: bold;').text('for ' + json.title);\n      }\n\n      var content = form.append('div').attr('class', 'francy-modal-content').append('div').attr('class', 'francy-table').append('div').attr('class', 'francy-table-body');\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = Object.values(json.callback.requiredArgs)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var arg = _step.value;\n\n          var row = content.append('div').attr('class', 'francy-table-row');\n          row.append('div').attr('class', 'francy-table-cell').append('label').attr('for', arg.id).text(arg.title);\n          var input = row.append('div').attr('class', 'francy-table-cell').append('input').attr('id', arg.id).attr('class', 'francy-arg').attr('required', '').attr('name', arg.id).attr('type', arg.type).attr('value', arg.value).on('change', function () {\n            json.callback.requiredArgs[this.id].value = this.value;\n          }).on('input', this.onchange).on('keyup', this.onchange).on('paste', this.onchange);\n          // wait, if it is boolean we create a checkbox\n          if (arg.type === 'boolean') {\n            // well, a checkbox works this way so we need to initialize \n            // the value to false and update the value based on the checked \n            // property that triggers the onchange event\n            arg.value = arg.value || false;\n            input.attr('type', 'checkbox').attr('required', null).attr('value', arg.value).on('change', function () {\n              json.callback.requiredArgs[this.id].value = this.value = this.checked;\n            });\n          }\n          row.append('span').attr('class', 'validity');\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var footer = form.append('div').attr('class', 'francy-modal-footer');\n\n      footer.append('button').text('Ok').on('click', function () {\n        if (form.node().checkValidity()) {\n          self.options.callbackHandler(json.callback);\n          overlay.remove();\n          modal.remove();\n          holder.remove();\n          event.preventDefault();\n        }\n        return false;\n      });\n      footer.append('button').text('Cancel').on('click', function () {\n        event.preventDefault();\n        overlay.remove();\n        modal.remove();\n        holder.remove();\n        return false;\n      });\n\n      // disable keyboard shortcuts when using this modal in Jupyter\n      try {\n        Jupyter.keyboard_manager.register_events('.francy');\n        Jupyter.keyboard_manager.register_events('.francy-arg');\n        Jupyter.keyboard_manager.register_events('.francy-overlay');\n        Jupyter.keyboard_manager.register_events('.francy-modal');\n      } catch (e) {\n        if (e.name == 'ReferenceError') {\n          self.logger.debug('It seems we\\'re not running on Jupyter...', e);\n        }\n      }\n\n      content.selectAll('.francy-arg').node().focus();\n\n      this.logger.debug('Callback Modal updated [' + modalId + ']...');\n\n      return modal;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return RequiredArgsModal;\n}(_renderer2.default);\n\nexports.default = RequiredArgsModal;\n\n},{\"./renderer\":17}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _base = require('./base');\n\nvar _base2 = _interopRequireDefault(_base);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar Renderer = function (_Base) {\n  _inherits(Renderer, _Base);\n\n  function Renderer(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Renderer);\n\n    var _this = _possibleConstructorReturn(this, (Renderer.__proto__ || Object.getPrototypeOf(Renderer)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    if (new.target === Renderer) {\n      throw new TypeError('Cannot construct [Renderer] instances directly!');\n    }\n    if (_this.render === undefined || typeof _this.render !== 'function') {\n      throw new TypeError('Must override [render(json)] method!');\n    }\n    if (_this.unrender === undefined) {\n      _this.logger.debug('No [unrender()] method specified...');\n    }\n    return _this;\n  }\n\n  _createClass(Renderer, [{\n    key: 'HTMLParent',\n    get: function get() {\n      return d3.select(this.options.appendTo.node().parentNode);\n    }\n  }, {\n    key: 'SVGParent',\n    get: function get() {\n      return this.options.appendTo;\n    }\n  }]);\n\n  return Renderer;\n}(_base2.default);\n\nexports.default = Renderer;\n\n},{\"./base\":2}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar Tooltip = function (_Renderer) {\n  _inherits(Tooltip, _Renderer);\n\n  function Tooltip(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Tooltip);\n\n    var _this = _possibleConstructorReturn(this, (Tooltip.__proto__ || Object.getPrototypeOf(Tooltip)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    _this.tooltip = _this.SVGParent.select('foreignObject.francy-tooltip-holder');\n    // check if the window is already present\n    if (!_this.tooltip.node()) {\n      _this.tooltip = _this.SVGParent.append('foreignObject').attr('class', 'francy-tooltip-holder');\n    }\n    return _this;\n  }\n\n  _createClass(Tooltip, [{\n    key: 'render',\n    value: function render(object) {\n\n      // just ignore rendering if no messages are present\n      if (!object || !Object.values(object).length) {\n        //this.logger.debug('Nothing to render here... continuing...');\n        return;\n      }\n\n      // TODO fix always visible tooltip, fine until someone complains about :P\n      this.tooltip.attr('transform', 'translate(' + (d3.event.offsetX + 5) + ',' + (d3.event.offsetY + 5) + ')');\n\n      // check if it exists already\n      if (this.tooltip.selectAll('*').node()) {\n        return;\n      }\n\n      var table = this.tooltip.append('xhtml:div').attr('class', 'francy-tooltip').append('div').attr('class', 'francy-table').append('div').attr('class', 'francy-table-body');\n      Object.keys(object).map(function (key) {\n        var row = table.append('div').attr('class', 'francy-table-row');\n        row.append('div').attr('class', 'francy-table-cell').text(object[key].title);\n        row.append('div').attr('class', 'francy-table-cell').text(object[key].text);\n      });\n\n      // show tooltip\n      this.tooltip.style('display', 'block');\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {\n      this.tooltip.selectAll('*').remove();\n      this.tooltip.style('display', null);\n    }\n  }]);\n\n  return Tooltip;\n}(_renderer2.default);\n\nexports.default = Tooltip;\n\n},{\"./renderer\":17}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * This class contains methods to deal with JSON.\n */\nvar JsonUtils = function () {\n  function JsonUtils() {\n    _classCallCheck(this, JsonUtils);\n  }\n\n  _createClass(JsonUtils, null, [{\n    key: 'parse',\n\n\n    /**\n     * Parses an input nd checks whether this input is valid and returns a JSON object.\n     * @param input - the input to parse\n     * @returns {json} - if the input is a valid JSON object, otherwise returns {undefined}\n     */\n    value: function parse(input) {\n      input = typeof input !== \"string\" ? JSON.stringify(input) : input;\n      input = input.replace(/[\\n\\r\\b\\\\]+|(gap>)/g, '');\n      var jsonRegex = /{(?:[^])*}/g;\n      var match = jsonRegex.exec(input);\n      if (match) {\n        input = match[0];\n        try {\n          var json = JSON.parse(input);\n          return json.mime === 'application/vnd.francy+json' ? json : undefined;\n        } catch (e) {\n          /* eslint-disable no-console */\n          console.error(e);\n          /* eslint-enable no-console */\n        }\n      }\n      return undefined;\n    }\n  }]);\n\n  return JsonUtils;\n}();\n\nexports.default = JsonUtils;\n\n},{}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar singleton = null;\n\n/**\n * This class is a singleton that provides a logger for the Francy application.\n */\n\nvar Logger = function () {\n\n  /**\n   * Singleton: Creates an instance of the logger and will returned that instance,\n   * everytime a new instance is requested.\n   * @param verbose prints extra log information to console.log, default false\n   */\n  function Logger() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose;\n\n    _classCallCheck(this, Logger);\n\n    if (!singleton) {\n      this.verbose = verbose;\n      this.console = console;\n      singleton = this;\n    } else {\n      return singleton;\n    }\n  }\n\n  /**\n   * Creates a [DEBUG] entry in the console log\n   * @param message the message to print\n   */\n\n\n  _createClass(Logger, [{\n    key: 'debug',\n    value: function debug(message) {\n      if (this.verbose) {\n        this.console.debug(this._format('DEBUG', message));\n      }\n    }\n\n    /**\n     * Creates a [INFO] entry in the console log\n     * @param message the message to print\n     */\n\n  }, {\n    key: 'info',\n    value: function info(message) {\n      this.console.info(this._format('INFO', message));\n    }\n\n    /**\n     * Creates a [ERROR] entry in the console log\n     * @param message the message to print\n     * @param error the error Object to attach to the message\n     */\n\n  }, {\n    key: 'error',\n    value: function error(message, _error) {\n      this.console.error(this._format('ERROR', message), _error);\n    }\n\n    /**\n     * Creates a [WARN] entry in the console log\n     * @param message the message to print\n     * @param error the error Object to attach to the message\n     */\n\n  }, {\n    key: 'warn',\n    value: function warn(message, error) {\n      error = error || {};\n      this.console.error(this._format('WARN', message), error);\n    }\n\n    /**\n     * This is a private method that formats all log messages\n     * @param message the message to print\n     */\n\n  }, {\n    key: '_format',\n    value: function _format(level, message) {\n      return '[' + level + '] - ' + new Date().toISOString() + ' - ' + message;\n    }\n  }]);\n\n  return Logger;\n}();\n\nexports.default = Logger;\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvZnJhbmN5LmpzIiwic3JjL3JlbmRlci9iYXNlLmpzIiwic3JjL3JlbmRlci9jYWxsYmFjay5qcyIsInNyYy9yZW5kZXIvY2FudmFzLmpzIiwic3JjL3JlbmRlci9jaGFydC1iYXIuanMiLCJzcmMvcmVuZGVyL2NoYXJ0LWxpbmUuanMiLCJzcmMvcmVuZGVyL2NoYXJ0LXNjYXR0ZXIuanMiLCJzcmMvcmVuZGVyL2NoYXJ0LmpzIiwic3JjL3JlbmRlci9jb21wb3NpdGUuanMiLCJzcmMvcmVuZGVyL2dyYXBoLmpzIiwic3JjL3JlbmRlci9tZW51LWNvbnRleHQuanMiLCJzcmMvcmVuZGVyL21lbnUtbWFpbi5qcyIsInNyYy9yZW5kZXIvbWVudS5qcyIsInNyYy9yZW5kZXIvbWVzc2FnZS5qcyIsInNyYy9yZW5kZXIvbW9kYWwtYWJvdXQuanMiLCJzcmMvcmVuZGVyL21vZGFsLXJlcXVpcmVkLmpzIiwic3JjL3JlbmRlci9yZW5kZXJlci5qcyIsInNyYy9yZW5kZXIvdG9vbHRpcC5qcyIsInNyYy91dGlsL2pzb24tdXRpbHMuanMiLCJzcmMvdXRpbC9sb2dnZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztBQ0FBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0FBQ0E7O0FBRUEsSUFBSSxhQUFhLEVBQWpCOztBQUVBOztBQUVBOzs7Ozs7Ozs7Ozs7SUFXcUIsTTs7QUFFbkI7Ozs7Ozs7QUFPQSx3QkFBNEQ7QUFBQSw0QkFBOUMsT0FBOEM7QUFBQSxRQUE5QyxPQUE4QyxnQ0FBcEMsS0FBb0M7QUFBQSxRQUE3QixRQUE2QixRQUE3QixRQUE2QjtBQUFBLFFBQW5CLGVBQW1CLFFBQW5CLGVBQW1COztBQUFBOztBQUMxRCxRQUFJLENBQUMsZUFBTCxFQUFzQjtBQUNwQixZQUFNLElBQUksS0FBSixDQUFVLHdHQUFWLENBQU47QUFDRDtBQUNELFFBQUksQ0FBQyxRQUFMLEVBQWU7QUFDYixZQUFNLElBQUksS0FBSixDQUFVLHdEQUFWLENBQU47QUFDRDtBQUNELFFBQUksQ0FBQyxFQUFMLEVBQVM7QUFDUCxZQUFNLElBQUksS0FBSixDQUFVLDRFQUFWLENBQU47QUFDRDtBQUNEOzs7Ozs7QUFNQSxTQUFLLE9BQUwsR0FBZTtBQUNiLGVBQVMsT0FESTtBQUViLGdCQUFVLFFBRkc7QUFHYix1QkFBaUI7QUFISixLQUFmO0FBS0Q7O0FBRUQ7Ozs7Ozs7Ozs7MkJBTU8sSyxFQUFPO0FBQ1osVUFBSSxPQUFPLG9CQUFVLEtBQVYsQ0FBZ0IsS0FBaEIsQ0FBWDtBQUNBLFVBQUksSUFBSixFQUFVO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsWUFBSSxTQUFTLHFCQUFXLEtBQUssT0FBaEIsQ0FBYjtBQUNBLFlBQUksT0FBTyx1QkFBYSxLQUFLLE9BQWxCLENBQVg7QUFDQSxZQUFJLFFBQVEsb0JBQVUsS0FBSyxPQUFmLENBQVo7QUFDQSxZQUFJLFFBQVEsb0JBQVUsS0FBSyxPQUFmLENBQVo7QUFDQSxlQUFPLEdBQVAsQ0FBVyxJQUFYO0FBQ0EsZUFBTyxHQUFQLENBQVcsS0FBWDtBQUNBLGVBQU8sR0FBUCxDQUFXLEtBQVg7QUFDQSxZQUFJLFVBQVUsT0FBTyxNQUFQLENBQWMsSUFBZCxDQUFkO0FBQ0EsbUJBQVcsS0FBSyxNQUFMLENBQVksRUFBdkIsSUFBNkIsT0FBN0I7QUFDQSxlQUFPLFFBQVEsSUFBUixFQUFQO0FBQ0Q7QUFDRjs7OzZCQUVRLEUsRUFBSTtBQUNYLGFBQU8sV0FBVyxFQUFYLENBQVA7QUFDRDs7Ozs7O2tCQTNEa0IsTTs7O0FBOERyQixJQUFJO0FBQ0YsVUFBUSxNQUFSLEdBQWlCLE9BQU8sTUFBUCxHQUFnQixNQUFqQztBQUNBO0FBQ0EsU0FBTyxRQUFQLEdBQWtCLFlBQVc7QUFDM0I7QUFDQSxXQUFPLE1BQVAsQ0FBYyxVQUFkLEVBQTBCLE9BQTFCLENBQWtDLFVBQVMsTUFBVCxFQUFpQjtBQUNqRCxhQUFPLFNBQVA7QUFDRCxLQUZEO0FBR0E7QUFDQSxPQUFHLFNBQUgsQ0FBYSx1Q0FBYixFQUFzRCxJQUF0RCxDQUEyRCxPQUEzRCxFQUFvRSxNQUFwRTtBQUNELEdBUEQ7QUFRRCxDQVhELENBWUEsT0FBTyxDQUFQLEVBQVU7QUFDUixVQUFRLE1BQVIsR0FBaUIsTUFBakI7QUFDRDs7Ozs7Ozs7Ozs7QUNsR0Q7Ozs7Ozs7O0lBRXFCLEk7QUFFbkIsc0JBQTREO0FBQUEsNEJBQTlDLE9BQThDO0FBQUEsUUFBOUMsT0FBOEMsZ0NBQXBDLEtBQW9DO0FBQUEsUUFBN0IsUUFBNkIsUUFBN0IsUUFBNkI7QUFBQSxRQUFuQixlQUFtQixRQUFuQixlQUFtQjs7QUFBQTs7QUFDMUQ7OztBQUdBLFNBQUssT0FBTCxHQUFlO0FBQ2IsZUFBUyxPQURJO0FBRWIsZ0JBQVUsUUFGRztBQUdiLHVCQUFpQjtBQUhKLEtBQWY7QUFLQTs7O0FBR0EsU0FBSyxNQUFMLEdBQWMscUJBQVcsS0FBSyxPQUFoQixDQUFkO0FBQ0Q7Ozs7a0NBRXNEO0FBQUEsZ0NBQTlDLE9BQThDO0FBQUEsVUFBOUMsT0FBOEMsaUNBQXBDLEtBQW9DO0FBQUEsVUFBN0IsUUFBNkIsU0FBN0IsUUFBNkI7QUFBQSxVQUFuQixlQUFtQixTQUFuQixlQUFtQjs7QUFDckQsV0FBSyxPQUFMLEdBQWU7QUFDYixpQkFBUyxPQURJO0FBRWIsa0JBQVUsUUFGRztBQUdiLHlCQUFpQjtBQUhKLE9BQWY7QUFLQSxhQUFPLElBQVA7QUFDRDs7Ozs7O2tCQXhCa0IsSTs7Ozs7Ozs7Ozs7QUNGckI7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0lBRXFCLGU7OztBQUVuQixpQ0FBNEQ7QUFBQSw0QkFBOUMsT0FBOEM7QUFBQSxRQUE5QyxPQUE4QyxnQ0FBcEMsS0FBb0M7QUFBQSxRQUE3QixRQUE2QixRQUE3QixRQUE2QjtBQUFBLFFBQW5CLGVBQW1CLFFBQW5CLGVBQW1COztBQUFBOztBQUFBLDZIQUNwRCxFQUFFLFNBQVMsT0FBWCxFQUFvQixVQUFVLFFBQTlCLEVBQXdDLGlCQUFpQixlQUF6RCxFQURvRDtBQUUzRDs7Ozs0QkFFTyxNLEVBQVE7QUFDZCxVQUFJLE9BQU8sSUFBUCxDQUFZLE9BQU8sUUFBUCxDQUFnQixZQUE1QixFQUEwQyxNQUE5QyxFQUFzRDtBQUNwRCxlQUFPLDRCQUFzQixLQUFLLE9BQTNCLEVBQW9DLE1BQXBDLENBQTJDLE1BQTNDLENBQVA7QUFDRCxPQUZELE1BR0s7QUFDSCxlQUFPLEtBQUssT0FBTCxDQUFhLGVBQWIsQ0FBNkIsT0FBTyxRQUFwQyxDQUFQO0FBQ0Q7QUFDRjs7Ozs7O2tCQWJrQixlOzs7Ozs7Ozs7OztBQ0hyQjs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQTs7SUFFcUIsTTs7O0FBRW5CLHdCQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEsMkdBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EO0FBRTNEOzs7OzJCQUVNLEksRUFBTTtBQUNYLFVBQUksU0FBUyxHQUFHLE1BQUgsQ0FBVSxLQUFLLE9BQUwsQ0FBYSxRQUF2QixDQUFiOztBQUVBLFVBQUksV0FBVyxLQUFLLE1BQUwsQ0FBWSxFQUEzQjtBQUNBLFVBQUksU0FBUyxHQUFHLE1BQUgsVUFBaUIsUUFBakIsQ0FBYjtBQUNBO0FBQ0EsVUFBSSxDQUFDLE9BQU8sSUFBUCxFQUFMLEVBQW9CO0FBQ2xCO0FBQ0EsYUFBSyxNQUFMLENBQVksS0FBWix1QkFBc0MsUUFBdEM7QUFDQSxpQkFBUyxPQUFPLE1BQVAsQ0FBYyxLQUFkLEVBQ04sSUFETSxDQUNELElBREMsRUFDSyxRQURMLEVBRU4sSUFGTSxDQUVELE9BRkMsRUFFUSxzQkFGUixDQUFUO0FBR0Q7O0FBRUQ7QUFDQSxVQUFJLENBQUMsT0FBTyxJQUFQLEVBQUwsRUFBb0I7QUFDbEIsY0FBTSxJQUFJLEtBQUosNkNBQW9ELFFBQXBELDBCQUFOO0FBQ0Q7O0FBRUQsYUFBTyxJQUFQLENBQVksT0FBWixFQUFxQixLQUFLLE1BQUwsQ0FBWSxLQUFqQyxFQUF3QyxJQUF4QyxDQUE2QyxRQUE3QyxFQUF1RCxLQUFLLE1BQUwsQ0FBWSxNQUFuRTs7QUFFQSxVQUFJLE9BQU8sR0FBRyxJQUFILEVBQVg7O0FBRUEsVUFBSSxVQUFVLE9BQU8sTUFBUCxDQUFjLGtCQUFkLENBQWQ7O0FBRUEsVUFBSSxDQUFDLFFBQVEsSUFBUixFQUFMLEVBQXFCO0FBQ25CLGtCQUFVLE9BQU8sTUFBUCxDQUFjLEdBQWQsRUFBbUIsSUFBbkIsQ0FBd0IsT0FBeEIsRUFBaUMsZ0JBQWpDLENBQVY7QUFDQSxhQUFLLEVBQUwsQ0FBUSxNQUFSLEVBQWdCLE1BQWhCO0FBQ0EsZUFBTyxJQUFQLENBQVksSUFBWixFQUFrQixFQUFsQixDQUFxQixlQUFyQixFQUFzQyxJQUF0QyxFQUhtQixDQUcwQjtBQUM5Qzs7QUFFRCxhQUFPLEVBQVAsQ0FBVSxPQUFWLEVBQW1CLE9BQW5CLEVBQTRCLElBQTVCOztBQUVBLGFBQU8sU0FBUCxHQUFtQixZQUFXO0FBQzVCLFlBQUksU0FBUyxRQUFRLElBQVIsR0FBZSxPQUFmLEVBQWI7O0FBRUEsWUFBSSxZQUFZLE9BQU8sSUFBUCxHQUFjLFdBQTlCO0FBQUEsWUFDRSxhQUFhLE9BQU8sSUFBUCxHQUFjLFlBQWQsR0FBNkIsRUFENUMsQ0FINEIsQ0FJb0I7O0FBRWhELFlBQUksUUFBUSxPQUFPLEtBQW5CO0FBQUEsWUFDRSxTQUFTLE9BQU8sTUFEbEI7O0FBR0EsWUFBSSxTQUFTLENBQVQsSUFBYyxVQUFVLENBQTVCLEVBQStCOztBQUUvQixZQUFJLE9BQU8sT0FBTyxDQUFQLEdBQVcsUUFBUSxDQUE5QjtBQUFBLFlBQ0UsT0FBTyxPQUFPLENBQVAsR0FBVyxTQUFTLENBRDdCOztBQUdBLFlBQUksUUFBUyxJQUFELEdBQVMsS0FBSyxHQUFMLENBQVMsUUFBUSxTQUFqQixFQUE0QixTQUFTLFVBQXJDLENBQXJCO0FBQ0EsWUFBSSxhQUFhLFlBQVksQ0FBWixHQUFnQixRQUFRLElBQXpDO0FBQUEsWUFDRSxhQUFhLGFBQWEsQ0FBYixHQUFpQixRQUFRLElBRHhDOztBQUdBLGdCQUFRLFVBQVIsR0FDRyxRQURILENBQ1ksSUFEWixFQUVHLElBRkgsQ0FFUSxXQUZSLGlCQUVrQyxVQUZsQyxTQUVnRCxVQUZoRCxlQUVvRSxLQUZwRSxTQUU2RSxLQUY3RSxRQUdHLEVBSEgsQ0FHTSxLQUhOLEVBR2E7QUFBQSxpQkFBTSxXQUFXLFVBQVgsRUFBdUIsVUFBdkIsRUFBbUMsS0FBbkMsQ0FBTjtBQUFBLFNBSGI7QUFJRCxPQXRCRDs7QUF3QkEsZUFBUyxVQUFULENBQW9CLFVBQXBCLEVBQWdDLFVBQWhDLEVBQTRDLEtBQTVDLEVBQW1EO0FBQ2pELGVBQU8sSUFBUCxDQUFZLEtBQUssU0FBakIsRUFBNEIsR0FBRyxZQUFILENBQWdCLFNBQWhCLENBQTBCLFVBQTFCLEVBQXNDLFVBQXRDLEVBQWtELEtBQWxELENBQXdELEtBQXhELEVBQStELEtBQS9ELENBQTVCO0FBQ0Q7O0FBRUQsZUFBUyxNQUFULEdBQWtCO0FBQ2hCLGdCQUFRLElBQVIsQ0FBYSxXQUFiLEVBQTBCLEdBQUcsS0FBSCxDQUFTLFNBQW5DO0FBQ0Q7O0FBRUQsZUFBUyxPQUFULEdBQW1CO0FBQ2pCLFlBQUksR0FBRyxLQUFILENBQVMsZ0JBQWIsRUFBK0I7QUFBRSxhQUFHLEtBQUgsQ0FBUyxlQUFUO0FBQTZCO0FBQy9EOztBQUVELFdBQUssTUFBTCxDQUFZLEtBQVosc0JBQXFDLFFBQXJDOztBQUVBO0FBQ0EsV0FBSyxPQUFMLENBQWEsUUFBYixHQUF3QixNQUF4QjtBQUNBLFVBQUksV0FBVyxzQkFBWSxLQUFLLE9BQWpCLENBQWY7QUFDQSxlQUFTLE1BQVQsQ0FBZ0IsS0FBSyxNQUFMLENBQVksUUFBNUI7O0FBRUEsV0FBSyxjQUFMLENBQW9CLE1BQXBCLEVBQTRCLElBQTVCOztBQUVBLGFBQU8sTUFBUDtBQUNEOzs7K0JBRVUsQ0FBRTs7Ozs7O2tCQXZGTSxNOzs7Ozs7Ozs7OztBQ0xyQjs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7OztBQUVBOztJQUVxQixROzs7QUFFbkIsMEJBQTREO0FBQUEsNEJBQTlDLE9BQThDO0FBQUEsUUFBOUMsT0FBOEMsZ0NBQXBDLEtBQW9DO0FBQUEsUUFBN0IsUUFBNkIsUUFBN0IsUUFBNkI7QUFBQSxRQUFuQixlQUFtQixRQUFuQixlQUFtQjs7QUFBQTs7QUFBQSwrR0FDcEQsRUFBRSxTQUFTLE9BQVgsRUFBb0IsVUFBVSxRQUE5QixFQUF3QyxpQkFBaUIsZUFBekQsRUFEb0Q7QUFFM0Q7Ozs7MkJBRU0sSSxFQUFNOztBQUVYO0FBQ0EsVUFBSSxDQUFDLEtBQUssTUFBTCxDQUFZLEtBQWpCLEVBQXdCO0FBQ3RCLGFBQUssTUFBTCxDQUFZLEtBQVosQ0FBa0IsNkNBQWxCO0FBQ0E7QUFDRDs7QUFFRCxVQUFJLFVBQVUsc0JBQVksS0FBSyxPQUFqQixDQUFkOztBQUVBLFVBQUksU0FBUyxLQUFLLE9BQUwsQ0FBYSxRQUExQjs7QUFFQSxVQUFJLE9BQU8sS0FBSyxNQUFMLENBQVksS0FBWixDQUFrQixJQUE3QjtBQUFBLFVBQ0UsV0FBVyxLQUFLLE1BQUwsQ0FBWSxLQUFaLENBQWtCLElBRC9CO0FBQUEsVUFFRSxlQUFlLE9BQU8sSUFBUCxDQUFZLFFBQVosQ0FGakI7O0FBSUEsVUFBSSxNQUFNLE9BQU8sTUFBUCxDQUFjLGtCQUFkLENBQVY7QUFBQSxVQUNFLFNBQVMsRUFBRSxLQUFLLEVBQVAsRUFBVyxPQUFPLEVBQWxCLEVBQXNCLFFBQVEsRUFBOUIsRUFBa0MsTUFBTSxFQUF4QyxFQURYO0FBQUEsVUFFRSxRQUFRLENBQUMsT0FBTyxJQUFQLENBQVksT0FBWixDQUFELElBQXlCLEdBQUcsTUFBSCxDQUFVLE1BQVYsRUFBa0IsSUFBbEIsR0FBeUIscUJBQXpCLEdBQWlELEtBRnBGO0FBQUEsVUFHRSxTQUFTLENBQUMsT0FBTyxJQUFQLENBQVksUUFBWixDQUFELElBQTBCLEdBQUcsTUFBSCxDQUFVLE1BQVYsRUFBa0IsSUFBbEIsR0FBeUIscUJBQXpCLEdBQWlELE1BSHRGOztBQUtBO0FBQ0EsY0FBUSxRQUFRLE9BQU8sSUFBZixHQUFzQixPQUFPLEtBQXJDO0FBQ0EsZUFBUyxTQUFTLE9BQU8sR0FBaEIsR0FBc0IsT0FBTyxNQUF0Qzs7QUFFQTtBQUNBLFVBQUksSUFBSSxHQUFHLFNBQUgsR0FBZSxLQUFmLENBQXFCLENBQUMsQ0FBRCxFQUFJLEtBQUosQ0FBckIsRUFBaUMsT0FBakMsQ0FBeUMsR0FBekMsRUFBOEMsTUFBOUMsQ0FBcUQsS0FBSyxDQUFMLENBQU8sTUFBNUQsQ0FBUjtBQUNBLFVBQUksSUFBSSxHQUFHLFdBQUgsR0FBaUIsS0FBakIsQ0FBdUIsQ0FBQyxNQUFELEVBQVMsQ0FBVCxDQUF2QixFQUFvQyxNQUFwQyxDQUEyQyxLQUFLLENBQUwsQ0FBTyxNQUFsRCxDQUFSOztBQUVBLFVBQUksTUFBTSxFQUFWO0FBQ0EsbUJBQWEsT0FBYixDQUFxQjtBQUFBLGVBQU8sTUFBTSxJQUFJLE1BQUosQ0FBVyxTQUFTLEdBQVQsQ0FBWCxDQUFiO0FBQUEsT0FBckI7O0FBRUEsVUFBSSxDQUFDLEtBQUssQ0FBTCxDQUFPLE1BQVAsQ0FBYyxNQUFuQixFQUEyQjtBQUN6QixVQUFFLE1BQUYsQ0FBUyxDQUFDLENBQUQsRUFBSSxHQUFHLEdBQUgsQ0FBTyxHQUFQLEVBQVk7QUFBQSxpQkFBSyxDQUFMO0FBQUEsU0FBWixDQUFKLENBQVQ7QUFDRDs7QUFFRCxVQUFJLENBQUMsS0FBSyxDQUFMLENBQU8sTUFBUCxDQUFjLE1BQW5CLEVBQTJCO0FBQ3pCLGFBQUssQ0FBTCxDQUFPLE1BQVAsR0FBZ0IsZ0JBQU0sV0FBTixDQUFrQixJQUFJLE1BQUosR0FBYSxhQUFhLE1BQTVDLENBQWhCO0FBQ0EsVUFBRSxNQUFGLENBQVMsS0FBSyxDQUFMLENBQU8sTUFBaEI7QUFDRDs7QUFFRCxVQUFJLFlBQVksSUFBSSxTQUFKLENBQWMsZUFBZCxDQUFoQjs7QUFFQSxVQUFJLENBQUMsVUFBVSxJQUFWLEVBQUwsRUFBdUI7QUFDckIsb0JBQVksSUFBSSxNQUFKLENBQVcsR0FBWCxFQUFnQixJQUFoQixDQUFxQixPQUFyQixFQUE4QixhQUE5QixDQUFaO0FBQ0Q7O0FBRUQsbUJBQWEsT0FBYixDQUFxQixVQUFTLEdBQVQsRUFBYyxLQUFkLEVBQXFCO0FBQ3hDLFlBQUksTUFBTSxVQUFVLFNBQVYsaUJBQWtDLEtBQWxDLEVBQTJDLElBQTNDLENBQWdELFNBQVMsR0FBVCxDQUFoRCxDQUFWOztBQUVBLFlBQUksSUFBSixHQUFXLE1BQVg7O0FBRUE7QUFDQSxZQUFJLEtBQUosR0FDRyxNQURILENBQ1UsTUFEVixFQUVHLEtBRkgsQ0FFUyxNQUZULEVBRWlCO0FBQUEsaUJBQU0sZ0JBQU0sTUFBTixDQUFhLFFBQVEsQ0FBckIsQ0FBTjtBQUFBLFNBRmpCLEVBR0csSUFISCxDQUdRLE9BSFIsaUJBRzhCLEtBSDlCLEVBSUcsSUFKSCxDQUlRLEdBSlIsRUFJYSxVQUFTLENBQVQsRUFBWSxDQUFaLEVBQWU7QUFBRSxpQkFBTyxFQUFFLEtBQUssQ0FBTCxDQUFPLE1BQVAsQ0FBYyxDQUFkLENBQUYsSUFBc0IsU0FBUyxFQUFFLFNBQUYsS0FBZ0IsYUFBYSxNQUF0QyxDQUE3QjtBQUE2RSxTQUozRyxFQUtHLElBTEgsQ0FLUSxPQUxSLEVBS2tCLEVBQUUsU0FBRixLQUFnQixhQUFhLE1BQTlCLEdBQXdDLENBTHpELEVBTUcsSUFOSCxDQU1RLEdBTlIsRUFNYSxVQUFTLENBQVQsRUFBWTtBQUFFLGlCQUFPLEVBQUUsQ0FBRixDQUFQO0FBQWMsU0FOekMsRUFPRyxJQVBILENBT1EsUUFQUixFQU9rQixVQUFTLENBQVQsRUFBWTtBQUFFLGlCQUFPLFNBQVMsRUFBRSxDQUFGLENBQWhCO0FBQXVCLFNBUHZELEVBUUcsRUFSSCxDQVFNLFdBUk4sRUFRbUIsVUFBUyxDQUFULEVBQVk7QUFDM0IsYUFBRyxNQUFILENBQVUsSUFBVixFQUFnQixVQUFoQixHQUNHLFFBREgsQ0FDWSxHQURaLEVBQ2lCLEtBRGpCLENBQ3VCLGNBRHZCLEVBQ3VDLEdBRHZDO0FBRUEsa0JBQVEsTUFBUixDQUFlLEVBQUUsV0FBVyxHQUFiLEVBQWtCLFNBQVMsQ0FBM0IsRUFBZjtBQUNELFNBWkgsRUFhRyxFQWJILENBYU0sVUFiTixFQWFrQixZQUFXO0FBQ3pCLGFBQUcsTUFBSCxDQUFVLElBQVYsRUFBZ0IsVUFBaEIsR0FDRyxRQURILENBQ1ksR0FEWixFQUNpQixLQURqQixDQUN1QixjQUR2QixFQUN1QyxDQUR2QztBQUVBLGtCQUFRLFFBQVI7QUFDRCxTQWpCSDs7QUFtQkEsWUFBSSxLQUFKLENBQVUsR0FBVixFQUFlLEVBQWYsQ0FBa0IsS0FBbEIsRUFBeUI7QUFBQSxpQkFBTSxPQUFPLFNBQVAsRUFBTjtBQUFBLFNBQXpCO0FBQ0QsT0ExQkQ7O0FBNEJBO0FBQ0EsVUFBSSxhQUFhLElBQUksU0FBSixDQUFjLGlCQUFkLENBQWpCOztBQUVBLFVBQUksQ0FBQyxXQUFXLElBQVgsRUFBTCxFQUF3QjtBQUN0QixxQkFBYSxJQUFJLE1BQUosQ0FBVyxHQUFYLEVBQWdCLElBQWhCLENBQXFCLE9BQXJCLEVBQThCLGVBQTlCLENBQWI7QUFDRDs7QUFFRCxpQkFBVyxTQUFYLENBQXFCLEdBQXJCLEVBQTBCLE1BQTFCOztBQUVBO0FBQ0EsaUJBQ0csSUFESCxDQUNRLFdBRFIsbUJBQ29DLE1BRHBDLFFBRUcsSUFGSCxDQUVRLEdBQUcsVUFBSCxDQUFjLENBQWQsQ0FGUixFQUdHLE1BSEgsQ0FHVSxNQUhWLEVBSUcsSUFKSCxDQUlRLElBSlIsRUFJYyxFQUpkLEVBS0csSUFMSCxDQUtRLElBTFIsRUFLYyxRQUFRLENBTHRCLEVBTUcsSUFOSCxDQU1RLE1BTlIsRUFNZ0IsT0FOaEIsRUFPRyxJQVBILENBT1EsT0FQUixFQU9pQixhQVBqQixFQVFHLEtBUkgsQ0FRUyxhQVJULEVBUXdCLEtBUnhCLEVBU0csSUFUSCxDQVNRLEtBQUssQ0FBTCxDQUFPLEtBVGY7O0FBV0E7QUFDQSxVQUFJLGFBQWEsSUFBSSxTQUFKLENBQWMsaUJBQWQsQ0FBakI7O0FBRUEsVUFBSSxDQUFDLFdBQVcsSUFBWCxFQUFMLEVBQXdCO0FBQ3RCLHFCQUFhLElBQUksTUFBSixDQUFXLEdBQVgsRUFBZ0IsSUFBaEIsQ0FBcUIsT0FBckIsRUFBOEIsZUFBOUIsQ0FBYjtBQUNEOztBQUVELGlCQUFXLFNBQVgsQ0FBcUIsR0FBckIsRUFBMEIsTUFBMUI7O0FBRUE7QUFDQSxpQkFDRyxJQURILENBQ1EsR0FBRyxRQUFILENBQVksQ0FBWixDQURSLEVBRUcsTUFGSCxDQUVVLE1BRlYsRUFHRyxJQUhILENBR1EsSUFIUixFQUdjLENBQUMsRUFIZixFQUlHLElBSkgsQ0FJUSxJQUpSLEVBSWMsU0FBUyxDQUp2QixFQUtHLElBTEgsQ0FLUSxNQUxSLEVBS2dCLE9BTGhCLEVBTUcsSUFOSCxDQU1RLE9BTlIsRUFNaUIsYUFOakIsRUFPRyxLQVBILENBT1MsYUFQVCxFQU93QixLQVB4QixFQVFHLElBUkgsQ0FRUSxLQUFLLENBQUwsQ0FBTyxLQVJmOztBQVVBLFVBQUksY0FBYyxJQUFJLFNBQUosQ0FBYyxnQkFBZCxDQUFsQjs7QUFFQSxVQUFJLENBQUMsWUFBWSxJQUFaLEVBQUwsRUFBeUI7QUFDdkIsc0JBQWMsSUFBSSxNQUFKLENBQVcsR0FBWCxFQUFnQixJQUFoQixDQUFxQixPQUFyQixFQUE4QixlQUE5QixDQUFkO0FBQ0Q7O0FBRUQ7QUFDQSxrQkFBWSxTQUFaLENBQXNCLEdBQXRCLEVBQTJCLE1BQTNCOztBQUVBLFVBQUksU0FBUyxZQUFZLFNBQVosQ0FBc0IsR0FBdEIsRUFBMkIsSUFBM0IsQ0FBZ0MsYUFBYSxLQUFiLEVBQWhDLENBQWI7O0FBRUEsYUFBTyxJQUFQLEdBQWMsTUFBZDs7QUFFQSxlQUFTLE9BQU8sS0FBUCxHQUNOLE1BRE0sQ0FDQyxHQURELEVBRU4sSUFGTSxDQUVELFdBRkMsRUFFWSxVQUFDLENBQUQsRUFBSSxDQUFKO0FBQUEsZ0NBQXlCLElBQUksRUFBN0I7QUFBQSxPQUZaLEVBR04sS0FITSxDQUdBLE1BSEEsQ0FBVDs7QUFLQSxhQUFPLE1BQVAsQ0FBYyxNQUFkLEVBQ0csSUFESCxDQUNRLEdBRFIsRUFDYSxRQUFRLEVBRHJCLEVBRUcsSUFGSCxDQUVRLE9BRlIsRUFFaUIsRUFGakIsRUFHRyxJQUhILENBR1EsUUFIUixFQUdrQixFQUhsQixFQUlHLEtBSkgsQ0FJUyxNQUpULEVBSWlCLFVBQUMsQ0FBRCxFQUFJLENBQUo7QUFBQSxlQUFVLGdCQUFNLE1BQU4sQ0FBYSxJQUFJLENBQWpCLENBQVY7QUFBQSxPQUpqQjs7QUFNQSxhQUFPLE1BQVAsQ0FBYyxNQUFkLEVBQ0csSUFESCxDQUNRLEdBRFIsRUFDYSxRQUFRLEVBRHJCLEVBRUcsSUFGSCxDQUVRLEdBRlIsRUFFYSxDQUZiLEVBR0csSUFISCxDQUdRLElBSFIsRUFHYyxPQUhkLEVBSUcsS0FKSCxDQUlTLGFBSlQsRUFJd0IsS0FKeEIsRUFLRyxJQUxILENBS1E7QUFBQSxlQUFLLENBQUw7QUFBQSxPQUxSOztBQU9BLGFBQU8sU0FBUDs7QUFFQSxhQUFPLEdBQVA7QUFDRDs7OytCQUVVLENBQUU7Ozs7OztrQkE5Sk0sUTs7Ozs7Ozs7Ozs7QUNOckI7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQTs7SUFFcUIsUzs7O0FBRW5CLDJCQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEsaUhBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EO0FBRTNEOzs7OzJCQUVNLEksRUFBTTs7QUFFWDtBQUNBLFVBQUksQ0FBQyxLQUFLLE1BQUwsQ0FBWSxLQUFqQixFQUF3QjtBQUN0QixhQUFLLE1BQUwsQ0FBWSxLQUFaLENBQWtCLDhDQUFsQjtBQUNBO0FBQ0Q7O0FBRUQsVUFBSSxVQUFVLHNCQUFZLEtBQUssT0FBakIsQ0FBZDs7QUFFQSxVQUFJLFNBQVMsS0FBSyxPQUFMLENBQWEsUUFBMUI7O0FBRUEsVUFBSSxPQUFPLEtBQUssTUFBTCxDQUFZLEtBQVosQ0FBa0IsSUFBN0I7QUFBQSxVQUNFLFdBQVcsS0FBSyxNQUFMLENBQVksS0FBWixDQUFrQixJQUQvQjtBQUFBLFVBRUUsZUFBZSxPQUFPLElBQVAsQ0FBWSxRQUFaLENBRmpCOztBQUlBLFVBQUksTUFBTSxPQUFPLE1BQVAsQ0FBYyxrQkFBZCxDQUFWO0FBQUEsVUFDRSxTQUFTLEVBQUUsS0FBSyxFQUFQLEVBQVcsT0FBTyxFQUFsQixFQUFzQixRQUFRLEVBQTlCLEVBQWtDLE1BQU0sRUFBeEMsRUFEWDtBQUFBLFVBRUUsUUFBUSxDQUFDLE9BQU8sSUFBUCxDQUFZLE9BQVosQ0FBRCxJQUF5QixHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLElBQWxCLEdBQXlCLHFCQUF6QixHQUFpRCxLQUZwRjtBQUFBLFVBR0UsU0FBUyxDQUFDLE9BQU8sSUFBUCxDQUFZLFFBQVosQ0FBRCxJQUEwQixHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLElBQWxCLEdBQXlCLHFCQUF6QixHQUFpRCxNQUh0Rjs7QUFLQTtBQUNBLGNBQVEsUUFBUSxPQUFPLElBQWYsR0FBc0IsT0FBTyxLQUFyQztBQUNBLGVBQVMsU0FBUyxPQUFPLEdBQWhCLEdBQXNCLE9BQU8sTUFBdEM7O0FBRUE7QUFDQSxVQUFJLElBQUksR0FBRyxXQUFILEdBQWlCLEtBQWpCLENBQXVCLENBQUMsQ0FBRCxFQUFJLEtBQUosQ0FBdkIsRUFBbUMsTUFBbkMsQ0FBMEMsS0FBSyxDQUFMLENBQU8sTUFBakQsQ0FBUjtBQUNBLFVBQUksSUFBSSxHQUFHLFdBQUgsR0FBaUIsS0FBakIsQ0FBdUIsQ0FBQyxNQUFELEVBQVMsQ0FBVCxDQUF2QixFQUFvQyxNQUFwQyxDQUEyQyxLQUFLLENBQUwsQ0FBTyxNQUFsRCxDQUFSOztBQUVBLFVBQUksTUFBTSxFQUFWO0FBQ0EsbUJBQWEsT0FBYixDQUFxQjtBQUFBLGVBQU8sTUFBTSxJQUFJLE1BQUosQ0FBVyxTQUFTLEdBQVQsQ0FBWCxDQUFiO0FBQUEsT0FBckI7O0FBRUEsVUFBSSxDQUFDLEtBQUssQ0FBTCxDQUFPLE1BQVAsQ0FBYyxNQUFuQixFQUEyQjtBQUN6QixVQUFFLE1BQUYsQ0FBUyxDQUFDLENBQUQsRUFBSSxHQUFHLEdBQUgsQ0FBTyxHQUFQLEVBQVk7QUFBQSxpQkFBSyxDQUFMO0FBQUEsU0FBWixDQUFKLENBQVQ7QUFDRDs7QUFFRCxVQUFJLENBQUMsS0FBSyxDQUFMLENBQU8sTUFBUCxDQUFjLE1BQW5CLEVBQTJCO0FBQ3pCLFVBQUUsTUFBRixDQUFTLENBQUMsQ0FBRCxFQUFJLElBQUksTUFBSixHQUFhLGFBQWEsTUFBOUIsQ0FBVDtBQUNEOztBQUVELFVBQUksYUFBYSxJQUFJLFNBQUosQ0FBYyxnQkFBZCxDQUFqQjs7QUFFQSxVQUFJLENBQUMsV0FBVyxJQUFYLEVBQUwsRUFBd0I7QUFDdEIscUJBQWEsSUFBSSxNQUFKLENBQVcsR0FBWCxFQUFnQixJQUFoQixDQUFxQixPQUFyQixFQUE4QixjQUE5QixDQUFiO0FBQ0Q7O0FBRUQsbUJBQWEsT0FBYixDQUFxQixVQUFTLEdBQVQsRUFBYyxLQUFkLEVBQXFCO0FBQ3hDLFlBQUksWUFBWSxHQUFHLElBQUgsR0FDYixDQURhLENBQ1gsVUFBUyxDQUFULEVBQVksQ0FBWixFQUFlO0FBQUUsaUJBQU8sRUFBRSxDQUFGLENBQVA7QUFBYyxTQURwQixFQUViLENBRmEsQ0FFWCxVQUFTLENBQVQsRUFBWTtBQUFFLGlCQUFPLEVBQUUsQ0FBRixDQUFQO0FBQWMsU0FGakIsQ0FBaEI7O0FBSUEsWUFBSSxPQUFPLFdBQVcsU0FBWCxXQUE2QixLQUE3QixFQUFzQyxJQUF0QyxDQUEyQyxDQUFDLFNBQVMsR0FBVCxDQUFELENBQTNDLENBQVg7O0FBRUEsYUFBSyxJQUFMLEdBQVksTUFBWjs7QUFFQTtBQUNBLGFBQUssS0FBTCxHQUNHLE1BREgsQ0FDVSxNQURWLEVBRUcsS0FGSCxDQUVTLFFBRlQsRUFFbUI7QUFBQSxpQkFBTSxnQkFBTSxNQUFOLENBQWEsUUFBUSxDQUFyQixDQUFOO0FBQUEsU0FGbkIsRUFHRyxLQUhILENBR1MsY0FIVCxFQUd5QixLQUh6QixFQUlHLElBSkgsQ0FJUSxPQUpSLGtCQUkrQixLQUovQixFQUtHLElBTEgsQ0FLUSxHQUxSLEVBS2EsU0FMYixFQU1HLEVBTkgsQ0FNTSxXQU5OLEVBTW1CLFVBQVMsQ0FBVCxFQUFZO0FBQzNCLGFBQUcsTUFBSCxDQUFVLElBQVYsRUFBZ0IsVUFBaEIsR0FDRyxRQURILENBQ1ksR0FEWixFQUVHLEtBRkgsQ0FFUyxnQkFGVCxFQUUyQixHQUYzQixFQUdHLEtBSEgsQ0FHUyxjQUhULEVBR3lCLE1BSHpCO0FBSUEsa0JBQVEsTUFBUixDQUFlLEVBQUUsV0FBVyxHQUFiLEVBQWtCLFNBQVMsQ0FBM0IsRUFBZjtBQUNELFNBWkgsRUFhRyxFQWJILENBYU0sVUFiTixFQWFrQixZQUFXO0FBQ3pCLGFBQUcsTUFBSCxDQUFVLElBQVYsRUFBZ0IsVUFBaEIsR0FDRyxRQURILENBQ1ksR0FEWixFQUVHLEtBRkgsQ0FFUyxnQkFGVCxFQUUyQixDQUYzQixFQUdHLEtBSEgsQ0FHUyxjQUhULEVBR3lCLEtBSHpCO0FBSUEsa0JBQVEsUUFBUjtBQUNELFNBbkJIOztBQXFCQSxhQUFLLEtBQUwsQ0FBVyxJQUFYO0FBQ0QsT0FoQ0Q7O0FBa0NBO0FBQ0EsVUFBSSxhQUFhLElBQUksU0FBSixDQUFjLGlCQUFkLENBQWpCOztBQUVBLFVBQUksQ0FBQyxXQUFXLElBQVgsRUFBTCxFQUF3QjtBQUN0QixxQkFBYSxJQUFJLE1BQUosQ0FBVyxHQUFYLEVBQWdCLElBQWhCLENBQXFCLE9BQXJCLEVBQThCLGVBQTlCLENBQWI7QUFDRDs7QUFFRCxpQkFBVyxTQUFYLENBQXFCLEdBQXJCLEVBQTBCLE1BQTFCOztBQUVBO0FBQ0EsaUJBQ0csSUFESCxDQUNRLFdBRFIsbUJBQ29DLE1BRHBDLFFBRUcsSUFGSCxDQUVRLEdBQUcsVUFBSCxDQUFjLENBQWQsQ0FGUixFQUdHLE1BSEgsQ0FHVSxNQUhWLEVBSUcsSUFKSCxDQUlRLElBSlIsRUFJYyxFQUpkLEVBS0csSUFMSCxDQUtRLElBTFIsRUFLYyxRQUFRLENBTHRCLEVBTUcsSUFOSCxDQU1RLE1BTlIsRUFNZ0IsT0FOaEIsRUFPRyxJQVBILENBT1EsT0FQUixFQU9pQixhQVBqQixFQVFHLEtBUkgsQ0FRUyxhQVJULEVBUXdCLEtBUnhCLEVBU0csSUFUSCxDQVNRLEtBQUssQ0FBTCxDQUFPLEtBVGY7O0FBV0E7QUFDQSxVQUFJLGFBQWEsSUFBSSxTQUFKLENBQWMsaUJBQWQsQ0FBakI7O0FBRUEsVUFBSSxDQUFDLFdBQVcsSUFBWCxFQUFMLEVBQXdCO0FBQ3RCLHFCQUFhLElBQUksTUFBSixDQUFXLEdBQVgsRUFBZ0IsSUFBaEIsQ0FBcUIsT0FBckIsRUFBOEIsZUFBOUIsQ0FBYjtBQUNEOztBQUVELGlCQUFXLFNBQVgsQ0FBcUIsR0FBckIsRUFBMEIsTUFBMUI7O0FBRUE7QUFDQSxpQkFDRyxJQURILENBQ1EsR0FBRyxRQUFILENBQVksQ0FBWixDQURSLEVBRUcsTUFGSCxDQUVVLE1BRlYsRUFHRyxJQUhILENBR1EsSUFIUixFQUdjLENBQUMsRUFIZixFQUlHLElBSkgsQ0FJUSxJQUpSLEVBSWMsU0FBUyxDQUp2QixFQUtHLElBTEgsQ0FLUSxNQUxSLEVBS2dCLE9BTGhCLEVBTUcsSUFOSCxDQU1RLE9BTlIsRUFNaUIsYUFOakIsRUFPRyxLQVBILENBT1MsYUFQVCxFQU93QixLQVB4QixFQVFHLElBUkgsQ0FRUSxLQUFLLENBQUwsQ0FBTyxLQVJmOztBQVVBLFVBQUksY0FBYyxJQUFJLFNBQUosQ0FBYyxnQkFBZCxDQUFsQjs7QUFFQSxVQUFJLENBQUMsWUFBWSxJQUFaLEVBQUwsRUFBeUI7QUFDdkIsc0JBQWMsSUFBSSxNQUFKLENBQVcsR0FBWCxFQUFnQixJQUFoQixDQUFxQixPQUFyQixFQUE4QixlQUE5QixDQUFkO0FBQ0Q7O0FBRUQ7QUFDQSxrQkFBWSxTQUFaLENBQXNCLEdBQXRCLEVBQTJCLE1BQTNCOztBQUVBLFVBQUksU0FBUyxZQUFZLFNBQVosQ0FBc0IsR0FBdEIsRUFBMkIsSUFBM0IsQ0FBZ0MsYUFBYSxLQUFiLEVBQWhDLENBQWI7O0FBRUEsYUFBTyxJQUFQLEdBQWMsTUFBZDs7QUFFQSxlQUFTLE9BQU8sS0FBUCxHQUNOLE1BRE0sQ0FDQyxHQURELEVBRU4sSUFGTSxDQUVELFdBRkMsRUFFWSxVQUFDLENBQUQsRUFBSSxDQUFKO0FBQUEsZ0NBQXlCLElBQUksRUFBN0I7QUFBQSxPQUZaLEVBR04sS0FITSxDQUdBLE1BSEEsQ0FBVDs7QUFLQSxhQUFPLE1BQVAsQ0FBYyxNQUFkLEVBQ0csSUFESCxDQUNRLEdBRFIsRUFDYSxRQUFRLEVBRHJCLEVBRUcsSUFGSCxDQUVRLE9BRlIsRUFFaUIsRUFGakIsRUFHRyxJQUhILENBR1EsUUFIUixFQUdrQixFQUhsQixFQUlHLEtBSkgsQ0FJUyxNQUpULEVBSWlCLFVBQUMsQ0FBRCxFQUFJLENBQUo7QUFBQSxlQUFVLGdCQUFNLE1BQU4sQ0FBYSxJQUFJLENBQWpCLENBQVY7QUFBQSxPQUpqQjs7QUFNQSxhQUFPLE1BQVAsQ0FBYyxNQUFkLEVBQ0csSUFESCxDQUNRLEdBRFIsRUFDYSxRQUFRLEVBRHJCLEVBRUcsSUFGSCxDQUVRLEdBRlIsRUFFYSxDQUZiLEVBR0csSUFISCxDQUdRLElBSFIsRUFHYyxPQUhkLEVBSUcsS0FKSCxDQUlTLGFBSlQsRUFJd0IsS0FKeEIsRUFLRyxJQUxILENBS1E7QUFBQSxlQUFLLENBQUw7QUFBQSxPQUxSOztBQU9BLGFBQU8sU0FBUDs7QUFFQSxhQUFPLEdBQVA7QUFDRDs7OytCQUVVLENBQUU7Ozs7OztrQkFuS00sUzs7Ozs7Ozs7Ozs7QUNOckI7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQTs7SUFFcUIsWTs7O0FBRW5CLDhCQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEsdUhBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EO0FBRTNEOzs7OzJCQUVNLEksRUFBTTs7QUFFWDtBQUNBLFVBQUksQ0FBQyxLQUFLLE1BQUwsQ0FBWSxLQUFqQixFQUF3QjtBQUN0QixhQUFLLE1BQUwsQ0FBWSxLQUFaLENBQWtCLGlEQUFsQjtBQUNBO0FBQ0Q7O0FBRUQsVUFBSSxVQUFVLHNCQUFZLEtBQUssT0FBakIsQ0FBZDs7QUFFQSxVQUFJLFNBQVMsS0FBSyxPQUFMLENBQWEsUUFBMUI7O0FBRUEsVUFBSSxPQUFPLEtBQUssTUFBTCxDQUFZLEtBQVosQ0FBa0IsSUFBN0I7QUFBQSxVQUNFLFdBQVcsS0FBSyxNQUFMLENBQVksS0FBWixDQUFrQixJQUQvQjtBQUFBLFVBRUUsZUFBZSxPQUFPLElBQVAsQ0FBWSxRQUFaLENBRmpCOztBQUlBLFVBQUksTUFBTSxPQUFPLE1BQVAsQ0FBYyxrQkFBZCxDQUFWO0FBQUEsVUFDRSxTQUFTLEVBQUUsS0FBSyxFQUFQLEVBQVcsT0FBTyxFQUFsQixFQUFzQixRQUFRLEVBQTlCLEVBQWtDLE1BQU0sRUFBeEMsRUFEWDtBQUFBLFVBRUUsUUFBUSxDQUFDLE9BQU8sSUFBUCxDQUFZLE9BQVosQ0FBRCxJQUF5QixHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLElBQWxCLEdBQXlCLHFCQUF6QixHQUFpRCxLQUZwRjtBQUFBLFVBR0UsU0FBUyxDQUFDLE9BQU8sSUFBUCxDQUFZLFFBQVosQ0FBRCxJQUEwQixHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLElBQWxCLEdBQXlCLHFCQUF6QixHQUFpRCxNQUh0Rjs7QUFLQTtBQUNBLGNBQVEsUUFBUSxPQUFPLElBQWYsR0FBc0IsT0FBTyxLQUFyQztBQUNBLGVBQVMsU0FBUyxPQUFPLEdBQWhCLEdBQXNCLE9BQU8sTUFBdEM7O0FBRUE7QUFDQSxVQUFJLElBQUksR0FBRyxXQUFILEdBQWlCLEtBQWpCLENBQXVCLENBQUMsQ0FBRCxFQUFJLEtBQUosQ0FBdkIsRUFBbUMsTUFBbkMsQ0FBMEMsS0FBSyxDQUFMLENBQU8sTUFBakQsQ0FBUjtBQUNBLFVBQUksSUFBSSxHQUFHLFdBQUgsR0FBaUIsS0FBakIsQ0FBdUIsQ0FBQyxNQUFELEVBQVMsQ0FBVCxDQUF2QixFQUFvQyxNQUFwQyxDQUEyQyxLQUFLLENBQUwsQ0FBTyxNQUFsRCxDQUFSOztBQUVBLFVBQUksTUFBTSxFQUFWO0FBQ0EsbUJBQWEsT0FBYixDQUFxQjtBQUFBLGVBQU8sTUFBTSxJQUFJLE1BQUosQ0FBVyxTQUFTLEdBQVQsQ0FBWCxDQUFiO0FBQUEsT0FBckI7O0FBRUEsVUFBSSxDQUFDLEtBQUssQ0FBTCxDQUFPLE1BQVAsQ0FBYyxNQUFuQixFQUEyQjtBQUN6QixVQUFFLE1BQUYsQ0FBUyxDQUFDLENBQUQsRUFBSSxHQUFHLEdBQUgsQ0FBTyxHQUFQLEVBQVk7QUFBQSxpQkFBSyxDQUFMO0FBQUEsU0FBWixDQUFKLENBQVQ7QUFDRDs7QUFFRCxVQUFJLENBQUMsS0FBSyxDQUFMLENBQU8sTUFBUCxDQUFjLE1BQW5CLEVBQTJCO0FBQ3pCLFVBQUUsTUFBRixDQUFTLENBQUMsQ0FBRCxFQUFJLElBQUksTUFBSixHQUFhLGFBQWEsTUFBOUIsQ0FBVDtBQUNEOztBQUVELFVBQUksZUFBZSxJQUFJLFNBQUosQ0FBYyxtQkFBZCxDQUFuQjs7QUFFQSxVQUFJLENBQUMsYUFBYSxJQUFiLEVBQUwsRUFBMEI7QUFDeEIsdUJBQWUsSUFBSSxNQUFKLENBQVcsR0FBWCxFQUFnQixJQUFoQixDQUFxQixPQUFyQixFQUE4QixpQkFBOUIsQ0FBZjtBQUNEOztBQUVELG1CQUFhLE9BQWIsQ0FBcUIsVUFBUyxHQUFULEVBQWMsS0FBZCxFQUFxQjtBQUN4QyxZQUFJLFVBQVUsYUFBYSxTQUFiLGNBQWtDLEtBQWxDLEVBQTJDLElBQTNDLENBQWdELFNBQVMsR0FBVCxDQUFoRCxDQUFkOztBQUVBLGdCQUFRLElBQVIsR0FBZSxNQUFmOztBQUVBO0FBQ0EsZ0JBQ0csS0FESCxHQUVHLE1BRkgsQ0FFVSxRQUZWLEVBR0csS0FISCxDQUdTLE1BSFQsRUFHaUI7QUFBQSxpQkFBTSxnQkFBTSxNQUFOLENBQWEsUUFBUSxDQUFyQixDQUFOO0FBQUEsU0FIakIsRUFJRyxJQUpILENBSVEsT0FKUixxQkFJa0MsS0FKbEMsRUFLRyxJQUxILENBS1EsR0FMUixFQUthLENBTGIsRUFNRyxJQU5ILENBTVEsSUFOUixFQU1jLFVBQVMsQ0FBVCxFQUFZLENBQVosRUFBZTtBQUFFLGlCQUFPLEVBQUUsQ0FBRixDQUFQO0FBQWMsU0FON0MsRUFPRyxJQVBILENBT1EsSUFQUixFQU9jLFVBQVMsQ0FBVCxFQUFZO0FBQUUsaUJBQU8sRUFBRSxDQUFGLENBQVA7QUFBYyxTQVAxQyxFQVFHLEVBUkgsQ0FRTSxXQVJOLEVBUW1CLFVBQVMsQ0FBVCxFQUFZO0FBQzNCLGFBQUcsTUFBSCxDQUFVLElBQVYsRUFBZ0IsVUFBaEIsR0FDRyxRQURILENBQ1ksR0FEWixFQUVHLEtBRkgsQ0FFUyxjQUZULEVBRXlCLEdBRnpCLEVBR0csSUFISCxDQUdRLEdBSFIsRUFHYSxFQUhiO0FBSUEsa0JBQVEsTUFBUixDQUFlLEVBQUUsV0FBVyxHQUFiLEVBQWtCLFNBQVMsQ0FBM0IsRUFBZjtBQUNELFNBZEgsRUFlRyxFQWZILENBZU0sVUFmTixFQWVrQixZQUFXO0FBQ3pCLGFBQUcsTUFBSCxDQUFVLElBQVYsRUFBZ0IsVUFBaEIsR0FDRyxRQURILENBQ1ksR0FEWixFQUVHLEtBRkgsQ0FFUyxjQUZULEVBRXlCLENBRnpCLEVBR0csSUFISCxDQUdRLEdBSFIsRUFHYSxDQUhiO0FBSUEsa0JBQVEsUUFBUjtBQUNELFNBckJIOztBQXVCQSxnQkFBUSxLQUFSLENBQWMsT0FBZDtBQUNELE9BOUJEOztBQWdDQTtBQUNBLFVBQUksYUFBYSxJQUFJLFNBQUosQ0FBYyxpQkFBZCxDQUFqQjs7QUFFQSxVQUFJLENBQUMsV0FBVyxJQUFYLEVBQUwsRUFBd0I7QUFDdEIscUJBQWEsSUFBSSxNQUFKLENBQVcsR0FBWCxFQUFnQixJQUFoQixDQUFxQixPQUFyQixFQUE4QixlQUE5QixDQUFiO0FBQ0Q7O0FBRUQsaUJBQVcsU0FBWCxDQUFxQixHQUFyQixFQUEwQixNQUExQjs7QUFFQTtBQUNBLGlCQUNHLElBREgsQ0FDUSxXQURSLG1CQUNvQyxNQURwQyxRQUVHLElBRkgsQ0FFUSxHQUFHLFVBQUgsQ0FBYyxDQUFkLENBRlIsRUFHRyxNQUhILENBR1UsTUFIVixFQUlHLElBSkgsQ0FJUSxJQUpSLEVBSWMsRUFKZCxFQUtHLElBTEgsQ0FLUSxJQUxSLEVBS2MsUUFBUSxDQUx0QixFQU1HLElBTkgsQ0FNUSxNQU5SLEVBTWdCLE9BTmhCLEVBT0csSUFQSCxDQU9RLE9BUFIsRUFPaUIsYUFQakIsRUFRRyxLQVJILENBUVMsYUFSVCxFQVF3QixLQVJ4QixFQVNHLElBVEgsQ0FTUSxLQUFLLENBQUwsQ0FBTyxLQVRmOztBQVdBO0FBQ0EsVUFBSSxhQUFhLElBQUksU0FBSixDQUFjLGlCQUFkLENBQWpCOztBQUVBLFVBQUksQ0FBQyxXQUFXLElBQVgsRUFBTCxFQUF3QjtBQUN0QixxQkFBYSxJQUFJLE1BQUosQ0FBVyxHQUFYLEVBQWdCLElBQWhCLENBQXFCLE9BQXJCLEVBQThCLGVBQTlCLENBQWI7QUFDRDs7QUFFRCxpQkFBVyxTQUFYLENBQXFCLEdBQXJCLEVBQTBCLE1BQTFCOztBQUVBO0FBQ0EsaUJBQ0csSUFESCxDQUNRLEdBQUcsUUFBSCxDQUFZLENBQVosQ0FEUixFQUVHLE1BRkgsQ0FFVSxNQUZWLEVBR0csSUFISCxDQUdRLElBSFIsRUFHYyxDQUFDLEVBSGYsRUFJRyxJQUpILENBSVEsSUFKUixFQUljLFNBQVMsQ0FKdkIsRUFLRyxJQUxILENBS1EsTUFMUixFQUtnQixPQUxoQixFQU1HLElBTkgsQ0FNUSxPQU5SLEVBTWlCLGFBTmpCLEVBT0csS0FQSCxDQU9TLGFBUFQsRUFPd0IsS0FQeEIsRUFRRyxJQVJILENBUVEsS0FBSyxDQUFMLENBQU8sS0FSZjs7QUFVQSxVQUFJLGNBQWMsSUFBSSxTQUFKLENBQWMsZ0JBQWQsQ0FBbEI7O0FBRUEsVUFBSSxDQUFDLFlBQVksSUFBWixFQUFMLEVBQXlCO0FBQ3ZCLHNCQUFjLElBQUksTUFBSixDQUFXLEdBQVgsRUFBZ0IsSUFBaEIsQ0FBcUIsT0FBckIsRUFBOEIsZUFBOUIsQ0FBZDtBQUNEOztBQUVEO0FBQ0Esa0JBQVksU0FBWixDQUFzQixHQUF0QixFQUEyQixNQUEzQjs7QUFFQSxVQUFJLFNBQVMsWUFBWSxTQUFaLENBQXNCLEdBQXRCLEVBQTJCLElBQTNCLENBQWdDLGFBQWEsS0FBYixFQUFoQyxDQUFiOztBQUVBLGFBQU8sSUFBUCxHQUFjLE1BQWQ7O0FBRUEsZUFBUyxPQUFPLEtBQVAsR0FDTixNQURNLENBQ0MsR0FERCxFQUVOLElBRk0sQ0FFRCxXQUZDLEVBRVksVUFBQyxDQUFELEVBQUksQ0FBSjtBQUFBLGdDQUF5QixJQUFJLEVBQTdCO0FBQUEsT0FGWixFQUdOLEtBSE0sQ0FHQSxNQUhBLENBQVQ7O0FBS0EsYUFBTyxNQUFQLENBQWMsTUFBZCxFQUNHLElBREgsQ0FDUSxHQURSLEVBQ2EsUUFBUSxFQURyQixFQUVHLElBRkgsQ0FFUSxPQUZSLEVBRWlCLEVBRmpCLEVBR0csSUFISCxDQUdRLFFBSFIsRUFHa0IsRUFIbEIsRUFJRyxLQUpILENBSVMsTUFKVCxFQUlpQixVQUFDLENBQUQsRUFBSSxDQUFKO0FBQUEsZUFBVSxnQkFBTSxNQUFOLENBQWEsSUFBSSxDQUFqQixDQUFWO0FBQUEsT0FKakI7O0FBTUEsYUFBTyxNQUFQLENBQWMsTUFBZCxFQUNHLElBREgsQ0FDUSxHQURSLEVBQ2EsUUFBUSxFQURyQixFQUVHLElBRkgsQ0FFUSxHQUZSLEVBRWEsQ0FGYixFQUdHLElBSEgsQ0FHUSxJQUhSLEVBR2MsT0FIZCxFQUlHLEtBSkgsQ0FJUyxhQUpULEVBSXdCLEtBSnhCLEVBS0csSUFMSCxDQUtRO0FBQUEsZUFBSyxDQUFMO0FBQUEsT0FMUjs7QUFPQSxhQUFPLFNBQVA7O0FBRUEsYUFBTyxHQUFQO0FBQ0Q7OzsrQkFFVSxDQUFFOzs7Ozs7a0JBaktNLFk7Ozs7Ozs7Ozs7O0FDTnJCOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQTs7SUFFcUIsSzs7O0FBRW5CLHVCQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEseUdBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EO0FBRTNEOzs7OzJCQUVNLEksRUFBTTs7QUFFWCxVQUFJLENBQUMsS0FBSyxNQUFMLENBQVksS0FBakIsRUFBd0I7QUFDdEI7QUFDRDs7QUFFRCxVQUFJLFVBQVUsU0FBZDtBQUNBLGNBQVEsS0FBSyxNQUFMLENBQVksS0FBWixDQUFrQixJQUExQjtBQUNFLGFBQUssS0FBTDtBQUNFLG9CQUFVLHVCQUFhLEtBQUssT0FBbEIsRUFBMkIsTUFBM0IsQ0FBa0MsSUFBbEMsQ0FBVjtBQUNBO0FBQ0YsYUFBSyxNQUFMO0FBQ0Usb0JBQVUsd0JBQWMsS0FBSyxPQUFuQixFQUE0QixNQUE1QixDQUFtQyxJQUFuQyxDQUFWO0FBQ0E7QUFDRixhQUFLLFNBQUw7QUFDRSxvQkFBVSwyQkFBaUIsS0FBSyxPQUF0QixFQUErQixNQUEvQixDQUFzQyxJQUF0QyxDQUFWO0FBQ0E7QUFUSjs7QUFZQSxhQUFPLE9BQVA7QUFDRDs7OytCQVVVLENBQUU7OztnQ0FKTSxHLEVBQUs7QUFDdEIsYUFBTyxNQUFNLElBQU4sQ0FBVyxJQUFJLEtBQUosQ0FBVSxHQUFWLENBQVgsRUFBMkIsVUFBQyxDQUFELEVBQUksQ0FBSjtBQUFBLGVBQVUsQ0FBVjtBQUFBLE9BQTNCLEVBQXdDLEdBQXhDLENBQTRDO0FBQUEsZUFBSyxDQUFMO0FBQUEsT0FBNUMsQ0FBUDtBQUNEOzs7d0JBTm1CO0FBQ2xCLGFBQU8sR0FBRyxlQUFILEdBQXFCLE1BQXJCLENBQTRCLENBQUMsQ0FBRCxFQUFJLEdBQUosQ0FBNUIsRUFBc0MsWUFBdEMsQ0FBbUQsR0FBRyxrQkFBdEQsQ0FBUDtBQUNEOzs7Ozs7a0JBOUJrQixLOzs7Ozs7Ozs7OztBQ1ByQjs7Ozs7Ozs7Ozs7O0lBRXFCLFM7OztBQUVuQiwyQkFBNEQ7QUFBQSw0QkFBOUMsT0FBOEM7QUFBQSxRQUE5QyxPQUE4QyxnQ0FBcEMsS0FBb0M7QUFBQSxRQUE3QixRQUE2QixRQUE3QixRQUE2QjtBQUFBLFFBQW5CLGVBQW1CLFFBQW5CLGVBQW1COztBQUFBOztBQUFBLHNIQUNwRCxFQUFFLFNBQVMsT0FBWCxFQUFvQixVQUFVLFFBQTlCLEVBQXdDLGlCQUFpQixlQUF6RCxFQURvRDs7QUFFMUQsUUFBSSxJQUFJLE1BQUosS0FBZSxTQUFuQixFQUE4QjtBQUM1QixZQUFNLElBQUksU0FBSixDQUFjLGtEQUFkLENBQU47QUFDRDtBQUNELFVBQUssU0FBTCxHQUFpQixFQUFqQjtBQUwwRDtBQU0zRDs7Ozt3QkFFRyxRLEVBQVU7QUFDWixXQUFLLFNBQUwsQ0FBZSxJQUFmLENBQW9CLFFBQXBCO0FBQ0Q7OzttQ0FFYyxNLEVBQVEsSSxFQUFNO0FBQzNCO0FBQ0EsVUFBSSxrQkFBa0IsS0FBSyxPQUEzQjtBQUNBLFVBQUksTUFBSixFQUFZO0FBQ1Ysd0JBQWdCLFFBQWhCLEdBQTJCLE1BQTNCO0FBQ0Q7QUFDRDtBQU4yQjtBQUFBO0FBQUE7O0FBQUE7QUFPM0IsNkJBQXFCLEtBQUssU0FBMUIsOEhBQXFDO0FBQUEsY0FBNUIsUUFBNEI7O0FBQ25DLG1CQUFTLE1BQVQsQ0FBZ0IsZUFBaEIsRUFBaUMsTUFBakMsQ0FBd0MsSUFBeEM7QUFDRDtBQVQwQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVTVCOzs7Ozs7a0JBeEJrQixTOzs7Ozs7Ozs7OztBQ0ZyQjs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0FBRUE7O0lBRXFCLEs7Ozs7OzhCQU9GLEksRUFBTTtBQUNyQixVQUFJLFNBQVMsUUFBYixFQUF1QjtBQUNyQixlQUFPLEdBQUcsWUFBVjtBQUNELE9BRkQsTUFHSyxJQUFJLFNBQVMsT0FBYixFQUFzQjtBQUN6QixlQUFPLEdBQUcsV0FBVjtBQUNELE9BRkksTUFHQSxJQUFJLFNBQVMsU0FBYixFQUF3QjtBQUMzQixlQUFPLEdBQUcsYUFBVjtBQUNELE9BRkksTUFHQSxJQUFJLFNBQVMsUUFBYixFQUF1QjtBQUMxQixlQUFPLEdBQUcsWUFBVjtBQUNELE9BRkksTUFHQSxJQUFJLFNBQVMsVUFBYixFQUF5QjtBQUM1QixlQUFPLEdBQUcsY0FBVjtBQUNELE9BRkksTUFHQSxJQUFJLFNBQVMsTUFBYixFQUFxQjtBQUN4QixlQUFPLEdBQUcsVUFBVjtBQUNELE9BRkksTUFHQSxJQUFJLFNBQVMsS0FBYixFQUFvQjtBQUN2QixlQUFPLEdBQUcsU0FBVjtBQUNELE9BRkksTUFHQTtBQUNILGVBQU8sR0FBRyxZQUFWO0FBQ0Q7QUFDRjs7O3dCQTdCbUI7QUFDbEIsYUFBTyxHQUFHLGVBQUgsR0FBcUIsTUFBckIsQ0FBNEIsQ0FBQyxDQUFELEVBQUksR0FBSixDQUE1QixFQUFzQyxZQUF0QyxDQUFtRCxHQUFHLGtCQUF0RCxDQUFQO0FBQ0Q7OztBQTZCRCx1QkFBNEQ7QUFBQSw0QkFBOUMsT0FBOEM7QUFBQSxRQUE5QyxPQUE4QyxnQ0FBcEMsS0FBb0M7QUFBQSxRQUE3QixRQUE2QixRQUE3QixRQUE2QjtBQUFBLFFBQW5CLGVBQW1CLFFBQW5CLGVBQW1COztBQUFBOztBQUFBLHlHQUNwRCxFQUFFLFNBQVMsT0FBWCxFQUFvQixVQUFVLFFBQTlCLEVBQXdDLGlCQUFpQixlQUF6RCxFQURvRDtBQUUzRDs7OzsyQkFFTSxJLEVBQU07O0FBRVg7QUFDQSxVQUFJLENBQUMsS0FBSyxNQUFMLENBQVksS0FBakIsRUFBd0I7QUFDdEIsYUFBSyxNQUFMLENBQVksS0FBWixDQUFrQiwwQ0FBbEI7QUFDQTtBQUNEOztBQUVELFVBQUksVUFBVSxzQkFBWSxLQUFLLE9BQWpCLENBQWQ7QUFDQSxVQUFJLGNBQWMsMEJBQWdCLEtBQUssT0FBckIsQ0FBbEI7QUFDQSxVQUFJLFdBQVcsdUJBQWEsS0FBSyxPQUFsQixDQUFmOztBQUVBLFVBQUksU0FBUyxLQUFLLE9BQUwsQ0FBYSxRQUExQjs7QUFFQSxVQUFJLGNBQWMsS0FBSyxNQUFMLENBQVksS0FBWixDQUFrQixLQUFsQixHQUEwQixPQUFPLE1BQVAsQ0FBYyxLQUFLLE1BQUwsQ0FBWSxLQUFaLENBQWtCLEtBQWhDLENBQTFCLEdBQW1FLEVBQXJGO0FBQUEsVUFDRSxjQUFjLEtBQUssTUFBTCxDQUFZLEtBQVosQ0FBa0IsS0FBbEIsR0FBMEIsT0FBTyxNQUFQLENBQWMsS0FBSyxNQUFMLENBQVksS0FBWixDQUFrQixLQUFoQyxDQUExQixHQUFtRSxFQURuRjs7QUFHQSxVQUFJLE1BQU0sT0FBTyxNQUFQLENBQWMsa0JBQWQsQ0FBVjtBQUFBLFVBQ0UsUUFBUSxDQUFDLE9BQU8sSUFBUCxDQUFZLE9BQVosQ0FBRCxJQUF5QixHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLElBQWxCLEdBQXlCLHFCQUF6QixHQUFpRCxLQURwRjtBQUFBLFVBRUUsU0FBUyxDQUFDLE9BQU8sSUFBUCxDQUFZLFFBQVosQ0FBRCxJQUEwQixHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLElBQWxCLEdBQXlCLHFCQUF6QixHQUFpRCxNQUZ0Rjs7QUFJQSxVQUFJLFlBQVksSUFBSSxTQUFKLENBQWMsZ0JBQWQsQ0FBaEI7O0FBRUEsVUFBSSxDQUFDLFVBQVUsSUFBVixFQUFMLEVBQXVCO0FBQ3JCLG9CQUFZLElBQUksTUFBSixDQUFXLEdBQVgsRUFBZ0IsSUFBaEIsQ0FBcUIsT0FBckIsRUFBOEIsY0FBOUIsQ0FBWjtBQUNEOztBQUVELFVBQUksT0FBTyxVQUFVLFNBQVYsQ0FBb0Isa0JBQXBCLEVBQXdDLElBQXhDLENBQTZDLFdBQTdDLENBQVg7O0FBRUEsV0FBSyxJQUFMLEdBQVksTUFBWjs7QUFFQSxhQUFPLEtBQUssS0FBTCxHQUFhLE1BQWIsQ0FBb0IsTUFBcEIsRUFDSixJQURJLENBQ0MsT0FERCxFQUNVLGFBRFYsRUFFSixJQUZJLENBRUMsSUFGRCxFQUVPO0FBQUEsZUFBUSxFQUFFLE1BQVYsU0FBb0IsRUFBRSxNQUF0QjtBQUFBLE9BRlAsRUFHSixLQUhJLENBR0UsSUFIRixDQUFQOztBQUtBLFVBQUksS0FBSyxNQUFMLENBQVksS0FBWixDQUFrQixJQUFsQixLQUEyQixVQUEvQixFQUEyQztBQUN6QztBQUNBLGVBQU8sTUFBUCxDQUFjLE1BQWQsRUFBc0IsU0FBdEIsQ0FBZ0MsUUFBaEMsRUFDRyxJQURILENBQ1EsQ0FBQyxPQUFELENBRFIsRUFFRyxLQUZILEdBRVcsTUFGWCxDQUVrQixRQUZsQixFQUdHLElBSEgsQ0FHUSxPQUhSLEVBR2lCLGVBSGpCLEVBSUcsSUFKSCxDQUlRLElBSlIsRUFJYztBQUFBLGlCQUFLLENBQUw7QUFBQSxTQUpkLEVBS0csSUFMSCxDQUtRLFNBTFIsRUFLbUIsWUFMbkIsRUFNRyxJQU5ILENBTVEsTUFOUixFQU1nQixFQU5oQixFQU9HLElBUEgsQ0FPUSxNQVBSLEVBT2dCLENBUGhCLEVBUUcsSUFSSCxDQVFRLGFBUlIsRUFRdUIsRUFSdkIsRUFTRyxJQVRILENBU1EsY0FUUixFQVN3QixFQVR4QixFQVVHLElBVkgsQ0FVUSxRQVZSLEVBVWtCLE1BVmxCLEVBV0csTUFYSCxDQVdVLE1BWFYsRUFZRyxJQVpILENBWVEsR0FaUixFQVlhLDZCQVpiO0FBYUE7QUFDQSxhQUFLLEtBQUwsQ0FBVyxZQUFYLEVBQXlCLGFBQXpCO0FBQ0Q7O0FBRUQsVUFBSSxZQUFZLElBQUksU0FBSixDQUFjLGdCQUFkLENBQWhCOztBQUVBLFVBQUksQ0FBQyxVQUFVLElBQVYsRUFBTCxFQUF1QjtBQUNyQixvQkFBWSxJQUFJLE1BQUosQ0FBVyxHQUFYLEVBQWdCLElBQWhCLENBQXFCLE9BQXJCLEVBQThCLGNBQTlCLENBQVo7QUFDRDs7QUFFRCxVQUFJLE9BQU8sVUFBVSxTQUFWLENBQW9CLGtCQUFwQixFQUF3QyxJQUF4QyxDQUE2QyxXQUE3QyxDQUFYOztBQUVBLFdBQUssSUFBTCxHQUFZLE1BQVo7O0FBRUEsYUFBTyxLQUFLLEtBQUwsR0FBYSxNQUFiLENBQW9CLE1BQXBCLEVBQ0osSUFESSxDQUNDLEdBREQsRUFDTSxHQUFHLE1BQUgsR0FBWSxJQUFaLENBQWlCO0FBQUEsZUFBSyxNQUFNLFNBQU4sQ0FBZ0IsRUFBRSxJQUFsQixDQUFMO0FBQUEsT0FBakIsRUFBK0MsSUFBL0MsQ0FBb0Q7QUFBQSxlQUFLLEVBQUUsSUFBRixHQUFTLEdBQWQ7QUFBQSxPQUFwRCxDQUROLEVBRUosSUFGSSxDQUVDLFdBRkQsRUFFYyxnQkFGZCxFQUdKLElBSEksQ0FHQyxPQUhELEVBR1U7QUFBQSxlQUFLLGlCQUFpQixFQUFFLFNBQUYsR0FBYyxtQkFBZCxHQUFvQyxFQUFyRCxLQUE0RCxPQUFPLE1BQVAsQ0FBYyxFQUFFLEtBQWhCLEVBQXVCLE1BQXZCLEdBQWdDLGlCQUFoQyxHQUFvRCxFQUFoSCxDQUFMO0FBQUEsT0FIVixFQUlKLElBSkksQ0FJQyxJQUpELEVBSU87QUFBQSxlQUFLLEVBQUUsRUFBUDtBQUFBLE9BSlAsRUFLSixLQUxJLENBS0UsSUFMRixDQUFQOztBQU9BLFdBQUssSUFBTCxDQUFVLEdBQUcsSUFBSCxHQUNMLEVBREssQ0FDRixPQURFLEVBQ08sV0FEUCxFQUVMLEVBRkssQ0FFRixNQUZFLEVBRU0sT0FGTixFQUdMLEVBSEssQ0FHRixLQUhFLEVBR0ssU0FITCxDQUFWLEVBSUcsRUFKSCxDQUlNLGFBSk4sRUFJcUIsVUFBUyxDQUFULEVBQVk7QUFDN0I7QUFDQSxvQkFBWSxNQUFaLENBQW1CLENBQW5CO0FBQ0E7QUFDQSx3QkFBZ0IsSUFBaEIsQ0FBcUIsSUFBckIsRUFBMkIsQ0FBM0IsRUFBOEIsYUFBOUI7QUFDRCxPQVRILEVBVUcsRUFWSCxDQVVNLE9BVk4sRUFVZSxVQUFTLENBQVQsRUFBWTtBQUN2QjtBQUNBLHVCQUFlLElBQWYsQ0FBb0IsSUFBcEI7QUFDQTtBQUNBLHdCQUFnQixJQUFoQixDQUFxQixJQUFyQixFQUEyQixDQUEzQixFQUE4QixPQUE5QjtBQUNELE9BZkgsRUFnQkcsRUFoQkgsQ0FnQk0sVUFoQk4sRUFnQmtCLFVBQVMsQ0FBVCxFQUFZO0FBQzFCO0FBQ0Esd0JBQWdCLElBQWhCLENBQXFCLElBQXJCLEVBQTJCLENBQTNCLEVBQThCLFVBQTlCO0FBQ0QsT0FuQkgsRUFvQkcsRUFwQkgsQ0FvQk0sV0FwQk4sRUFvQm1CLGFBQUs7QUFDcEI7QUFDQSxnQkFBUSxNQUFSLENBQWUsRUFBRSxRQUFqQjtBQUNELE9BdkJILEVBd0JHLEVBeEJILENBd0JNLFVBeEJOLEVBd0JrQixZQUFNO0FBQ3BCO0FBQ0EsZ0JBQVEsUUFBUjtBQUNELE9BM0JIOztBQTZCQSxVQUFJLGFBQWEsSUFBSSxTQUFKLENBQWMsZ0JBQWQsQ0FBakI7O0FBRUEsVUFBSSxDQUFDLFdBQVcsSUFBWCxFQUFMLEVBQXdCO0FBQ3RCLHFCQUFhLElBQUksTUFBSixDQUFXLEdBQVgsRUFBZ0IsSUFBaEIsQ0FBcUIsT0FBckIsRUFBOEIsZUFBOUIsQ0FBYjtBQUNEOztBQUVELFVBQUksUUFBUSxXQUFXLFNBQVgsQ0FBcUIsTUFBckIsRUFBNkIsSUFBN0IsQ0FBa0MsV0FBbEMsQ0FBWjs7QUFFQSxZQUFNLElBQU4sR0FBYSxNQUFiOztBQUVBLGNBQVEsTUFBTSxLQUFOLEdBQWMsTUFBZCxDQUFxQixNQUFyQixFQUNMLElBREssQ0FDQSxPQURBLEVBQ1MsY0FEVCxFQUVMLElBRkssQ0FFQTtBQUFBLGVBQUssRUFBRSxLQUFQO0FBQUEsT0FGQSxFQUdMLEtBSEssQ0FHQyxLQUhELENBQVI7O0FBS0EsWUFDRyxFQURILENBQ00sYUFETixFQUNxQixVQUFTLENBQVQsRUFBWTtBQUM3QjtBQUNBLG9CQUFZLE1BQVosQ0FBbUIsQ0FBbkI7QUFDQTtBQUNBLHdCQUFnQixJQUFoQixDQUFxQixJQUFyQixFQUEyQixDQUEzQixFQUE4QixhQUE5QjtBQUNELE9BTkgsRUFPRyxFQVBILENBT00sT0FQTixFQU9lLFVBQVMsQ0FBVCxFQUFZO0FBQ3ZCO0FBQ0EsdUJBQWUsSUFBZixDQUFvQixJQUFwQjtBQUNBO0FBQ0Esd0JBQWdCLElBQWhCLENBQXFCLElBQXJCLEVBQTJCLENBQTNCLEVBQThCLE9BQTlCO0FBQ0QsT0FaSCxFQWFHLEVBYkgsQ0FhTSxVQWJOLEVBYWtCLFVBQVMsQ0FBVCxFQUFZO0FBQzFCO0FBQ0Esd0JBQWdCLElBQWhCLENBQXFCLElBQXJCLEVBQTJCLENBQTNCLEVBQThCLFVBQTlCO0FBQ0QsT0FoQkgsRUFpQkcsRUFqQkgsQ0FpQk0sV0FqQk4sRUFpQm1CLGFBQUs7QUFDcEI7QUFDQSxnQkFBUSxNQUFSLENBQWUsRUFBRSxRQUFqQjtBQUNELE9BcEJILEVBcUJHLEVBckJILENBcUJNLFVBckJOLEVBcUJrQixZQUFNO0FBQ3BCO0FBQ0EsZ0JBQVEsUUFBUjtBQUNELE9BeEJIOztBQTBCQSxVQUFJLGNBQWMsT0FBTyxTQUFQLENBQWlCLGdCQUFqQixDQUFsQjs7QUFFQSxVQUFJLENBQUMsWUFBWSxJQUFaLEVBQUwsRUFBeUI7QUFDdkIsc0JBQWMsT0FBTyxNQUFQLENBQWMsR0FBZCxFQUFtQixJQUFuQixDQUF3QixPQUF4QixFQUFpQyxlQUFqQyxDQUFkO0FBQ0Q7O0FBRUQ7QUFDQSxrQkFBWSxTQUFaLENBQXNCLEdBQXRCLEVBQTJCLE1BQTNCOztBQUVBLFVBQUksU0FBUyxZQUFZLFNBQVosQ0FBc0IsR0FBdEIsRUFDVixJQURVLENBQ0wsR0FBRyxHQUFILENBQU8sV0FBUCxFQUFvQjtBQUFBLGVBQUssRUFBRSxLQUFQO0FBQUEsT0FBcEIsRUFBa0MsTUFBbEMsR0FBMkMsSUFBM0MsQ0FBZ0QsVUFBQyxDQUFELEVBQUksQ0FBSjtBQUFBLGVBQVUsRUFBRSxLQUFGLEdBQVUsRUFBRSxLQUF0QjtBQUFBLE9BQWhELENBREssRUFDeUU7QUFBQSxlQUFLLEVBQUUsRUFBUDtBQUFBLE9BRHpFLENBQWI7O0FBR0EsYUFBTyxJQUFQLEdBQWMsTUFBZDs7QUFFQSxlQUFTLE9BQU8sS0FBUCxHQUNOLE1BRE0sQ0FDQyxHQURELEVBRU4sSUFGTSxDQUVELElBRkMsRUFFSztBQUFBLCtCQUFtQixFQUFFLEVBQXJCO0FBQUEsT0FGTCxFQUdOLElBSE0sQ0FHRCxXQUhDLEVBR1ksVUFBQyxDQUFELEVBQUksQ0FBSjtBQUFBLDhCQUF1QixFQUF2QixTQUE2QixDQUFDLElBQUksQ0FBTCxJQUFVLEVBQXZDO0FBQUEsT0FIWixFQUlOLEtBSk0sQ0FJQSxNQUpBLENBQVQ7O0FBTUEsYUFBTyxNQUFQLENBQWMsTUFBZCxFQUNHLElBREgsQ0FDUSxPQURSLEVBQ2lCLEVBRGpCLEVBRUcsSUFGSCxDQUVRLFFBRlIsRUFFa0IsQ0FGbEIsRUFHRyxLQUhILENBR1MsTUFIVCxFQUdpQjtBQUFBLGVBQUssTUFBTSxNQUFOLENBQWEsRUFBRSxLQUFGLEdBQVUsQ0FBdkIsQ0FBTDtBQUFBLE9BSGpCLEVBSUcsS0FKSCxDQUlTLFFBSlQsRUFJbUI7QUFBQSxlQUFLLE1BQU0sTUFBTixDQUFhLEVBQUUsS0FBRixHQUFVLENBQXZCLENBQUw7QUFBQSxPQUpuQjs7QUFNQSxhQUFPLE1BQVAsQ0FBYyxNQUFkLEVBQ0csSUFESCxDQUNRLE9BRFIsRUFDaUIsa0JBRGpCLEVBRUcsSUFGSCxDQUVRLEdBRlIsRUFFYSxLQUFLLENBRmxCLEVBR0csSUFISCxDQUdRLEdBSFIsRUFHYSxLQUFLLENBSGxCLEVBSUcsSUFKSCxDQUlRO0FBQUEsMEJBQWMsRUFBRSxLQUFoQjtBQUFBLE9BSlI7O0FBTUE7QUFDQSxVQUFJLGNBQWMsR0FBRyxXQUFILEdBQWlCLENBQWpCLENBQW1CLFFBQVEsQ0FBM0IsRUFBOEIsQ0FBOUIsQ0FBZ0MsU0FBUyxDQUF6QyxDQUFsQjtBQUNBLFVBQUksWUFBWSxHQUFHLGFBQUgsR0FBbUIsUUFBbkIsQ0FBNEIsQ0FBQyxZQUFZLE1BQWIsR0FBc0IsRUFBbEQsQ0FBaEI7QUFDQSxVQUFJLFlBQVksR0FBRyxTQUFILENBQWEsV0FBYixFQUEwQixFQUExQixDQUE2QjtBQUFBLGVBQUssRUFBRSxFQUFQO0FBQUEsT0FBN0IsRUFBd0MsUUFBeEMsQ0FBaUQsRUFBakQsQ0FBaEI7QUFDQSxVQUFJLGVBQWUsR0FBRyxZQUFILENBQWdCO0FBQUEsZUFBSyxFQUFFLElBQUYsR0FBUyxDQUFkO0FBQUEsT0FBaEIsQ0FBbkI7O0FBRUE7QUFDQSxVQUFJLFNBQVMsR0FBRyxNQUFILENBQVUsUUFBUSxDQUFsQixFQUFxQixRQUFyQixDQUE4QixJQUE5QixDQUFiOztBQUVBO0FBQ0EsVUFBSSxTQUFTLEdBQUcsTUFBSCxDQUFVLFNBQVMsQ0FBbkIsRUFBc0IsUUFBdEIsQ0FBK0IsSUFBL0IsQ0FBYjs7QUFFQSxVQUFJLEtBQUssTUFBTCxDQUFZLEtBQVosQ0FBa0IsSUFBbEIsS0FBMkIsT0FBL0IsRUFBd0M7QUFDdEM7QUFDQSxpQkFBUyxHQUFHLE1BQUgsQ0FBVSxRQUFRLENBQWxCLEVBQXFCLFFBQXJCLENBQThCLEdBQTlCLENBQVQ7QUFDQTtBQUNBLGlCQUFTLEdBQUcsTUFBSCxDQUFVO0FBQUEsaUJBQUssRUFBRSxLQUFGLEdBQVUsRUFBZjtBQUFBLFNBQVYsRUFBNkIsUUFBN0IsQ0FBc0MsQ0FBdEMsQ0FBVDtBQUNEOztBQUVELFVBQUksYUFBYSxHQUFHLGVBQUgsQ0FBbUIsV0FBbkIsRUFDZCxLQURjLENBQ1IsUUFEUSxFQUNFLFNBREYsRUFFZCxLQUZjLENBRVIsTUFGUSxFQUVBLFNBRkEsRUFHZCxLQUhjLENBR1IsUUFIUSxFQUdFLFdBSEYsRUFJZCxLQUpjLENBSVIsR0FKUSxFQUlILE1BSkcsRUFLZCxLQUxjLENBS1IsR0FMUSxFQUtILE1BTEcsRUFNZCxLQU5jLENBTVIsU0FOUSxFQU1HLFlBTkgsRUFPZCxFQVBjLENBT1gsTUFQVyxFQU9ILE1BUEcsRUFRZCxFQVJjLENBUVgsS0FSVyxFQVFKLFlBQVc7QUFDcEI7QUFDQSxlQUFPLFNBQVA7QUFDRCxPQVhjLENBQWpCOztBQWFBO0FBQ0EsaUJBQVcsT0FBWDs7QUFFQSxlQUFTLE1BQVQsR0FBa0I7QUFDaEIsYUFDRyxJQURILENBQ1EsSUFEUixFQUNjO0FBQUEsaUJBQUssRUFBRSxNQUFGLENBQVMsQ0FBZDtBQUFBLFNBRGQsRUFFRyxJQUZILENBRVEsSUFGUixFQUVjO0FBQUEsaUJBQUssRUFBRSxNQUFGLENBQVMsQ0FBZDtBQUFBLFNBRmQsRUFHRyxJQUhILENBR1EsSUFIUixFQUdjO0FBQUEsaUJBQUssRUFBRSxNQUFGLENBQVMsQ0FBZDtBQUFBLFNBSGQsRUFJRyxJQUpILENBSVEsSUFKUixFQUljO0FBQUEsaUJBQUssRUFBRSxNQUFGLENBQVMsQ0FBZDtBQUFBLFNBSmQ7O0FBTUEsYUFDRyxLQURILENBQ1MsTUFEVCxFQUNpQjtBQUFBLGlCQUFLLE1BQU0sTUFBTixDQUFhLEVBQUUsS0FBRixHQUFVLENBQXZCLENBQUw7QUFBQSxTQURqQixFQUVHLElBRkgsQ0FFUSxXQUZSLEVBRXFCO0FBQUEsZ0NBQWtCLEVBQUUsQ0FBcEIsU0FBeUIsRUFBRSxDQUEzQjtBQUFBLFNBRnJCOztBQUlBLGNBQ0csSUFESCxDQUNRLEdBRFIsRUFDYTtBQUFBLGlCQUFLLEVBQUUsQ0FBRixHQUFNLEVBQUUsS0FBRixDQUFRLE1BQWQsR0FBdUIsS0FBSyxJQUFMLENBQVUsRUFBRSxJQUFGLEdBQVMsRUFBRSxLQUFGLENBQVEsTUFBakIsR0FBMEIsQ0FBcEMsQ0FBNUI7QUFBQSxTQURiLEVBRUcsSUFGSCxDQUVRLEdBRlIsRUFFYTtBQUFBLGlCQUFLLEVBQUUsQ0FBRixHQUFNLEtBQUssSUFBTCxDQUFVLEVBQUUsSUFBRixHQUFTLENBQW5CLENBQVg7QUFBQSxTQUZiOztBQUlBLGFBQUssSUFBTCxDQUFVLFFBQVEsQ0FBUixDQUFWO0FBQ0Q7O0FBRUQ7QUFDQSxVQUFJLFVBQVUsRUFBZCxDQXBPVyxDQW9PTzs7QUFFbEIsZUFBUyxPQUFULENBQWlCLEtBQWpCLEVBQXdCO0FBQ3RCLFlBQUksV0FBVyxHQUFHLFFBQUgsQ0FBWSxXQUFaLENBQWY7QUFDQSxlQUFPLFVBQVMsQ0FBVCxFQUFZO0FBQ2pCLGNBQUksS0FBSyxNQUFNLEVBQUUsSUFBUixHQUFlLE9BQXhCO0FBQUEsY0FDRSxNQUFNLEVBQUUsQ0FBRixHQUFNLEVBRGQ7QUFBQSxjQUVFLE1BQU0sRUFBRSxDQUFGLEdBQU0sRUFGZDtBQUFBLGNBR0UsTUFBTSxFQUFFLENBQUYsR0FBTSxFQUhkO0FBQUEsY0FJRSxNQUFNLEVBQUUsQ0FBRixHQUFNLEVBSmQ7QUFLQSxtQkFBUyxLQUFULENBQWUsVUFBUyxJQUFULEVBQWUsRUFBZixFQUFtQixFQUFuQixFQUF1QixFQUF2QixFQUEyQixFQUEzQixFQUErQjtBQUM1QyxnQkFBSSxLQUFLLEtBQUwsSUFBZSxLQUFLLEtBQUwsS0FBZSxDQUFsQyxFQUFzQztBQUNwQyxrQkFBSSxJQUFJLEVBQUUsQ0FBRixHQUFNLEtBQUssS0FBTCxDQUFXLENBQXpCO0FBQUEsa0JBQ0UsSUFBSSxFQUFFLENBQUYsR0FBTSxLQUFLLEtBQUwsQ0FBVyxDQUR2QjtBQUFBLGtCQUVFLElBQUksS0FBSyxJQUFMLENBQVUsSUFBSSxDQUFKLEdBQVEsSUFBSSxDQUF0QixDQUZOO0FBR0Esa0JBQUksSUFBSSxFQUFSLEVBQVk7QUFDVixvQkFBSSxDQUFDLElBQUksRUFBTCxJQUFXLENBQVgsR0FBZSxLQUFuQjtBQUNBLGtCQUFFLENBQUYsSUFBTyxLQUFLLENBQVo7QUFDQSxrQkFBRSxDQUFGLElBQU8sS0FBSyxDQUFaO0FBQ0EscUJBQUssS0FBTCxDQUFXLENBQVgsSUFBZ0IsQ0FBaEI7QUFDQSxxQkFBSyxLQUFMLENBQVcsQ0FBWCxJQUFnQixDQUFoQjtBQUNEO0FBQ0Y7QUFDRCxtQkFBTyxLQUFLLEdBQUwsSUFBWSxLQUFLLEdBQWpCLElBQXdCLEtBQUssR0FBN0IsSUFBb0MsS0FBSyxHQUFoRDtBQUNELFdBZEQ7QUFlRCxTQXJCRDtBQXNCRDs7QUFFRDtBQUNBO0FBQ0EsVUFBSSxTQUFTLENBQWI7QUFDQTtBQUNBLFVBQUksZ0JBQWdCLEVBQXBCOztBQUVBLFdBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxZQUFZLE1BQWhDLEVBQXdDLEdBQXhDLEVBQTZDO0FBQzNDLHNCQUFpQixDQUFqQixTQUFzQixDQUF0QixJQUE2QixDQUE3QjtBQUNEOztBQUVELGtCQUFZLE9BQVosQ0FBb0IsVUFBUyxDQUFULEVBQVk7QUFDOUIsc0JBQWlCLEVBQUUsTUFBRixDQUFTLEtBQTFCLFNBQW1DLEVBQUUsTUFBRixDQUFTLEtBQTVDLElBQXVELENBQXZEO0FBQ0QsT0FGRDs7QUFJQSxlQUFTLGNBQVQsR0FBMEI7QUFDeEI7QUFDQSxpQkFBUyxXQUFULENBQXFCLENBQXJCLEVBQXdCLENBQXhCLEVBQTJCO0FBQ3pCLGlCQUFPLGNBQWlCLEVBQUUsS0FBbkIsU0FBNEIsRUFBRSxLQUE5QixDQUFQO0FBQ0Q7QUFDRCxXQUFHLEtBQUgsQ0FBUyxjQUFUO0FBQ0EsWUFBSSxXQUFXLENBQWYsRUFBa0I7QUFDaEI7QUFDQSxjQUFJLElBQUksR0FBRyxNQUFILENBQVUsSUFBVixFQUFnQixJQUFoQixHQUF1QixRQUEvQjtBQUNBLGVBQUssS0FBTCxDQUFXLFNBQVgsRUFBc0I7QUFBQSxtQkFBSyxZQUFZLENBQVosRUFBZSxDQUFmLEtBQXFCLFlBQVksQ0FBWixFQUFlLENBQWYsQ0FBckIsR0FBeUMsQ0FBekMsR0FBNkMsR0FBbEQ7QUFBQSxXQUF0QjtBQUNBLGVBQUssS0FBTCxDQUFXLFNBQVgsRUFBc0I7QUFBQSxtQkFBSyxFQUFFLEtBQUYsS0FBWSxFQUFFLE1BQUYsQ0FBUyxLQUFyQixJQUE4QixFQUFFLEtBQUYsS0FBWSxFQUFFLE1BQUYsQ0FBUyxLQUFuRCxHQUEyRCxDQUEzRCxHQUErRCxHQUFwRTtBQUFBLFdBQXRCO0FBQ0E7QUFDQSxtQkFBUyxDQUFUO0FBQ0QsU0FQRCxNQVFLO0FBQ0g7QUFDQSxlQUFLLEtBQUwsQ0FBVyxTQUFYLEVBQXNCLENBQXRCO0FBQ0EsZUFBSyxLQUFMLENBQVcsU0FBWCxFQUFzQixDQUF0QjtBQUNBLG1CQUFTLENBQVQ7QUFDRDtBQUNGOztBQUVELGVBQVMsV0FBVCxDQUFxQixDQUFyQixFQUF3QjtBQUN0QixZQUFJLENBQUMsR0FBRyxLQUFILENBQVMsTUFBZCxFQUFzQjtBQUNwQixxQkFBVyxXQUFYLENBQXVCLElBQXZCLEVBQTZCLE9BQTdCO0FBQ0Q7QUFDRCxVQUFFLEVBQUYsR0FBTyxFQUFFLENBQVQ7QUFDQSxVQUFFLEVBQUYsR0FBTyxFQUFFLENBQVQ7QUFDRDs7QUFFRCxlQUFTLE9BQVQsQ0FBaUIsQ0FBakIsRUFBb0I7QUFDbEIsVUFBRSxFQUFGLEdBQU8sR0FBRyxLQUFILENBQVMsQ0FBaEI7QUFDQSxVQUFFLEVBQUYsR0FBTyxHQUFHLEtBQUgsQ0FBUyxDQUFoQjtBQUNEOztBQUVELGVBQVMsU0FBVCxDQUFtQixDQUFuQixFQUFzQjtBQUNwQixZQUFJLENBQUMsR0FBRyxLQUFILENBQVMsTUFBZCxFQUFzQjtBQUNwQixxQkFBVyxXQUFYLENBQXVCLENBQXZCO0FBQ0Q7QUFDRCxVQUFFLEVBQUYsR0FBTyxJQUFQO0FBQ0EsVUFBRSxFQUFGLEdBQU8sSUFBUDtBQUNEOztBQUVELGVBQVMsZUFBVCxDQUF5QixJQUF6QixFQUErQixLQUEvQixFQUFzQztBQUNwQyxZQUFJLEtBQUssU0FBVCxFQUFvQjtBQUNsQixpQkFBTyxNQUFQLENBQWMsS0FBSyxTQUFuQixFQUE4QixPQUE5QixDQUFzQyxVQUFDLEVBQUQsRUFBUTtBQUM1QztBQUNBLGVBQUcsT0FBSCxLQUFlLEtBQWYsSUFBd0IsU0FBUyxPQUFULENBQWlCLEVBQUUsVUFBVSxFQUFaLEVBQWpCLENBQXhCO0FBQ0QsV0FIRDtBQUlEO0FBQ0Y7O0FBRUQsYUFBTyxHQUFQO0FBRUQ7OzsrQkFFVSxDQUFFOzs7Ozs7a0JBNVdNLEs7Ozs7Ozs7Ozs7O0FDUHJCOzs7Ozs7Ozs7Ozs7QUFFQTs7SUFFcUIsVzs7O0FBRW5CLDZCQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEsMEhBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EOztBQUUxRCxVQUFLLFdBQUwsR0FBbUIsTUFBSyxTQUFMLENBQWUsTUFBZixDQUFzQiwwQ0FBdEIsQ0FBbkI7QUFDQTtBQUNBLFFBQUksQ0FBQyxNQUFLLFdBQUwsQ0FBaUIsSUFBakIsRUFBTCxFQUE4QjtBQUM1QixZQUFLLFdBQUwsR0FBbUIsTUFBSyxTQUFMLENBQWUsTUFBZixDQUFzQixlQUF0QixFQUNoQixJQURnQixDQUNYLE9BRFcsRUFDRiw0QkFERSxDQUFuQjtBQUVEO0FBUHlEO0FBUTNEOzs7OzJCQUVNLE0sRUFBUTtBQUFBOztBQUViLFNBQUcsS0FBSCxDQUFTLGNBQVQ7O0FBRUE7QUFDQSxVQUFJLENBQUMsT0FBTyxLQUFSLElBQWlCLENBQUMsT0FBTyxNQUFQLENBQWMsT0FBTyxLQUFyQixFQUE0QixNQUFsRCxFQUEwRDtBQUN4RCxhQUFLLE1BQUwsQ0FBWSxLQUFaLENBQWtCLGdEQUFsQjtBQUNBO0FBQ0Q7O0FBRUQsV0FBSyxXQUFMLENBQ0csVUFESCxHQUVHLFFBRkgsQ0FFWSxJQUZaLEVBR0csSUFISCxDQUdRLFdBSFIsa0JBR2tDLEdBQUcsS0FBSCxDQUFTLE9BQVQsR0FBbUIsQ0FIckQsV0FHMEQsR0FBRyxLQUFILENBQVMsT0FBVCxHQUFtQixDQUg3RTs7QUFLQTtBQUNBLFdBQUssV0FBTCxDQUFpQixLQUFqQixDQUF1QixTQUF2QixFQUFrQyxPQUFsQzs7QUFFQTtBQUNBLFVBQUksS0FBSyxXQUFMLENBQWlCLFNBQWpCLENBQTJCLEdBQTNCLEVBQWdDLElBQWhDLEVBQUosRUFBNEM7QUFDMUM7QUFDRDs7QUFFRDtBQUNBLFNBQUcsTUFBSCxDQUFVLE1BQVYsRUFBa0IsRUFBbEIsQ0FBcUIsMkJBQXJCLEVBQWtEO0FBQUEsZUFBTSxPQUFLLFFBQUwsRUFBTjtBQUFBLE9BQWxEOztBQUVBO0FBQ0EsVUFBSSxPQUFPLEtBQUssV0FBTCxDQUFpQixNQUFqQixDQUF3QixXQUF4QixFQUFxQyxNQUFyQyxDQUE0QyxLQUE1QyxFQUFtRCxJQUFuRCxDQUF3RCxPQUF4RCxFQUFpRSxxQkFBakUsRUFBd0YsTUFBeEYsQ0FBK0YsSUFBL0YsQ0FBWDtBQUNBLFVBQUksZ0JBQWdCLEtBQUssUUFBTCxDQUFjLE9BQU8sTUFBUCxDQUFjLE9BQU8sS0FBckIsQ0FBZCxDQUFwQjtBQUNBLFdBQUssUUFBTCxDQUFjLElBQWQsRUFBb0IsYUFBcEI7O0FBRUEsYUFBTyxLQUFLLFdBQVo7QUFDRDs7OytCQUVVO0FBQ1QsV0FBSyxXQUFMLENBQWlCLFNBQWpCLENBQTJCLEdBQTNCLEVBQWdDLE1BQWhDO0FBQ0EsV0FBSyxXQUFMLENBQWlCLEtBQWpCLENBQXVCLFNBQXZCLEVBQWtDLElBQWxDO0FBQ0Q7Ozs7OztrQkFqRGtCLFc7Ozs7Ozs7Ozs7O0FDSnJCOzs7O0FBQ0E7Ozs7Ozs7Ozs7OztBQUVBOztJQUVxQixROzs7QUFFbkIsMEJBQTREO0FBQUEsNEJBQTlDLE9BQThDO0FBQUEsUUFBOUMsT0FBOEMsZ0NBQXBDLEtBQW9DO0FBQUEsUUFBN0IsUUFBNkIsUUFBN0IsUUFBNkI7QUFBQSxRQUFuQixlQUFtQixRQUFuQixlQUFtQjs7QUFBQTs7QUFBQSwrR0FDcEQsRUFBRSxTQUFTLE9BQVgsRUFBb0IsVUFBVSxRQUE5QixFQUF3QyxpQkFBaUIsZUFBekQsRUFEb0Q7QUFFM0Q7Ozs7MkJBRU0sSSxFQUFNO0FBQUE7O0FBQ1gsVUFBSSxTQUFTLEtBQUssT0FBTCxDQUFhLFFBQTFCOztBQUVBLFVBQUksYUFBYSx5QkFBZSxLQUFLLE9BQXBCLENBQWpCOztBQUVBO0FBQ0EsVUFBSSxlQUFhLEtBQUssTUFBTCxDQUFZLEVBQTdCO0FBQ0EsVUFBSSxPQUFPLEdBQUcsTUFBSCxPQUFjLE1BQWQsQ0FBWDs7QUFFQTtBQUNBLFVBQUksQ0FBQyxLQUFLLElBQUwsRUFBTCxFQUFrQjtBQUNoQjtBQUNBLGFBQUssTUFBTCxDQUFZLEtBQVosMEJBQXlDLE1BQXpDO0FBQ0EsZUFBTyxPQUFPLE1BQVAsQ0FBYyxlQUFkLEVBQStCLElBQS9CLENBQW9DLFdBQXBDLG9CQUNKLElBREksQ0FDQyxPQURELEVBQ1UseUJBRFYsRUFDcUMsSUFEckMsQ0FDMEMsSUFEMUMsRUFDZ0QsTUFEaEQsQ0FBUDtBQUVEOztBQUVEO0FBQ0EsV0FBSyxTQUFMLENBQWUsR0FBZixFQUFvQixNQUFwQjs7QUFFQSxhQUFPLEtBQUssTUFBTCxDQUFZLFVBQVosRUFBd0IsSUFBeEIsQ0FBNkIsT0FBN0IsRUFBc0Msa0JBQXRDLENBQVA7O0FBRUEsVUFBSSxLQUFLLE1BQUwsQ0FBWSxLQUFoQixFQUF1QjtBQUNyQixhQUFLLE1BQUwsQ0FBWSxJQUFaLEVBQWtCLElBQWxCLENBQXVCLE9BQXZCLEVBQWdDLGNBQWhDLEVBQWdELE1BQWhELENBQXVELEdBQXZELEVBQTRELElBQTVELENBQWlFLEtBQUssTUFBTCxDQUFZLEtBQTdFO0FBQ0Q7O0FBRUQsVUFBSSxRQUFRLEtBQUssTUFBTCxDQUFZLElBQVosQ0FBWjtBQUNBLFlBQU0sTUFBTixDQUFhLEdBQWIsRUFBa0IsSUFBbEIsQ0FBdUIsUUFBdkI7QUFDQSxVQUFJLFVBQVUsTUFBTSxNQUFOLENBQWEsSUFBYixDQUFkO0FBQ0EsY0FBUSxNQUFSLENBQWUsSUFBZixFQUFxQixNQUFyQixDQUE0QixHQUE1QixFQUFpQyxFQUFqQyxDQUFvQyxPQUFwQyxFQUE2QztBQUFBLGVBQU0sT0FBTyxTQUFQLEVBQU47QUFBQSxPQUE3QyxFQUF1RSxJQUF2RSxDQUE0RSxPQUE1RSxFQUFxRixhQUFyRixFQUFvRyxJQUFwRyxDQUF5RyxhQUF6RztBQUNBLGNBQVEsTUFBUixDQUFlLElBQWYsRUFBcUIsTUFBckIsQ0FBNEIsR0FBNUIsRUFBaUMsRUFBakMsQ0FBb0MsT0FBcEMsRUFBNkM7QUFBQSxlQUFNLE9BQUssTUFBTCxDQUFZLElBQVosQ0FBaUIseUNBQWpCLENBQU47QUFBQSxPQUE3QyxFQUFnSCxJQUFoSCxDQUFxSCxPQUFySCxFQUE4SCxhQUE5SCxFQUE2SSxJQUE3SSxDQUFrSixhQUFsSjtBQUNBLGNBQVEsTUFBUixDQUFlLElBQWYsRUFBcUIsTUFBckIsQ0FBNEIsR0FBNUIsRUFBaUMsRUFBakMsQ0FBb0MsT0FBcEMsRUFBNkM7QUFBQSxlQUFNLFdBQVcsTUFBWCxDQUFrQixJQUFsQixDQUFOO0FBQUEsT0FBN0MsRUFBNEUsSUFBNUUsQ0FBaUYsT0FBakYsRUFBMEYsT0FBMUYsRUFBbUcsSUFBbkcsQ0FBd0csT0FBeEc7O0FBRUE7QUFDQSxVQUFJLGdCQUFnQixLQUFLLFFBQUwsQ0FBYyxPQUFPLE1BQVAsQ0FBYyxLQUFLLE1BQUwsQ0FBWSxLQUExQixDQUFkLENBQXBCO0FBQ0EsV0FBSyxRQUFMLENBQWMsSUFBZCxFQUFvQixhQUFwQjs7QUFFQSxXQUFLLE1BQUwsQ0FBWSxLQUFaLHlCQUF3QyxNQUF4Qzs7QUFFQSxhQUFPLElBQVA7QUFDRDs7OytCQUVVLENBQUU7Ozs7OztrQkFoRE0sUTs7Ozs7Ozs7Ozs7QUNMckI7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0lBRXFCLEk7OztBQUVuQixzQkFBNEQ7QUFBQSw0QkFBOUMsT0FBOEM7QUFBQSxRQUE5QyxPQUE4QyxnQ0FBcEMsS0FBb0M7QUFBQSxRQUE3QixRQUE2QixRQUE3QixRQUE2QjtBQUFBLFFBQW5CLGVBQW1CLFFBQW5CLGVBQW1COztBQUFBOztBQUFBLHVHQUNwRCxFQUFFLFNBQVMsT0FBWCxFQUFvQixVQUFVLFFBQTlCLEVBQXdDLGlCQUFpQixlQUF6RCxFQURvRDtBQUUzRDs7Ozs2QkFFUSxRLEVBQVUsYSxFQUFlO0FBQUE7O0FBQ2hDLGFBQU8sY0FBYyxPQUFkLEVBQVAsRUFBZ0M7QUFDOUIsWUFBSSxXQUFXLGNBQWMsSUFBZCxFQUFmO0FBQ0EsWUFBSSxRQUFRLFNBQVMsTUFBVCxDQUFnQixJQUFoQixDQUFaO0FBQ0EsWUFBSSxTQUFTLE1BQU0sU0FBTixDQUFnQixHQUFoQixFQUFxQixJQUFyQixDQUEwQixDQUFDLFFBQUQsQ0FBMUIsRUFBc0MsS0FBdEMsR0FBOEMsTUFBOUMsQ0FBcUQsR0FBckQsRUFBMEQsSUFBMUQsQ0FBK0QsT0FBL0QsRUFBd0UsU0FBUyxLQUFqRixFQUF3RixJQUF4RixDQUE2RixTQUFTLEtBQXRHLENBQWI7QUFDQSxZQUFJLFNBQVMsUUFBVCxJQUFxQixPQUFPLE1BQVAsQ0FBYyxTQUFTLFFBQXZCLEVBQWlDLE1BQTFELEVBQWtFO0FBQ2hFLGlCQUFPLEVBQVAsQ0FBVSxPQUFWLEVBQW1CLFVBQUMsQ0FBRDtBQUFBLG1CQUFPLHVCQUFhLE9BQUssT0FBbEIsRUFBMkIsT0FBM0IsQ0FBbUMsQ0FBbkMsQ0FBUDtBQUFBLFdBQW5CO0FBQ0Q7QUFDRCxZQUFJLFNBQVMsS0FBVCxJQUFrQixPQUFPLE1BQVAsQ0FBYyxTQUFTLEtBQXZCLEVBQThCLE1BQTlCLEdBQXVDLENBQTdELEVBQWdFO0FBQzlELGNBQUksVUFBVSxNQUFNLE1BQU4sQ0FBYSxJQUFiLENBQWQ7QUFDQSxjQUFJLG1CQUFtQixLQUFLLFFBQUwsQ0FBYyxPQUFPLE1BQVAsQ0FBYyxTQUFTLEtBQXZCLENBQWQsQ0FBdkI7QUFDQSxlQUFLLFFBQUwsQ0FBYyxPQUFkLEVBQXVCLGdCQUF2QjtBQUNEO0FBQ0Y7QUFDRjs7OzZCQUVRLEssRUFBTztBQUNkLFVBQUksWUFBWSxDQUFoQjtBQUNBLGFBQU87QUFDTCxjQUFNLGdCQUFXO0FBQ2YsaUJBQU8sS0FBSyxPQUFMLEtBQWlCLE1BQU0sV0FBTixDQUFqQixHQUFzQyxTQUE3QztBQUNELFNBSEk7QUFJTCxpQkFBUyxtQkFBVztBQUNsQixpQkFBTyxZQUFZLE1BQU0sTUFBekI7QUFDRDtBQU5JLE9BQVA7QUFRRDs7OytCQUVVLENBQUU7Ozs7OztrQkFsQ00sSTs7Ozs7Ozs7Ozs7QUNIckI7Ozs7Ozs7Ozs7OztBQUVBOztJQUVxQixPOzs7QUFFbkIseUJBQTREO0FBQUEsNEJBQTlDLE9BQThDO0FBQUEsUUFBOUMsT0FBOEMsZ0NBQXBDLEtBQW9DO0FBQUEsUUFBN0IsUUFBNkIsUUFBN0IsUUFBNkI7QUFBQSxRQUFuQixlQUFtQixRQUFuQixlQUFtQjs7QUFBQTs7QUFBQSxrSEFDcEQsRUFBRSxTQUFTLE9BQVgsRUFBb0IsVUFBVSxRQUE5QixFQUF3QyxpQkFBaUIsZUFBekQsRUFEb0Q7O0FBRTFELFVBQUssTUFBTCxHQUFjLE1BQUssU0FBTCxDQUFlLE1BQWYsQ0FBc0Isb0NBQXRCLENBQWQ7QUFDQTtBQUNBLFFBQUksQ0FBQyxNQUFLLE1BQUwsQ0FBWSxJQUFaLEVBQUwsRUFBeUI7QUFDdkIsWUFBSyxNQUFMLEdBQWMsTUFBSyxTQUFMLENBQWUsTUFBZixDQUFzQixlQUF0QixFQUF1QyxJQUF2QyxDQUE0QyxPQUE1QyxFQUFxRCxzQkFBckQsRUFDWCxJQURXLENBQ04sV0FETSxFQUNPLG1CQURQLEVBQzRCLE1BRDVCLENBQ21DLFdBRG5DLEVBQ2dELElBRGhELENBQ3FELE9BRHJELEVBQzhELGVBRDlELENBQWQ7QUFFRCxLQUhELE1BSUs7QUFDSCxZQUFLLE1BQUwsR0FBYyxNQUFLLE1BQUwsQ0FBWSxNQUFaLENBQW1CLG1CQUFuQixDQUFkO0FBQ0Q7QUFWeUQ7QUFXM0Q7Ozs7MkJBRU0sUSxFQUFVOztBQUVmO0FBQ0EsVUFBSSxDQUFDLFFBQUQsSUFBYSxDQUFDLE9BQU8sTUFBUCxDQUFjLFFBQWQsRUFBd0IsTUFBMUMsRUFBa0Q7QUFDaEQ7QUFDQTtBQUNEOztBQUVELFVBQUksT0FBTyxJQUFYOztBQUVBLGFBQU8sSUFBUCxDQUFZLFFBQVosRUFBc0IsR0FBdEIsQ0FBMEIsVUFBUyxFQUFULEVBQWE7QUFDckM7QUFDQSxZQUFJLENBQUMsS0FBSyxNQUFMLENBQVksTUFBWixVQUEwQixFQUExQixFQUFnQyxJQUFoQyxFQUFMLEVBQTZDO0FBQzNDLGNBQUksTUFBTSxLQUFLLE1BQUwsQ0FBWSxNQUFaLENBQW1CLEtBQW5CLEVBQTBCLElBQTFCLENBQStCLElBQS9CLEVBQXFDLEVBQXJDLEVBQ1AsSUFETyxDQUNGLE9BREUsb0JBQ3VCLFNBQVMsRUFBVCxFQUFhLElBRHBDLEVBQzRDLEVBRDVDLENBQytDLE9BRC9DLEVBQ3dELFlBQVc7QUFDekUsZUFBRyxNQUFILENBQVUsSUFBVixFQUFnQixLQUFoQixDQUFzQixTQUF0QixFQUFpQyxNQUFqQztBQUNELFdBSE8sQ0FBVjtBQUlBLGNBQUksTUFBSixDQUFXLE1BQVgsRUFBbUIsSUFBbkIsQ0FBd0IsT0FBeEIsRUFBaUMsUUFBakMsRUFBMkMsSUFBM0MsQ0FBZ0QsU0FBUyxFQUFULEVBQWEsS0FBN0Q7QUFDQSxjQUFJLE1BQUosQ0FBVyxNQUFYLEVBQW1CLElBQW5CLENBQXdCLFNBQVMsRUFBVCxFQUFhLElBQXJDO0FBQ0EsY0FBSSxNQUFKLENBQVcsTUFBWCxFQUFtQixJQUFuQixDQUF3QixPQUF4QixFQUFpQyxRQUFqQyxFQUEyQyxLQUEzQyxDQUFpRCxTQUFqRCxFQUE0RCxNQUE1RCxFQUFvRSxJQUFwRSxDQUF5RSxHQUF6RTtBQUNEO0FBQ0YsT0FYRDs7QUFhQSxXQUFLLE1BQUwsQ0FBWSxLQUFaLENBQWtCLFNBQWxCLEVBQTZCLE9BQTdCO0FBQ0Q7OzsrQkFFVSxDQUFFOzs7Ozs7a0JBekNNLE87Ozs7Ozs7Ozs7O0FDSnJCOzs7Ozs7Ozs7Ozs7QUFFQTs7SUFFcUIsVTs7O0FBRW5CLDRCQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEsbUhBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EO0FBRTNEOzs7OzJCQUVNLEksRUFBTTtBQUNYLFVBQUksVUFBVSxrQkFBZDs7QUFFQSxXQUFLLE1BQUwsQ0FBWSxLQUFaLDRCQUEyQyxPQUEzQzs7QUFFQTtBQUNBLFVBQUksVUFBVSxHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLE1BQWxCLENBQXlCLEtBQXpCLEVBQ1gsSUFEVyxDQUNOLE9BRE0sRUFDRyxnQkFESCxDQUFkO0FBRUEsVUFBSSxTQUFTLEdBQUcsTUFBSCxDQUFVLE1BQVYsRUFBa0IsTUFBbEIsQ0FBeUIsS0FBekIsRUFDVixJQURVLENBQ0wsT0FESyxFQUNJLFFBREosQ0FBYjtBQUVBLFVBQUksUUFBUSxPQUFPLE1BQVAsQ0FBYyxLQUFkLEVBQ1QsSUFEUyxDQUNKLElBREksRUFDRSxPQURGLEVBRVQsSUFGUyxDQUVKLE9BRkksRUFFSyxjQUZMLENBQVo7O0FBSUEsVUFBSSxPQUFPLE1BQU0sTUFBTixDQUFhLE1BQWIsQ0FBWDs7QUFFQSxVQUFJLFNBQVMsS0FBSyxNQUFMLENBQVksS0FBWixFQUFtQixJQUFuQixDQUF3QixPQUF4QixFQUFpQyxxQkFBakMsQ0FBYjs7QUFFQSxhQUFPLE1BQVAsQ0FBYyxNQUFkLEVBQXNCLElBQXRCLG9CQUE0QyxLQUFLLE9BQWpEOztBQUVBLFVBQUksVUFBVSxLQUFLLE1BQUwsQ0FBWSxLQUFaLEVBQW1CLElBQW5CLENBQXdCLE9BQXhCLEVBQWlDLHNCQUFqQyxFQUF5RCxNQUF6RCxDQUFnRSxLQUFoRSxFQUF1RSxJQUF2RSxDQUE0RSxPQUE1RSxFQUFxRixjQUFyRixFQUFxRyxNQUFyRyxDQUE0RyxLQUE1RyxFQUFtSCxJQUFuSCxDQUF3SCxPQUF4SCxFQUFpSSxtQkFBakksQ0FBZDs7QUFFQSxjQUFRLE1BQVIsQ0FBZSxNQUFmLEVBQXVCLElBQXZCLENBQTRCLGdCQUE1QjtBQUNBLGNBQVEsTUFBUixDQUFlLEtBQWYsRUFBc0IsSUFBdEIsQ0FBMkIsT0FBM0IsRUFBb0MsUUFBcEMsRUFBOEMsSUFBOUMsQ0FBbUQsS0FBSyxlQUFMLENBQXFCLEtBQUssU0FBTCxDQUFlLEtBQUssTUFBcEIsRUFBNEIsSUFBNUIsRUFBa0MsQ0FBbEMsQ0FBckIsQ0FBbkQ7QUFDQSxjQUFRLE1BQVIsQ0FBZSxNQUFmLEVBQXVCLE1BQXZCLENBQThCLEdBQTlCLEVBQW1DLElBQW5DLENBQXdDLE1BQXhDLEVBQWdELHFDQUFoRCxFQUF1RixJQUF2RixDQUE0RixrQkFBNUY7O0FBRUEsVUFBSSxTQUFTLEtBQUssTUFBTCxDQUFZLEtBQVosRUFBbUIsSUFBbkIsQ0FBd0IsT0FBeEIsRUFBaUMscUJBQWpDLENBQWI7O0FBRUEsYUFBTyxNQUFQLENBQWMsUUFBZCxFQUF3QixJQUF4QixDQUE2QixJQUE3QixFQUFtQyxFQUFuQyxDQUFzQyxPQUF0QyxFQUErQyxZQUFXO0FBQ3hELGNBQU0sTUFBTjtBQUNBLGVBQU8sTUFBUDtBQUNBLGdCQUFRLE1BQVI7QUFDQSxjQUFNLGNBQU47QUFDQSxlQUFPLEtBQVA7QUFDRCxPQU5EOztBQVFBO0FBQ0EsVUFBSTtBQUNGLGdCQUFRLGdCQUFSLENBQXlCLGVBQXpCLENBQXlDLFNBQXpDO0FBQ0EsZ0JBQVEsZ0JBQVIsQ0FBeUIsZUFBekIsQ0FBeUMsYUFBekM7QUFDQSxnQkFBUSxnQkFBUixDQUF5QixlQUF6QixDQUF5QyxpQkFBekM7QUFDQSxnQkFBUSxnQkFBUixDQUF5QixlQUF6QixDQUF5QyxlQUF6QztBQUNELE9BTEQsQ0FNQSxPQUFPLENBQVAsRUFBVTtBQUNSLFlBQUksRUFBRSxJQUFGLElBQVUsZ0JBQWQsRUFBZ0M7QUFDOUIsZUFBSyxNQUFMLENBQVksS0FBWixDQUFrQiwyQ0FBbEIsRUFBK0QsQ0FBL0Q7QUFDRDtBQUNGOztBQUVELFdBQUssTUFBTCxDQUFZLEtBQVosOEJBQTZDLE9BQTdDOztBQUVBLGFBQU8sS0FBUDtBQUNEOzs7K0JBRVUsQ0FBRTs7QUFFYjs7OztvQ0FDZ0IsSSxFQUFNO0FBQ3BCLGFBQU8sS0FBSyxPQUFMLENBQWEsSUFBYixFQUFtQixPQUFuQixFQUE0QixPQUE1QixDQUFvQyxJQUFwQyxFQUEwQyxNQUExQyxFQUFrRCxPQUFsRCxDQUEwRCxJQUExRCxFQUFnRSxNQUFoRSxDQUFQO0FBQ0EsYUFBTyxLQUFLLE9BQUwsQ0FBYSxxR0FBYixFQUFvSCxVQUFTLEtBQVQsRUFBZ0I7QUFDekksWUFBSSxNQUFNLFFBQVY7QUFDQSxZQUFJLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBSixFQUFzQjtBQUNwQixjQUFJLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBSixFQUFzQjtBQUNwQixrQkFBTSxLQUFOO0FBQ0QsV0FGRCxNQUdLO0FBQ0gsa0JBQU0sUUFBTjtBQUNEO0FBQ0YsU0FQRCxNQVFLLElBQUksYUFBYSxJQUFiLENBQWtCLEtBQWxCLENBQUosRUFBOEI7QUFDakMsZ0JBQU0sU0FBTjtBQUNELFNBRkksTUFHQSxJQUFJLE9BQU8sSUFBUCxDQUFZLEtBQVosQ0FBSixFQUF3QjtBQUMzQixnQkFBTSxNQUFOO0FBQ0Q7QUFDRCxlQUFPLGtCQUFrQixHQUFsQixHQUF3QixJQUF4QixHQUErQixLQUEvQixHQUF1QyxTQUE5QztBQUNELE9BakJNLENBQVA7QUFrQkQ7Ozs7OztrQkFuRmtCLFU7Ozs7Ozs7Ozs7O0FDSnJCOzs7Ozs7Ozs7Ozs7QUFFQTs7SUFFcUIsaUI7OztBQUVuQixtQ0FBNEQ7QUFBQSw0QkFBOUMsT0FBOEM7QUFBQSxRQUE5QyxPQUE4QyxnQ0FBcEMsS0FBb0M7QUFBQSxRQUE3QixRQUE2QixRQUE3QixRQUE2QjtBQUFBLFFBQW5CLGVBQW1CLFFBQW5CLGVBQW1COztBQUFBOztBQUFBLGlJQUNwRCxFQUFFLFNBQVMsT0FBWCxFQUFvQixVQUFVLFFBQTlCLEVBQXdDLGlCQUFpQixlQUF6RCxFQURvRDtBQUUzRDs7OzsyQkFFTSxJLEVBQU07QUFDWCxVQUFJLE9BQU8sSUFBWDs7QUFFQSxVQUFJLFVBQVUsS0FBSyxRQUFMLENBQWMsRUFBNUI7O0FBRUEsV0FBSyxNQUFMLENBQVksS0FBWiwrQkFBOEMsT0FBOUM7O0FBRUE7QUFDQSxVQUFJLFVBQVUsR0FBRyxNQUFILENBQVUsTUFBVixFQUFrQixNQUFsQixDQUF5QixLQUF6QixFQUNYLElBRFcsQ0FDTixPQURNLEVBQ0csZ0JBREgsQ0FBZDtBQUVBLFVBQUksU0FBUyxHQUFHLE1BQUgsQ0FBVSxNQUFWLEVBQWtCLE1BQWxCLENBQXlCLEtBQXpCLEVBQ1YsSUFEVSxDQUNMLE9BREssRUFDSSxRQURKLENBQWI7QUFFQSxVQUFJLFFBQVEsT0FBTyxNQUFQLENBQWMsS0FBZCxFQUNULElBRFMsQ0FDSixJQURJLEVBQ0UsT0FERixFQUVULElBRlMsQ0FFSixPQUZJLEVBRUssY0FGTCxDQUFaOztBQUlBLFVBQUksT0FBTyxNQUFNLE1BQU4sQ0FBYSxNQUFiLENBQVg7O0FBRUEsVUFBSSxTQUFTLEtBQUssTUFBTCxDQUFZLEtBQVosRUFBbUIsSUFBbkIsQ0FBd0IsT0FBeEIsRUFBaUMscUJBQWpDLENBQWI7O0FBRUEsVUFBSSxjQUFjLE9BQU8sTUFBUCxDQUFjLE1BQWQsRUFBc0IsSUFBdEIsQ0FBMkIsMEJBQTNCLENBQWxCO0FBQ0EsVUFBSSxLQUFLLEtBQVQsRUFBZ0I7QUFDZCxvQkFBWSxNQUFaLENBQW1CLE1BQW5CLEVBQTJCLElBQTNCLENBQWdDLE9BQWhDLEVBQXlDLG9CQUF6QyxFQUErRCxJQUEvRCxVQUEyRSxLQUFLLEtBQWhGO0FBQ0Q7O0FBRUQsVUFBSSxVQUFVLEtBQUssTUFBTCxDQUFZLEtBQVosRUFBbUIsSUFBbkIsQ0FBd0IsT0FBeEIsRUFBaUMsc0JBQWpDLEVBQXlELE1BQXpELENBQWdFLEtBQWhFLEVBQXVFLElBQXZFLENBQTRFLE9BQTVFLEVBQXFGLGNBQXJGLEVBQXFHLE1BQXJHLENBQTRHLEtBQTVHLEVBQW1ILElBQW5ILENBQXdILE9BQXhILEVBQWlJLG1CQUFqSSxDQUFkOztBQXpCVztBQUFBO0FBQUE7O0FBQUE7QUEyQlgsNkJBQWdCLE9BQU8sTUFBUCxDQUFjLEtBQUssUUFBTCxDQUFjLFlBQTVCLENBQWhCLDhIQUEyRDtBQUFBLGNBQWxELEdBQWtEOztBQUN6RCxjQUFJLE1BQU0sUUFBUSxNQUFSLENBQWUsS0FBZixFQUFzQixJQUF0QixDQUEyQixPQUEzQixFQUFvQyxrQkFBcEMsQ0FBVjtBQUNBLGNBQUksTUFBSixDQUFXLEtBQVgsRUFBa0IsSUFBbEIsQ0FBdUIsT0FBdkIsRUFBZ0MsbUJBQWhDLEVBQXFELE1BQXJELENBQTRELE9BQTVELEVBQXFFLElBQXJFLENBQTBFLEtBQTFFLEVBQWlGLElBQUksRUFBckYsRUFBeUYsSUFBekYsQ0FBOEYsSUFBSSxLQUFsRztBQUNBLGNBQUksUUFBUSxJQUFJLE1BQUosQ0FBVyxLQUFYLEVBQWtCLElBQWxCLENBQXVCLE9BQXZCLEVBQWdDLG1CQUFoQyxFQUFxRCxNQUFyRCxDQUE0RCxPQUE1RCxFQUFxRSxJQUFyRSxDQUEwRSxJQUExRSxFQUFnRixJQUFJLEVBQXBGLEVBQXdGLElBQXhGLENBQTZGLE9BQTdGLEVBQXNHLFlBQXRHLEVBQ1QsSUFEUyxDQUNKLFVBREksRUFDUSxFQURSLEVBRVQsSUFGUyxDQUVKLE1BRkksRUFFSSxJQUFJLEVBRlIsRUFHVCxJQUhTLENBR0osTUFISSxFQUdJLElBQUksSUFIUixFQUlULElBSlMsQ0FJSixPQUpJLEVBSUssSUFBSSxLQUpULEVBS1QsRUFMUyxDQUtOLFFBTE0sRUFLSSxZQUFXO0FBQUUsaUJBQUssUUFBTCxDQUFjLFlBQWQsQ0FBMkIsS0FBSyxFQUFoQyxFQUFvQyxLQUFwQyxHQUE0QyxLQUFLLEtBQWpEO0FBQXlELFdBTDFFLEVBTVQsRUFOUyxDQU1OLE9BTk0sRUFNRyxLQUFLLFFBTlIsRUFPVCxFQVBTLENBT04sT0FQTSxFQU9HLEtBQUssUUFQUixFQVFULEVBUlMsQ0FRTixPQVJNLEVBUUcsS0FBSyxRQVJSLENBQVo7QUFTQTtBQUNBLGNBQUksSUFBSSxJQUFKLEtBQWEsU0FBakIsRUFBNEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsZ0JBQUksS0FBSixHQUFZLElBQUksS0FBSixJQUFhLEtBQXpCO0FBQ0Esa0JBQU0sSUFBTixDQUFXLE1BQVgsRUFBbUIsVUFBbkIsRUFBK0IsSUFBL0IsQ0FBb0MsVUFBcEMsRUFBZ0QsSUFBaEQsRUFDRyxJQURILENBQ1EsT0FEUixFQUNpQixJQUFJLEtBRHJCLEVBRUcsRUFGSCxDQUVNLFFBRk4sRUFFZ0IsWUFBVztBQUFFLG1CQUFLLFFBQUwsQ0FBYyxZQUFkLENBQTJCLEtBQUssRUFBaEMsRUFBb0MsS0FBcEMsR0FBNEMsS0FBSyxLQUFMLEdBQWEsS0FBSyxPQUE5RDtBQUF3RSxhQUZyRztBQUdEO0FBQ0QsY0FBSSxNQUFKLENBQVcsTUFBWCxFQUFtQixJQUFuQixDQUF3QixPQUF4QixFQUFpQyxVQUFqQztBQUNEO0FBbERVO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBb0RYLFVBQUksU0FBUyxLQUFLLE1BQUwsQ0FBWSxLQUFaLEVBQW1CLElBQW5CLENBQXdCLE9BQXhCLEVBQWlDLHFCQUFqQyxDQUFiOztBQUVBLGFBQU8sTUFBUCxDQUFjLFFBQWQsRUFBd0IsSUFBeEIsQ0FBNkIsSUFBN0IsRUFBbUMsRUFBbkMsQ0FBc0MsT0FBdEMsRUFBK0MsWUFBVztBQUN4RCxZQUFJLEtBQUssSUFBTCxHQUFZLGFBQVosRUFBSixFQUFpQztBQUMvQixlQUFLLE9BQUwsQ0FBYSxlQUFiLENBQTZCLEtBQUssUUFBbEM7QUFDQSxrQkFBUSxNQUFSO0FBQ0EsZ0JBQU0sTUFBTjtBQUNBLGlCQUFPLE1BQVA7QUFDQSxnQkFBTSxjQUFOO0FBQ0Q7QUFDRCxlQUFPLEtBQVA7QUFDRCxPQVREO0FBVUEsYUFBTyxNQUFQLENBQWMsUUFBZCxFQUF3QixJQUF4QixDQUE2QixRQUE3QixFQUF1QyxFQUF2QyxDQUEwQyxPQUExQyxFQUFtRCxZQUFNO0FBQ3ZELGNBQU0sY0FBTjtBQUNBLGdCQUFRLE1BQVI7QUFDQSxjQUFNLE1BQU47QUFDQSxlQUFPLE1BQVA7QUFDQSxlQUFPLEtBQVA7QUFDRCxPQU5EOztBQVFBO0FBQ0EsVUFBSTtBQUNGLGdCQUFRLGdCQUFSLENBQXlCLGVBQXpCLENBQXlDLFNBQXpDO0FBQ0EsZ0JBQVEsZ0JBQVIsQ0FBeUIsZUFBekIsQ0FBeUMsYUFBekM7QUFDQSxnQkFBUSxnQkFBUixDQUF5QixlQUF6QixDQUF5QyxpQkFBekM7QUFDQSxnQkFBUSxnQkFBUixDQUF5QixlQUF6QixDQUF5QyxlQUF6QztBQUNELE9BTEQsQ0FNQSxPQUFPLENBQVAsRUFBVTtBQUNSLFlBQUksRUFBRSxJQUFGLElBQVUsZ0JBQWQsRUFBZ0M7QUFDOUIsZUFBSyxNQUFMLENBQVksS0FBWixDQUFrQiwyQ0FBbEIsRUFBK0QsQ0FBL0Q7QUFDRDtBQUNGOztBQUVELGNBQVEsU0FBUixDQUFrQixhQUFsQixFQUFpQyxJQUFqQyxHQUF3QyxLQUF4Qzs7QUFFQSxXQUFLLE1BQUwsQ0FBWSxLQUFaLDhCQUE2QyxPQUE3Qzs7QUFFQSxhQUFPLEtBQVA7QUFDRDs7OytCQUVVLENBQUU7Ozs7OztrQkFsR00saUI7Ozs7Ozs7Ozs7O0FDSnJCOzs7Ozs7Ozs7Ozs7QUFFQTs7SUFFcUIsUTs7O0FBRW5CLDBCQUE0RDtBQUFBLDRCQUE5QyxPQUE4QztBQUFBLFFBQTlDLE9BQThDLGdDQUFwQyxLQUFvQztBQUFBLFFBQTdCLFFBQTZCLFFBQTdCLFFBQTZCO0FBQUEsUUFBbkIsZUFBbUIsUUFBbkIsZUFBbUI7O0FBQUE7O0FBQUEsb0hBQ3BELEVBQUUsU0FBUyxPQUFYLEVBQW9CLFVBQVUsUUFBOUIsRUFBd0MsaUJBQWlCLGVBQXpELEVBRG9EOztBQUUxRCxRQUFJLElBQUksTUFBSixLQUFlLFFBQW5CLEVBQTZCO0FBQzNCLFlBQU0sSUFBSSxTQUFKLENBQWMsaURBQWQsQ0FBTjtBQUNEO0FBQ0QsUUFBSSxNQUFLLE1BQUwsS0FBZ0IsU0FBaEIsSUFBNkIsT0FBTyxNQUFLLE1BQVosS0FBdUIsVUFBeEQsRUFBb0U7QUFDbEUsWUFBTSxJQUFJLFNBQUosQ0FBYyxzQ0FBZCxDQUFOO0FBQ0Q7QUFDRCxRQUFJLE1BQUssUUFBTCxLQUFrQixTQUF0QixFQUFpQztBQUMvQixZQUFLLE1BQUwsQ0FBWSxLQUFaLENBQWtCLHFDQUFsQjtBQUNEO0FBVnlEO0FBVzNEOzs7O3dCQUVnQjtBQUNmLGFBQU8sR0FBRyxNQUFILENBQVUsS0FBSyxPQUFMLENBQWEsUUFBYixDQUFzQixJQUF0QixHQUE2QixVQUF2QyxDQUFQO0FBQ0Q7Ozt3QkFFZTtBQUNkLGFBQU8sS0FBSyxPQUFMLENBQWEsUUFBcEI7QUFDRDs7Ozs7O2tCQXJCa0IsUTs7Ozs7Ozs7Ozs7QUNKckI7Ozs7Ozs7Ozs7OztBQUVBOztJQUVxQixPOzs7QUFFbkIseUJBQTREO0FBQUEsNEJBQTlDLE9BQThDO0FBQUEsUUFBOUMsT0FBOEMsZ0NBQXBDLEtBQW9DO0FBQUEsUUFBN0IsUUFBNkIsUUFBN0IsUUFBNkI7QUFBQSxRQUFuQixlQUFtQixRQUFuQixlQUFtQjs7QUFBQTs7QUFBQSxrSEFDcEQsRUFBRSxTQUFTLE9BQVgsRUFBb0IsVUFBVSxRQUE5QixFQUF3QyxpQkFBaUIsZUFBekQsRUFEb0Q7O0FBRTFELFVBQUssT0FBTCxHQUFlLE1BQUssU0FBTCxDQUFlLE1BQWYsQ0FBc0IscUNBQXRCLENBQWY7QUFDQTtBQUNBLFFBQUksQ0FBQyxNQUFLLE9BQUwsQ0FBYSxJQUFiLEVBQUwsRUFBMEI7QUFDeEIsWUFBSyxPQUFMLEdBQWUsTUFBSyxTQUFMLENBQWUsTUFBZixDQUFzQixlQUF0QixFQUNaLElBRFksQ0FDUCxPQURPLEVBQ0UsdUJBREYsQ0FBZjtBQUVEO0FBUHlEO0FBUTNEOzs7OzJCQUVNLE0sRUFBUTs7QUFFYjtBQUNBLFVBQUksQ0FBQyxNQUFELElBQVcsQ0FBQyxPQUFPLE1BQVAsQ0FBYyxNQUFkLEVBQXNCLE1BQXRDLEVBQThDO0FBQzVDO0FBQ0E7QUFDRDs7QUFFRDtBQUNBLFdBQUssT0FBTCxDQUFhLElBQWIsQ0FBa0IsV0FBbEIsa0JBQTRDLEdBQUcsS0FBSCxDQUFTLE9BQVQsR0FBbUIsQ0FBL0QsV0FBb0UsR0FBRyxLQUFILENBQVMsT0FBVCxHQUFtQixDQUF2Rjs7QUFFQTtBQUNBLFVBQUksS0FBSyxPQUFMLENBQWEsU0FBYixDQUF1QixHQUF2QixFQUE0QixJQUE1QixFQUFKLEVBQXdDO0FBQ3RDO0FBQ0Q7O0FBRUQsVUFBSSxRQUFRLEtBQUssT0FBTCxDQUFhLE1BQWIsQ0FBb0IsV0FBcEIsRUFBaUMsSUFBakMsQ0FBc0MsT0FBdEMsRUFBK0MsZ0JBQS9DLEVBQ1QsTUFEUyxDQUNGLEtBREUsRUFDSyxJQURMLENBQ1UsT0FEVixFQUNtQixjQURuQixFQUVULE1BRlMsQ0FFRixLQUZFLEVBRUssSUFGTCxDQUVVLE9BRlYsRUFFbUIsbUJBRm5CLENBQVo7QUFHQSxhQUFPLElBQVAsQ0FBWSxNQUFaLEVBQW9CLEdBQXBCLENBQXdCLFVBQVMsR0FBVCxFQUFjO0FBQ3BDLFlBQUksTUFBTSxNQUFNLE1BQU4sQ0FBYSxLQUFiLEVBQW9CLElBQXBCLENBQXlCLE9BQXpCLEVBQWtDLGtCQUFsQyxDQUFWO0FBQ0EsWUFBSSxNQUFKLENBQVcsS0FBWCxFQUFrQixJQUFsQixDQUF1QixPQUF2QixFQUFnQyxtQkFBaEMsRUFBcUQsSUFBckQsQ0FBMEQsT0FBTyxHQUFQLEVBQVksS0FBdEU7QUFDQSxZQUFJLE1BQUosQ0FBVyxLQUFYLEVBQWtCLElBQWxCLENBQXVCLE9BQXZCLEVBQWdDLG1CQUFoQyxFQUFxRCxJQUFyRCxDQUEwRCxPQUFPLEdBQVAsRUFBWSxJQUF0RTtBQUNELE9BSkQ7O0FBTUE7QUFDQSxXQUFLLE9BQUwsQ0FBYSxLQUFiLENBQW1CLFNBQW5CLEVBQThCLE9BQTlCO0FBQ0Q7OzsrQkFFVTtBQUNULFdBQUssT0FBTCxDQUFhLFNBQWIsQ0FBdUIsR0FBdkIsRUFBNEIsTUFBNUI7QUFDQSxXQUFLLE9BQUwsQ0FBYSxLQUFiLENBQW1CLFNBQW5CLEVBQThCLElBQTlCO0FBQ0Q7Ozs7OztrQkE1Q2tCLE87Ozs7Ozs7Ozs7Ozs7QUNKckI7OztJQUdxQixTOzs7Ozs7Ozs7QUFFbkI7Ozs7OzBCQUthLEssRUFBTztBQUNsQixjQUFRLE9BQU8sS0FBUCxLQUFpQixRQUFqQixHQUE0QixLQUFLLFNBQUwsQ0FBZSxLQUFmLENBQTVCLEdBQW9ELEtBQTVEO0FBQ0EsY0FBUSxNQUFNLE9BQU4sQ0FBYyxxQkFBZCxFQUFxQyxFQUFyQyxDQUFSO0FBQ0EsVUFBSSxZQUFZLGFBQWhCO0FBQ0EsVUFBSSxRQUFRLFVBQVUsSUFBVixDQUFlLEtBQWYsQ0FBWjtBQUNBLFVBQUksS0FBSixFQUFXO0FBQ1QsZ0JBQVEsTUFBTSxDQUFOLENBQVI7QUFDQSxZQUFJO0FBQ0YsY0FBSSxPQUFPLEtBQUssS0FBTCxDQUFXLEtBQVgsQ0FBWDtBQUNBLGlCQUFPLEtBQUssSUFBTCxLQUFjLDZCQUFkLEdBQThDLElBQTlDLEdBQXFELFNBQTVEO0FBQ0QsU0FIRCxDQUlBLE9BQU8sQ0FBUCxFQUFVO0FBQ1I7QUFDQSxrQkFBUSxLQUFSLENBQWMsQ0FBZDtBQUNBO0FBQ0Q7QUFDRjtBQUNELGFBQU8sU0FBUDtBQUNEOzs7Ozs7a0JBekJrQixTOzs7Ozs7Ozs7Ozs7O0FDSHJCLElBQUksWUFBWSxJQUFoQjs7QUFFQTs7OztJQUdxQixNOztBQUVuQjs7Ozs7QUFLQSxvQkFBc0M7QUFBQSxtRkFBSixFQUFJO0FBQUEsNEJBQXhCLE9BQXdCO0FBQUEsUUFBeEIsT0FBd0IsZ0NBQWQsS0FBYzs7QUFBQTs7QUFDcEMsUUFBSSxDQUFDLFNBQUwsRUFBZ0I7QUFDZCxXQUFLLE9BQUwsR0FBZSxPQUFmO0FBQ0EsV0FBSyxPQUFMLEdBQWUsT0FBZjtBQUNBLGtCQUFZLElBQVo7QUFDRCxLQUpELE1BS0s7QUFDSCxhQUFPLFNBQVA7QUFDRDtBQUNGOztBQUVEOzs7Ozs7OzswQkFJTSxPLEVBQVM7QUFDYixVQUFJLEtBQUssT0FBVCxFQUFrQjtBQUNoQixhQUFLLE9BQUwsQ0FBYSxLQUFiLENBQW1CLEtBQUssT0FBTCxDQUFhLE9BQWIsRUFBc0IsT0FBdEIsQ0FBbkI7QUFDRDtBQUNGOztBQUVEOzs7Ozs7O3lCQUlLLE8sRUFBUztBQUNaLFdBQUssT0FBTCxDQUFhLElBQWIsQ0FBa0IsS0FBSyxPQUFMLENBQWEsTUFBYixFQUFxQixPQUFyQixDQUFsQjtBQUNEOztBQUVEOzs7Ozs7OzswQkFLTSxPLEVBQVMsTSxFQUFPO0FBQ3BCLFdBQUssT0FBTCxDQUFhLEtBQWIsQ0FBbUIsS0FBSyxPQUFMLENBQWEsT0FBYixFQUFzQixPQUF0QixDQUFuQixFQUFtRCxNQUFuRDtBQUNEOztBQUVEOzs7Ozs7Ozt5QkFLSyxPLEVBQVMsSyxFQUFPO0FBQ25CLGNBQVEsU0FBUyxFQUFqQjtBQUNBLFdBQUssT0FBTCxDQUFhLEtBQWIsQ0FBbUIsS0FBSyxPQUFMLENBQWEsTUFBYixFQUFxQixPQUFyQixDQUFuQixFQUFrRCxLQUFsRDtBQUNEOztBQUVEOzs7Ozs7OzRCQUlRLEssRUFBTyxPLEVBQVM7QUFDdEIsbUJBQVcsS0FBWCxZQUF1QixJQUFJLElBQUosR0FBVyxXQUFYLEVBQXZCLFdBQXFELE9BQXJEO0FBQ0Q7Ozs7OztrQkE3RGtCLE0iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IEpzb25VdGlscyBmcm9tICcuL3V0aWwvanNvbi11dGlscyc7XG5pbXBvcnQgQ2FudmFzIGZyb20gJy4vcmVuZGVyL2NhbnZhcyc7XG5pbXBvcnQgTWFpbk1lbnUgZnJvbSAnLi9yZW5kZXIvbWVudS1tYWluJztcbmltcG9ydCBHcmFwaCBmcm9tICcuL3JlbmRlci9ncmFwaCc7XG5pbXBvcnQgQ2hhcnQgZnJvbSAnLi9yZW5kZXIvY2hhcnQnO1xuLy9pbXBvcnQgVHJhY2tlciBmcm9tICcuL3RyYWNrZXIvY2hhbmdlJztcblxubGV0IEFMTF9DQU5WQVMgPSB7fTtcblxuLyogZ2xvYmFsIGQzICovXG5cbi8qKlxuICogRnJhbmN5IGlzIHRoZSBtYWluIGVudHJ5IHBvaW50IGZvciB0aGUgd2hvbGUgZnJhbWV3b3JrLiBCeSBwYXNzaW5nIGFuIGlucHV0IHN0cmluZy9vYmplY3QgdG8gdGhlIHtGcmFuY3kuaGFuZGxlfSBmdW5jdGlvbixcbiAqIEZyYW5jeSB3aWxsIGhhbmRsZSB0aGUgY3JlYXRpb24gb2YgdGhhdCBqc29uIGFzIGxvbmcgaXQgaXMgYSB2YWxpZCBhbmQgdW5kZXJzdGFuZGFibGUganNvbiBvYmplY3QgdG8gRnJhbmN5LlxuICogQGFjY2VzcyBwdWJsaWNcbiAqIFxuICogQHZlcnNpb24gMC41LjBcbiAqIFxuICogQGV4YW1wbGVcbiAqIGxldCBmcmFuY3kgPSBuZXcgRnJhbmN5KHt2ZXJib3NlOiB0cnVlLCBhcHBlbmRUbzogJyNkaXYtaWQnLCBjYWxsYmFja0hhbmRsZXI6IGNvbnNvbGUubG9nfSk7XG4gKiBmcmFuY3kucmVuZGVyKGpzb24pO1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGcmFuY3kge1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEZyYW5jeSB3aXRoIHRoZSBmb2xsb3dpbmcgb3B0aW9uczpcbiAgICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHZlcmJvc2UgcHJpbnRzIGV4dHJhIGxvZyBpbmZvcm1hdGlvbiB0byBjb25zb2xlLmxvZywgZGVmYXVsdCBmYWxzZVxuICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGFwcGVuZFRvIHdoZXJlIHRoZSBnZW5lcmF0ZWQgaHRtbC9zdmcgY29tcG9uZW50cyB3aWxsIGJlIGF0dGFjaGVkIHRvLCBkZWZhdWx0IGJvZHlcbiAgICogQHByb3BlcnR5IHtGdW5jdGlvbn0gY2FsbGJhY2tIYW5kbGVyIHRoaXMgaGFuZGxlciB3aWxsIGJlIHVzZWQgdG8gaW52b2tlIGFjdGlvbnMgZnJvbSB0aGUgbWVudSwgZGVmYXVsdCBjb25zb2xlLmxvZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIGlmICghY2FsbGJhY2tIYW5kbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgQ2FsbGJhY2sgSGFuZGxlciBtdXN0IGJlIHByb3ZpZGVkISBUaGlzIHdpbGwgYmUgdXNlZCB0byB0cmlnZ2VyIGV2ZW50cyBmcm9tIHRoZSBncmFwaGljcyBwcm9kdWNlZC4uLicpO1xuICAgIH1cbiAgICBpZiAoIWFwcGVuZFRvKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgYW4gZWxlbWVudCBvciBpZCB0byBhcHBlbmQgdGhlIGdyYXBoaWNzIHRvLi4uIScpO1xuICAgIH1cbiAgICBpZiAoIWQzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0QzIGlzIG5vdCBpbXBvcnRlZCEgRnJhbmN5IHdvblxcJ3Qgd29yayB3aXRob3V0IGl0Li4uIHBsZWFzZSBpbXBvcnQgRDMgdjQrLicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSB2ZXJib3NlIHByaW50cyBleHRyYSBsb2cgaW5mb3JtYXRpb24gdG8gY29uc29sZS5sb2csIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGFwcGVuZFRvIHdoZXJlIHRoZSBnZW5lcmF0ZWQgaHRtbC9zdmcgY29tcG9uZW50cyB3aWxsIGJlIGF0dGFjaGVkIHRvLCBkZWZhdWx0IGJvZHlcbiAgICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBjYWxsYmFja0hhbmRsZXIgdGhpcyBoYW5kbGVyIHdpbGwgYmUgdXNlZCB0byBpbnZva2UgYWN0aW9ucyBmcm9tIHRoZSBtZW51LCBkZWZhdWx0IGNvbnNvbGUubG9nXG4gICAgICovXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgdmVyYm9zZTogdmVyYm9zZSxcbiAgICAgIGFwcGVuZFRvOiBhcHBlbmRUbyxcbiAgICAgIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWluIGVudHJ5IHBvaW50LiBDYWxsaW5nIHJlbmRlciBwYXNzaW5nIGEganNvbiByZXByZXNlbnRhdGlvbiBzdHJpbmcgd2lsbCBcbiAgICogdHJpZ2dlciB0aGUgZHJhd2luZyBvZiBhIGpzb24gb2JqZWN0LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgYSBqc29uIHN0cmluZy9vYmplY3QgcmVuZGVyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IHRoZSBlbGVtZW50IGNyZWF0ZWRcbiAgICovXG4gIHJlbmRlcihpbnB1dCkge1xuICAgIGxldCBqc29uID0gSnNvblV0aWxzLnBhcnNlKGlucHV0KTtcbiAgICBpZiAoanNvbikge1xuICAgICAgLy92YXIgdHJhY2tlciA9IG5ldyBUcmFja2VyKGpzb24sIHRoaXMub3B0aW9ucyk7XG4gICAgICAvL3RyYWNrZXIuc3Vic2NyaWJlKGZ1bmN0aW9uKG9iaikgeyBjb25zb2xlLmxvZyhvYmopOyB9KTtcbiAgICAgIC8vcmV0dXJuIG5ldyBEcmF3KHRoaXMub3B0aW9ucykuaGFuZGxlKHRyYWNrZXIub2JqZWN0KTtcbiAgICAgIHZhciBjYW52YXMgPSBuZXcgQ2FudmFzKHRoaXMub3B0aW9ucyk7XG4gICAgICB2YXIgbWVudSA9IG5ldyBNYWluTWVudSh0aGlzLm9wdGlvbnMpO1xuICAgICAgdmFyIGdyYXBoID0gbmV3IEdyYXBoKHRoaXMub3B0aW9ucyk7XG4gICAgICB2YXIgY2hhcnQgPSBuZXcgQ2hhcnQodGhpcy5vcHRpb25zKTtcbiAgICAgIGNhbnZhcy5hZGQobWVudSk7XG4gICAgICBjYW52YXMuYWRkKGdyYXBoKTtcbiAgICAgIGNhbnZhcy5hZGQoY2hhcnQpO1xuICAgICAgdmFyIGVsZW1lbnQgPSBjYW52YXMucmVuZGVyKGpzb24pO1xuICAgICAgQUxMX0NBTlZBU1tqc29uLmNhbnZhcy5pZF0gPSBlbGVtZW50O1xuICAgICAgcmV0dXJuIGVsZW1lbnQubm9kZSgpO1xuICAgIH1cbiAgfVxuXG4gIHVucmVuZGVyKGlkKSB7XG4gICAgZGVsZXRlIEFMTF9DQU5WQVNbaWRdO1xuICB9XG59XG5cbnRyeSB7XG4gIGV4cG9ydHMuRnJhbmN5ID0gd2luZG93LkZyYW5jeSA9IEZyYW5jeTtcbiAgLy8gaGFuZGxlIGV2ZW50cyBvbiByZXNpemVcbiAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gem9vbSB0byBmaXQgYWxsIGNhbnZhcyBvbiByZXNpemVcbiAgICBPYmplY3QudmFsdWVzKEFMTF9DQU5WQVMpLmZvckVhY2goZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICBjYW52YXMuem9vbVRvRml0KCk7XG4gICAgfSk7XG4gICAgLy8gYWRqdXN0IHRvcCBtZW51cyBvbiByZXNpemVcbiAgICBkMy5zZWxlY3RBbGwoJ2ZvcmVpZ25PYmplY3QuZnJhbmN5LW1haW4tbWVudS1ob2xkZXInKS5hdHRyKCd3aWR0aCcsICcxMDAlJyk7XG4gIH07XG59XG5jYXRjaCAoZSkge1xuICBleHBvcnRzLkZyYW5jeSA9IEZyYW5jeTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnLi4vdXRpbC9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICB2ZXJib3NlOiB2ZXJib3NlLFxuICAgICAgYXBwZW5kVG86IGFwcGVuZFRvLFxuICAgICAgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXJcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtMb2dnZXJ9XG4gICAgICovXG4gICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKHRoaXMub3B0aW9ucyk7XG4gIH1cblxuICB1cGRhdGUoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIHZlcmJvc2U6IHZlcmJvc2UsXG4gICAgICBhcHBlbmRUbzogYXBwZW5kVG8sXG4gICAgICBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlclxuICAgIH07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxufVxuIiwiaW1wb3J0IEJhc2UgZnJvbSAnLi9iYXNlJztcbmltcG9ydCBSZXF1aXJlZEFyZ3NNb2RhbCBmcm9tICcuL21vZGFsLXJlcXVpcmVkJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FsbGJhY2tIYW5kbGVyIGV4dGVuZHMgQmFzZSB7XG5cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcbiAgfVxuXG4gIGV4ZWN1dGUoY29uZmlnKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKGNvbmZpZy5jYWxsYmFjay5yZXF1aXJlZEFyZ3MpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG5ldyBSZXF1aXJlZEFyZ3NNb2RhbCh0aGlzLm9wdGlvbnMpLnJlbmRlcihjb25maWcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuY2FsbGJhY2tIYW5kbGVyKGNvbmZpZy5jYWxsYmFjayk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgQ29tcG9zaXRlIGZyb20gJy4vY29tcG9zaXRlJztcbmltcG9ydCBNZXNzYWdlIGZyb20gJy4vbWVzc2FnZSc7XG5cbi8qIGdsb2JhbCBkMyAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXMgZXh0ZW5kcyBDb21wb3NpdGUge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gIH1cblxuICByZW5kZXIoanNvbikge1xuICAgIHZhciBwYXJlbnQgPSBkMy5zZWxlY3QodGhpcy5vcHRpb25zLmFwcGVuZFRvKTtcblxuICAgIHZhciBjYW52YXNJZCA9IGpzb24uY2FudmFzLmlkO1xuICAgIHZhciBjYW52YXMgPSBkMy5zZWxlY3QoYHN2ZyMke2NhbnZhc0lkfWApO1xuICAgIC8vIGNoZWNrIGlmIHRoZSBjYW52YXMgaXMgYWxyZWFkeSBwcmVzZW50XG4gICAgaWYgKCFjYW52YXMubm9kZSgpKSB7XG4gICAgICAvLyBjcmVhdGUgYSBzdmcgZWxlbWVudCBkZXRhY2hlZCBmcm9tIHRoZSBET00hXG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgQ3JlYXRpbmcgQ2FudmFzIFske2NhbnZhc0lkfV0uLi5gKTtcbiAgICAgIGNhbnZhcyA9IHBhcmVudC5hcHBlbmQoJ3N2ZycpXG4gICAgICAgIC5hdHRyKCdpZCcsIGNhbnZhc0lkKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5IGZyYW5jeS1jYW52YXMnKTtcbiAgICB9XG5cbiAgICAvLyBjYW5ub3QgY29udGludWUgaWYgY2FudmFzIGlzIG5vdCBwcmVzZW50XG4gICAgaWYgKCFjYW52YXMubm9kZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE9vcHMsIGNvdWxkIG5vdCBjcmVhdGUgY2FudmFzIHdpdGggaWQgWyR7Y2FudmFzSWR9XS4uLiBDYW5ub3QgcHJvY2VlZC5gKTtcbiAgICB9XG5cbiAgICBjYW52YXMuYXR0cignd2lkdGgnLCBqc29uLmNhbnZhcy53aWR0aCkuYXR0cignaGVpZ2h0JywganNvbi5jYW52YXMuaGVpZ2h0KTtcblxuICAgIHZhciB6b29tID0gZDMuem9vbSgpO1xuXG4gICAgdmFyIGNvbnRlbnQgPSBjYW52YXMuc2VsZWN0KCdnLmZyYW5jeS1jb250ZW50Jyk7XG5cbiAgICBpZiAoIWNvbnRlbnQubm9kZSgpKSB7XG4gICAgICBjb250ZW50ID0gY2FudmFzLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1jb250ZW50Jyk7XG4gICAgICB6b29tLm9uKFwiem9vbVwiLCB6b29tZWQpO1xuICAgICAgY2FudmFzLmNhbGwoem9vbSkub24oXCJkYmxjbGljay56b29tXCIsIG51bGwpOyAvLy50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eSk7XG4gICAgfVxuXG4gICAgY2FudmFzLm9uKFwiY2xpY2tcIiwgc3RvcHBlZCwgdHJ1ZSk7XG5cbiAgICBjYW52YXMuem9vbVRvRml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYm91bmRzID0gY29udGVudC5ub2RlKCkuZ2V0QkJveCgpO1xuXG4gICAgICB2YXIgZnVsbFdpZHRoID0gY2FudmFzLm5vZGUoKS5jbGllbnRXaWR0aCxcbiAgICAgICAgZnVsbEhlaWdodCA9IGNhbnZhcy5ub2RlKCkuY2xpZW50SGVpZ2h0ICsgNDU7IC8vd2VsbCwgdGhlIG1lbnUgaXMgcGFydCBvZiB0aGUgY2FudmFzICstNDBweFxuXG4gICAgICB2YXIgd2lkdGggPSBib3VuZHMud2lkdGgsXG4gICAgICAgIGhlaWdodCA9IGJvdW5kcy5oZWlnaHQ7XG5cbiAgICAgIGlmICh3aWR0aCA9PSAwIHx8IGhlaWdodCA9PSAwKSByZXR1cm47XG5cbiAgICAgIHZhciBtaWRYID0gYm91bmRzLnggKyB3aWR0aCAvIDIsXG4gICAgICAgIG1pZFkgPSBib3VuZHMueSArIGhlaWdodCAvIDI7XG5cbiAgICAgIHZhciBzY2FsZSA9ICgwLjc1KSAvIE1hdGgubWF4KHdpZHRoIC8gZnVsbFdpZHRoLCBoZWlnaHQgLyBmdWxsSGVpZ2h0KTtcbiAgICAgIHZhciB0cmFuc2xhdGVYID0gZnVsbFdpZHRoIC8gMiAtIHNjYWxlICogbWlkWCxcbiAgICAgICAgdHJhbnNsYXRlWSA9IGZ1bGxIZWlnaHQgLyAyIC0gc2NhbGUgKiBtaWRZO1xuXG4gICAgICBjb250ZW50LnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMjAwMClcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0cmFuc2xhdGVYfSwke3RyYW5zbGF0ZVl9KXNjYWxlKCR7c2NhbGV9LCR7c2NhbGV9KWApXG4gICAgICAgIC5vbignZW5kJywgKCkgPT4gdXBkYXRlWm9vbSh0cmFuc2xhdGVYLCB0cmFuc2xhdGVZLCBzY2FsZSkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVab29tKHRyYW5zbGF0ZVgsIHRyYW5zbGF0ZVksIHNjYWxlKSB7XG4gICAgICBjYW52YXMuY2FsbCh6b29tLnRyYW5zZm9ybSwgZDMuem9vbUlkZW50aXR5LnRyYW5zbGF0ZSh0cmFuc2xhdGVYLCB0cmFuc2xhdGVZKS5zY2FsZShzY2FsZSwgc2NhbGUpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB6b29tZWQoKSB7XG4gICAgICBjb250ZW50LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZDMuZXZlbnQudHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9wcGVkKCkge1xuICAgICAgaWYgKGQzLmV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHsgZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IH1cbiAgICB9XG5cbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgQ2FudmFzIHVwZGF0ZWQgWyR7Y2FudmFzSWR9XS4uLmApO1xuXG4gICAgLy8gYWRkIG1lc3NhZ2VzIHRvIGNhbnZhc1xuICAgIHRoaXMub3B0aW9ucy5hcHBlbmRUbyA9IGNhbnZhcztcbiAgICB2YXIgbWVzc2FnZXMgPSBuZXcgTWVzc2FnZSh0aGlzLm9wdGlvbnMpO1xuICAgIG1lc3NhZ2VzLnJlbmRlcihqc29uLmNhbnZhcy5tZXNzYWdlcyk7XG5cbiAgICB0aGlzLnJlbmRlckNoaWxkcmVuKGNhbnZhcywganNvbik7XG5cbiAgICByZXR1cm4gY2FudmFzO1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxuXG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuL3Rvb2x0aXAnO1xuaW1wb3J0IENoYXJ0IGZyb20gJy4vY2hhcnQnO1xuXG4vKiBnbG9iYWwgZDMgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFyQ2hhcnQgZXh0ZW5kcyBSZW5kZXJlciB7XG5cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcbiAgfVxuXG4gIHJlbmRlcihqc29uKSB7XG5cbiAgICAvLyBqdXN0IGlnbm9yZSByZW5kZXJpbmcgaWYgbm8gY2hhcnQgaXMgcHJlc2VudFxuICAgIGlmICghanNvbi5jYW52YXMuY2hhcnQpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdObyBCYXJDaGFydCB0byByZW5kZXIgaGVyZS4uLiBjb250aW51aW5nLi4uJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRvb2x0aXAgPSBuZXcgVG9vbHRpcCh0aGlzLm9wdGlvbnMpO1xuXG4gICAgdmFyIHBhcmVudCA9IHRoaXMub3B0aW9ucy5hcHBlbmRUbztcblxuICAgIHZhciBheGlzID0ganNvbi5jYW52YXMuY2hhcnQuYXhpcyxcbiAgICAgIGRhdGFzZXRzID0ganNvbi5jYW52YXMuY2hhcnQuZGF0YSxcbiAgICAgIGRhdGFzZXROYW1lcyA9IE9iamVjdC5rZXlzKGRhdGFzZXRzKTtcblxuICAgIHZhciBzdmcgPSBwYXJlbnQuc2VsZWN0KCdnLmZyYW5jeS1jb250ZW50JyksXG4gICAgICBtYXJnaW4gPSB7IHRvcDogNTAsIHJpZ2h0OiA1MCwgYm90dG9tOiA1MCwgbGVmdDogNTAgfSxcbiAgICAgIHdpZHRoID0gK3BhcmVudC5hdHRyKCd3aWR0aCcpIHx8IGQzLnNlbGVjdCgnYm9keScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCxcbiAgICAgIGhlaWdodCA9ICtwYXJlbnQuYXR0cignaGVpZ2h0JykgfHwgZDMuc2VsZWN0KCdib2R5Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcblxuICAgIC8vIHNldCB0aGUgZGltZW5zaW9ucyBhbmQgbWFyZ2lucyBvZiB0aGUgY2hhcnRcbiAgICB3aWR0aCA9IHdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gICAgaGVpZ2h0ID0gaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICAvLyBzZXQgdGhlIHJhbmdlc1xuICAgIHZhciB4ID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIHdpZHRoXSkucGFkZGluZygwLjEpLmRvbWFpbihheGlzLnguZG9tYWluKTtcbiAgICB2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodCwgMF0pLmRvbWFpbihheGlzLnkuZG9tYWluKTtcblxuICAgIHZhciB0bXAgPSBbXTtcbiAgICBkYXRhc2V0TmFtZXMuZm9yRWFjaChrZXkgPT4gdG1wID0gdG1wLmNvbmNhdChkYXRhc2V0c1trZXldKSk7XG5cbiAgICBpZiAoIWF4aXMueS5kb21haW4ubGVuZ3RoKSB7XG4gICAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRtcCwgZCA9PiBkKV0pO1xuICAgIH1cblxuICAgIGlmICghYXhpcy54LmRvbWFpbi5sZW5ndGgpIHtcbiAgICAgIGF4aXMueC5kb21haW4gPSBDaGFydC5kb21haW5SYW5nZSh0bXAubGVuZ3RoIC8gZGF0YXNldE5hbWVzLmxlbmd0aCk7XG4gICAgICB4LmRvbWFpbihheGlzLnguZG9tYWluKTtcbiAgICB9XG5cbiAgICB2YXIgYmFyc0dyb3VwID0gc3ZnLnNlbGVjdEFsbCgnZy5mcmFuY3ktYmFycycpO1xuXG4gICAgaWYgKCFiYXJzR3JvdXAubm9kZSgpKSB7XG4gICAgICBiYXJzR3JvdXAgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LWJhcnMnKTtcbiAgICB9XG5cbiAgICBkYXRhc2V0TmFtZXMuZm9yRWFjaChmdW5jdGlvbihrZXksIGluZGV4KSB7XG4gICAgICB2YXIgYmFyID0gYmFyc0dyb3VwLnNlbGVjdEFsbChgLmZyYW5jeS1iYXIke2luZGV4fWApLmRhdGEoZGF0YXNldHNba2V5XSk7XG5cbiAgICAgIGJhci5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICAgIC8vIGFwcGVuZCB0aGUgcmVjdGFuZ2xlcyBmb3IgdGhlIGJhciBjaGFydFxuICAgICAgYmFyLmVudGVyKClcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsICgpID0+IENoYXJ0LmNvbG9ycyhpbmRleCAqIDUpKVxuICAgICAgICAuYXR0cignY2xhc3MnLCBgZnJhbmN5LWJhciR7aW5kZXh9YClcbiAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiB4KGF4aXMueC5kb21haW5baV0pICsgaW5kZXggKiAoeC5iYW5kd2lkdGgoKSAvIGRhdGFzZXROYW1lcy5sZW5ndGgpOyB9KVxuICAgICAgICAuYXR0cignd2lkdGgnLCAoeC5iYW5kd2lkdGgoKSAvIGRhdGFzZXROYW1lcy5sZW5ndGgpIC0gMSlcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbihkKSB7IHJldHVybiB5KGQpOyB9KVxuICAgICAgICAuYXR0cignaGVpZ2h0JywgZnVuY3Rpb24oZCkgeyByZXR1cm4gaGVpZ2h0IC0geShkKTsgfSlcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuZHVyYXRpb24oMjUwKS5zdHlsZShcImZpbGwtb3BhY2l0eVwiLCAwLjUpO1xuICAgICAgICAgIHRvb2x0aXAucmVuZGVyKHsgJ0RhdGFzZXQnOiBrZXksICdWYWx1ZSc6IGQgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC5kdXJhdGlvbigyNTApLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsIDEpO1xuICAgICAgICAgIHRvb2x0aXAudW5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGJhci5tZXJnZShiYXIpLm9uKCdlbmQnLCAoKSA9PiBwYXJlbnQuem9vbVRvRml0KCkpO1xuICAgIH0pO1xuXG4gICAgLy8gZm9yY2UgcmVidWlsZCBheGlzIGFnYWluXG4gICAgdmFyIHhBeGlzR3JvdXAgPSBzdmcuc2VsZWN0QWxsKCdnLmZyYW5jeS14LWF4aXMnKTtcblxuICAgIGlmICgheEF4aXNHcm91cC5ub2RlKCkpIHtcbiAgICAgIHhBeGlzR3JvdXAgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXgtYXhpcycpO1xuICAgIH1cblxuICAgIHhBeGlzR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgICAvLyBhZGQgdGhlIHggQXhpc1xuICAgIHhBeGlzR3JvdXBcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHtoZWlnaHR9KWApXG4gICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKVxuICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignZHknLCA1MClcbiAgICAgIC5hdHRyKCdkeCcsIHdpZHRoIC8gMilcbiAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktYXhpcycpXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXG4gICAgICAudGV4dChheGlzLngudGl0bGUpO1xuXG4gICAgLy8gZm9yY2UgcmVidWlsZCBheGlzIGFnYWluXG4gICAgdmFyIHlBeGlzR3JvdXAgPSBzdmcuc2VsZWN0QWxsKCdnLmZyYW5jeS15LWF4aXMnKTtcblxuICAgIGlmICgheUF4aXNHcm91cC5ub2RlKCkpIHtcbiAgICAgIHlBeGlzR3JvdXAgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXktYXhpcycpO1xuICAgIH1cblxuICAgIHlBeGlzR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgICAvLyBhZGQgdGhlIHkgQXhpc1xuICAgIHlBeGlzR3JvdXBcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKVxuICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignZHgnLCAtNTApXG4gICAgICAuYXR0cignZHknLCBoZWlnaHQgLyAyKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1heGlzJylcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcbiAgICAgIC50ZXh0KGF4aXMueS50aXRsZSk7XG5cbiAgICB2YXIgbGVnZW5kR3JvdXAgPSBzdmcuc2VsZWN0QWxsKCcuZnJhbmN5LWxlZ2VuZCcpO1xuXG4gICAgaWYgKCFsZWdlbmRHcm91cC5ub2RlKCkpIHtcbiAgICAgIGxlZ2VuZEdyb3VwID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1sZWdlbmQnKTtcbiAgICB9XG5cbiAgICAvLyBmb3JjZSByZWJ1aWxkIGxlZ2VuZCBhZ2FpblxuICAgIGxlZ2VuZEdyb3VwLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xuXG4gICAgdmFyIGxlZ2VuZCA9IGxlZ2VuZEdyb3VwLnNlbGVjdEFsbCgnZycpLmRhdGEoZGF0YXNldE5hbWVzLnNsaWNlKCkpO1xuXG4gICAgbGVnZW5kLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIGxlZ2VuZCA9IGxlZ2VuZC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCwgaSkgPT4gYHRyYW5zbGF0ZSgwLCR7aSAqIDIwfSlgKVxuICAgICAgLm1lcmdlKGxlZ2VuZCk7XG5cbiAgICBsZWdlbmQuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCd4Jywgd2lkdGggKyAyMClcbiAgICAgIC5hdHRyKCd3aWR0aCcsIDE5KVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDE5KVxuICAgICAgLnN0eWxlKCdmaWxsJywgKGQsIGkpID0+IENoYXJ0LmNvbG9ycyhpICogNSkpO1xuXG4gICAgbGVnZW5kLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cigneCcsIHdpZHRoICsgODApXG4gICAgICAuYXR0cigneScsIDkpXG4gICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLnRleHQoZCA9PiBkKTtcblxuICAgIHBhcmVudC56b29tVG9GaXQoKTtcblxuICAgIHJldHVybiBzdmc7XG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuL3Rvb2x0aXAnO1xuaW1wb3J0IENoYXJ0IGZyb20gJy4vY2hhcnQnO1xuXG4vKiBnbG9iYWwgZDMgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGluZUNoYXJ0IGV4dGVuZHMgUmVuZGVyZXIge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gIH1cblxuICByZW5kZXIoanNvbikge1xuXG4gICAgLy8ganVzdCBpZ25vcmUgcmVuZGVyaW5nIGlmIG5vIGNoYXJ0IGlzIHByZXNlbnRcbiAgICBpZiAoIWpzb24uY2FudmFzLmNoYXJ0KSB7XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnTm8gTGluZUNoYXJ0IHRvIHJlbmRlciBoZXJlLi4uIGNvbnRpbnVpbmcuLi4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdG9vbHRpcCA9IG5ldyBUb29sdGlwKHRoaXMub3B0aW9ucyk7XG5cbiAgICB2YXIgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvO1xuXG4gICAgdmFyIGF4aXMgPSBqc29uLmNhbnZhcy5jaGFydC5heGlzLFxuICAgICAgZGF0YXNldHMgPSBqc29uLmNhbnZhcy5jaGFydC5kYXRhLFxuICAgICAgZGF0YXNldE5hbWVzID0gT2JqZWN0LmtleXMoZGF0YXNldHMpO1xuXG4gICAgdmFyIHN2ZyA9IHBhcmVudC5zZWxlY3QoJ2cuZnJhbmN5LWNvbnRlbnQnKSxcbiAgICAgIG1hcmdpbiA9IHsgdG9wOiA1MCwgcmlnaHQ6IDUwLCBib3R0b206IDUwLCBsZWZ0OiA1MCB9LFxuICAgICAgd2lkdGggPSArcGFyZW50LmF0dHIoJ3dpZHRoJykgfHwgZDMuc2VsZWN0KCdib2R5Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gK3BhcmVudC5hdHRyKCdoZWlnaHQnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXG4gICAgLy8gc2V0IHRoZSBkaW1lbnNpb25zIGFuZCBtYXJnaW5zIG9mIHRoZSBjaGFydFxuICAgIHdpZHRoID0gd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICBoZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuICAgIC8vIHNldCB0aGUgcmFuZ2VzXG4gICAgdmFyIHggPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFswLCB3aWR0aF0pLmRvbWFpbihheGlzLnguZG9tYWluKTtcbiAgICB2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodCwgMF0pLmRvbWFpbihheGlzLnkuZG9tYWluKTtcblxuICAgIHZhciB0bXAgPSBbXTtcbiAgICBkYXRhc2V0TmFtZXMuZm9yRWFjaChrZXkgPT4gdG1wID0gdG1wLmNvbmNhdChkYXRhc2V0c1trZXldKSk7XG5cbiAgICBpZiAoIWF4aXMueS5kb21haW4ubGVuZ3RoKSB7XG4gICAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRtcCwgZCA9PiBkKV0pO1xuICAgIH1cblxuICAgIGlmICghYXhpcy54LmRvbWFpbi5sZW5ndGgpIHtcbiAgICAgIHguZG9tYWluKFswLCB0bXAubGVuZ3RoIC8gZGF0YXNldE5hbWVzLmxlbmd0aF0pO1xuICAgIH1cblxuICAgIHZhciBsaW5lc0dyb3VwID0gc3ZnLnNlbGVjdEFsbCgnZy5mcmFuY3ktbGluZXMnKTtcblxuICAgIGlmICghbGluZXNHcm91cC5ub2RlKCkpIHtcbiAgICAgIGxpbmVzR3JvdXAgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LWxpbmVzJyk7XG4gICAgfVxuXG4gICAgZGF0YXNldE5hbWVzLmZvckVhY2goZnVuY3Rpb24oa2V5LCBpbmRleCkge1xuICAgICAgdmFyIHZhbHVlTGluZSA9IGQzLmxpbmUoKVxuICAgICAgICAueChmdW5jdGlvbihkLCBpKSB7IHJldHVybiB4KGkpOyB9KVxuICAgICAgICAueShmdW5jdGlvbihkKSB7IHJldHVybiB5KGQpOyB9KTtcblxuICAgICAgdmFyIGxpbmUgPSBsaW5lc0dyb3VwLnNlbGVjdEFsbChgLmxpbmUke2luZGV4fWApLmRhdGEoW2RhdGFzZXRzW2tleV1dKTtcblxuICAgICAgbGluZS5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICAgIC8vIGFwcGVuZCB0aGUgcmVjdGFuZ2xlcyBmb3IgdGhlIGJhciBjaGFydFxuICAgICAgbGluZS5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICgpID0+IENoYXJ0LmNvbG9ycyhpbmRleCAqIDUpKVxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsICc1cHgnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCBgZnJhbmN5LWxpbmUke2luZGV4fWApXG4gICAgICAgIC5hdHRyKCdkJywgdmFsdWVMaW5lKVxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC5kdXJhdGlvbigyNTApXG4gICAgICAgICAgICAuc3R5bGUoXCJzdHJva2Utb3BhY2l0eVwiLCAwLjUpXG4gICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsICcxMHB4Jyk7XG4gICAgICAgICAgdG9vbHRpcC5yZW5kZXIoeyAnRGF0YXNldCc6IGtleSwgJ1ZhbHVlJzogZCB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgLmR1cmF0aW9uKDI1MClcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZS1vcGFjaXR5XCIsIDEpXG4gICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsICc1cHgnKTtcbiAgICAgICAgICB0b29sdGlwLnVucmVuZGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICBsaW5lLm1lcmdlKGxpbmUpO1xuICAgIH0pO1xuXG4gICAgLy8gZm9yY2UgcmVidWlsZCBheGlzIGFnYWluXG4gICAgdmFyIHhBeGlzR3JvdXAgPSBzdmcuc2VsZWN0QWxsKCdnLmZyYW5jeS14LWF4aXMnKTtcblxuICAgIGlmICgheEF4aXNHcm91cC5ub2RlKCkpIHtcbiAgICAgIHhBeGlzR3JvdXAgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXgtYXhpcycpO1xuICAgIH1cblxuICAgIHhBeGlzR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgICAvLyBhZGQgdGhlIHggQXhpc1xuICAgIHhBeGlzR3JvdXBcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHtoZWlnaHR9KWApXG4gICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKVxuICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignZHknLCA1MClcbiAgICAgIC5hdHRyKCdkeCcsIHdpZHRoIC8gMilcbiAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktYXhpcycpXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXG4gICAgICAudGV4dChheGlzLngudGl0bGUpO1xuXG4gICAgLy8gZm9yY2UgcmVidWlsZCBheGlzIGFnYWluXG4gICAgdmFyIHlBeGlzR3JvdXAgPSBzdmcuc2VsZWN0QWxsKCdnLmZyYW5jeS15LWF4aXMnKTtcblxuICAgIGlmICgheUF4aXNHcm91cC5ub2RlKCkpIHtcbiAgICAgIHlBeGlzR3JvdXAgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXktYXhpcycpO1xuICAgIH1cblxuICAgIHlBeGlzR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgICAvLyBhZGQgdGhlIHkgQXhpc1xuICAgIHlBeGlzR3JvdXBcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKVxuICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignZHgnLCAtNTApXG4gICAgICAuYXR0cignZHknLCBoZWlnaHQgLyAyKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1heGlzJylcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcbiAgICAgIC50ZXh0KGF4aXMueS50aXRsZSk7XG5cbiAgICB2YXIgbGVnZW5kR3JvdXAgPSBzdmcuc2VsZWN0QWxsKCcuZnJhbmN5LWxlZ2VuZCcpO1xuXG4gICAgaWYgKCFsZWdlbmRHcm91cC5ub2RlKCkpIHtcbiAgICAgIGxlZ2VuZEdyb3VwID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1sZWdlbmQnKTtcbiAgICB9XG5cbiAgICAvLyBmb3JjZSByZWJ1aWxkIGxlZ2VuZCBhZ2FpblxuICAgIGxlZ2VuZEdyb3VwLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xuXG4gICAgdmFyIGxlZ2VuZCA9IGxlZ2VuZEdyb3VwLnNlbGVjdEFsbCgnZycpLmRhdGEoZGF0YXNldE5hbWVzLnNsaWNlKCkpO1xuXG4gICAgbGVnZW5kLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIGxlZ2VuZCA9IGxlZ2VuZC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCwgaSkgPT4gYHRyYW5zbGF0ZSgwLCR7aSAqIDIwfSlgKVxuICAgICAgLm1lcmdlKGxlZ2VuZCk7XG5cbiAgICBsZWdlbmQuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCd4Jywgd2lkdGggKyAyMClcbiAgICAgIC5hdHRyKCd3aWR0aCcsIDE5KVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDE5KVxuICAgICAgLnN0eWxlKCdmaWxsJywgKGQsIGkpID0+IENoYXJ0LmNvbG9ycyhpICogNSkpO1xuXG4gICAgbGVnZW5kLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cigneCcsIHdpZHRoICsgODApXG4gICAgICAuYXR0cigneScsIDkpXG4gICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLnRleHQoZCA9PiBkKTtcblxuICAgIHBhcmVudC56b29tVG9GaXQoKTtcblxuICAgIHJldHVybiBzdmc7XG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuL3Rvb2x0aXAnO1xuaW1wb3J0IENoYXJ0IGZyb20gJy4vY2hhcnQnO1xuXG4vKiBnbG9iYWwgZDMgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NhdHRlckNoYXJ0IGV4dGVuZHMgUmVuZGVyZXIge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gIH1cblxuICByZW5kZXIoanNvbikge1xuXG4gICAgLy8ganVzdCBpZ25vcmUgcmVuZGVyaW5nIGlmIG5vIGNoYXJ0IGlzIHByZXNlbnRcbiAgICBpZiAoIWpzb24uY2FudmFzLmNoYXJ0KSB7XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnTm8gU2NhdHRlckNoYXJ0IHRvIHJlbmRlciBoZXJlLi4uIGNvbnRpbnVpbmcuLi4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdG9vbHRpcCA9IG5ldyBUb29sdGlwKHRoaXMub3B0aW9ucyk7XG5cbiAgICB2YXIgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvO1xuXG4gICAgdmFyIGF4aXMgPSBqc29uLmNhbnZhcy5jaGFydC5heGlzLFxuICAgICAgZGF0YXNldHMgPSBqc29uLmNhbnZhcy5jaGFydC5kYXRhLFxuICAgICAgZGF0YXNldE5hbWVzID0gT2JqZWN0LmtleXMoZGF0YXNldHMpO1xuXG4gICAgdmFyIHN2ZyA9IHBhcmVudC5zZWxlY3QoJ2cuZnJhbmN5LWNvbnRlbnQnKSxcbiAgICAgIG1hcmdpbiA9IHsgdG9wOiA1MCwgcmlnaHQ6IDUwLCBib3R0b206IDUwLCBsZWZ0OiA1MCB9LFxuICAgICAgd2lkdGggPSArcGFyZW50LmF0dHIoJ3dpZHRoJykgfHwgZDMuc2VsZWN0KCdib2R5Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gK3BhcmVudC5hdHRyKCdoZWlnaHQnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXG4gICAgLy8gc2V0IHRoZSBkaW1lbnNpb25zIGFuZCBtYXJnaW5zIG9mIHRoZSBjaGFydFxuICAgIHdpZHRoID0gd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICBoZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuICAgIC8vIHNldCB0aGUgcmFuZ2VzXG4gICAgdmFyIHggPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFswLCB3aWR0aF0pLmRvbWFpbihheGlzLnguZG9tYWluKTtcbiAgICB2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodCwgMF0pLmRvbWFpbihheGlzLnkuZG9tYWluKTtcblxuICAgIHZhciB0bXAgPSBbXTtcbiAgICBkYXRhc2V0TmFtZXMuZm9yRWFjaChrZXkgPT4gdG1wID0gdG1wLmNvbmNhdChkYXRhc2V0c1trZXldKSk7XG5cbiAgICBpZiAoIWF4aXMueS5kb21haW4ubGVuZ3RoKSB7XG4gICAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRtcCwgZCA9PiBkKV0pO1xuICAgIH1cblxuICAgIGlmICghYXhpcy54LmRvbWFpbi5sZW5ndGgpIHtcbiAgICAgIHguZG9tYWluKFswLCB0bXAubGVuZ3RoIC8gZGF0YXNldE5hbWVzLmxlbmd0aF0pO1xuICAgIH1cblxuICAgIHZhciBzY2F0dGVyR3JvdXAgPSBzdmcuc2VsZWN0QWxsKCdnLmZyYW5jeS1zY2F0dGVycycpO1xuXG4gICAgaWYgKCFzY2F0dGVyR3JvdXAubm9kZSgpKSB7XG4gICAgICBzY2F0dGVyR3JvdXAgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXNjYXR0ZXJzJyk7XG4gICAgfVxuXG4gICAgZGF0YXNldE5hbWVzLmZvckVhY2goZnVuY3Rpb24oa2V5LCBpbmRleCkge1xuICAgICAgdmFyIHNjYXR0ZXIgPSBzY2F0dGVyR3JvdXAuc2VsZWN0QWxsKGAuc2NhdHRlciR7aW5kZXh9YCkuZGF0YShkYXRhc2V0c1trZXldKTtcblxuICAgICAgc2NhdHRlci5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICAgIC8vIGFwcGVuZCB0aGUgcmVjdGFuZ2xlcyBmb3IgdGhlIGJhciBjaGFydFxuICAgICAgc2NhdHRlclxuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAoKSA9PiBDaGFydC5jb2xvcnMoaW5kZXggKiA1KSlcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgYGZyYW5jeS1zY2F0dGVyJHtpbmRleH1gKVxuICAgICAgICAuYXR0cihcInJcIiwgNSlcbiAgICAgICAgLmF0dHIoXCJjeFwiLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiB4KGkpOyB9KVxuICAgICAgICAuYXR0cihcImN5XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHkoZCk7IH0pXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgLmR1cmF0aW9uKDI1MClcbiAgICAgICAgICAgIC5zdHlsZShcImZpbGwtb3BhY2l0eVwiLCAwLjUpXG4gICAgICAgICAgICAuYXR0cigncicsIDEwKTtcbiAgICAgICAgICB0b29sdGlwLnJlbmRlcih7ICdEYXRhc2V0Jzoga2V5LCAnVmFsdWUnOiBkIH0pO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuZHVyYXRpb24oMjUwKVxuICAgICAgICAgICAgLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsIDEpXG4gICAgICAgICAgICAuYXR0cigncicsIDUpO1xuICAgICAgICAgIHRvb2x0aXAudW5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIHNjYXR0ZXIubWVyZ2Uoc2NhdHRlcik7XG4gICAgfSk7XG5cbiAgICAvLyBmb3JjZSByZWJ1aWxkIGF4aXMgYWdhaW5cbiAgICB2YXIgeEF4aXNHcm91cCA9IHN2Zy5zZWxlY3RBbGwoJ2cuZnJhbmN5LXgtYXhpcycpO1xuXG4gICAgaWYgKCF4QXhpc0dyb3VwLm5vZGUoKSkge1xuICAgICAgeEF4aXNHcm91cCA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3kteC1heGlzJyk7XG4gICAgfVxuXG4gICAgeEF4aXNHcm91cC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcblxuICAgIC8vIGFkZCB0aGUgeCBBeGlzXG4gICAgeEF4aXNHcm91cFxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke2hlaWdodH0pYClcbiAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdkeScsIDUwKVxuICAgICAgLmF0dHIoJ2R4Jywgd2lkdGggLyAyKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1heGlzJylcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcbiAgICAgIC50ZXh0KGF4aXMueC50aXRsZSk7XG5cbiAgICAvLyBmb3JjZSByZWJ1aWxkIGF4aXMgYWdhaW5cbiAgICB2YXIgeUF4aXNHcm91cCA9IHN2Zy5zZWxlY3RBbGwoJ2cuZnJhbmN5LXktYXhpcycpO1xuXG4gICAgaWYgKCF5QXhpc0dyb3VwLm5vZGUoKSkge1xuICAgICAgeUF4aXNHcm91cCA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3kteS1heGlzJyk7XG4gICAgfVxuXG4gICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcblxuICAgIC8vIGFkZCB0aGUgeSBBeGlzXG4gICAgeUF4aXNHcm91cFxuICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSkpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdkeCcsIC01MClcbiAgICAgIC5hdHRyKCdkeScsIGhlaWdodCAvIDIpXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LWF4aXMnKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgICAgLnRleHQoYXhpcy55LnRpdGxlKTtcblxuICAgIHZhciBsZWdlbmRHcm91cCA9IHN2Zy5zZWxlY3RBbGwoJy5mcmFuY3ktbGVnZW5kJyk7XG5cbiAgICBpZiAoIWxlZ2VuZEdyb3VwLm5vZGUoKSkge1xuICAgICAgbGVnZW5kR3JvdXAgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LWxlZ2VuZCcpO1xuICAgIH1cblxuICAgIC8vIGZvcmNlIHJlYnVpbGQgbGVnZW5kIGFnYWluXG4gICAgbGVnZW5kR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG5cbiAgICB2YXIgbGVnZW5kID0gbGVnZW5kR3JvdXAuc2VsZWN0QWxsKCdnJykuZGF0YShkYXRhc2V0TmFtZXMuc2xpY2UoKSk7XG5cbiAgICBsZWdlbmQuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgbGVnZW5kID0gbGVnZW5kLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiBgdHJhbnNsYXRlKDAsJHtpICogMjB9KWApXG4gICAgICAubWVyZ2UobGVnZW5kKTtcblxuICAgIGxlZ2VuZC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHIoJ3gnLCB3aWR0aCArIDIwKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgMTkpXG4gICAgICAuYXR0cignaGVpZ2h0JywgMTkpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCAoZCwgaSkgPT4gQ2hhcnQuY29sb3JzKGkgKiA1KSk7XG5cbiAgICBsZWdlbmQuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCd4Jywgd2lkdGggKyA4MClcbiAgICAgIC5hdHRyKCd5JywgOSlcbiAgICAgIC5hdHRyKCdkeScsICcuMzVlbScpXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXG4gICAgICAudGV4dChkID0+IGQpO1xuXG4gICAgcGFyZW50Lnpvb21Ub0ZpdCgpO1xuXG4gICAgcmV0dXJuIHN2ZztcbiAgfVxuXG4gIHVucmVuZGVyKCkge31cbn1cbiIsImltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyJztcbmltcG9ydCBCYXJDaGFydCBmcm9tICcuL2NoYXJ0LWJhcic7XG5pbXBvcnQgTGluZUNoYXJ0IGZyb20gJy4vY2hhcnQtbGluZSc7XG5pbXBvcnQgU2NhdHRlckNoYXJ0IGZyb20gJy4vY2hhcnQtc2NhdHRlcic7XG5cbi8qIGdsb2JhbCBkMyAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGFydCBleHRlbmRzIFJlbmRlcmVyIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICB9XG5cbiAgcmVuZGVyKGpzb24pIHtcblxuICAgIGlmICghanNvbi5jYW52YXMuY2hhcnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICBzd2l0Y2ggKGpzb24uY2FudmFzLmNoYXJ0LnR5cGUpIHtcbiAgICAgIGNhc2UgXCJiYXJcIjpcbiAgICAgICAgZWxlbWVudCA9IG5ldyBCYXJDaGFydCh0aGlzLm9wdGlvbnMpLnJlbmRlcihqc29uKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibGluZVwiOlxuICAgICAgICBlbGVtZW50ID0gbmV3IExpbmVDaGFydCh0aGlzLm9wdGlvbnMpLnJlbmRlcihqc29uKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic2NhdHRlclwiOlxuICAgICAgICBlbGVtZW50ID0gbmV3IFNjYXR0ZXJDaGFydCh0aGlzLm9wdGlvbnMpLnJlbmRlcihqc29uKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGNvbG9ycygpIHtcbiAgICByZXR1cm4gZDMuc2NhbGVTZXF1ZW50aWFsKCkuZG9tYWluKFswLCAxMDBdKS5pbnRlcnBvbGF0b3IoZDMuaW50ZXJwb2xhdGVSYWluYm93KTtcbiAgfVxuXG4gIHN0YXRpYyBkb21haW5SYW5nZShtYXgpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgQXJyYXkobWF4KSwgKF8sIGkpID0+IGkpLm1hcCh4ID0+IHgpO1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxuXG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvc2l0ZSBleHRlbmRzIFJlbmRlcmVyIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICAgIGlmIChuZXcudGFyZ2V0ID09PSBDb21wb3NpdGUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgW0NvbXBvc2l0ZV0gaW5zdGFuY2VzIGRpcmVjdGx5IScpO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlcmVycyA9IFtdO1xuICB9XG5cbiAgYWRkKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlcnMucHVzaChyZW5kZXJlcik7XG4gIH1cblxuICByZW5kZXJDaGlsZHJlbihwYXJlbnQsIGpzb24pIHtcbiAgICAvLyB1cGRhdGUgY2hpbGRyZW4gcmVuZGVyaW5nIHdpdGggYSBuZXcgcGFyZW50IGlmIHJlcXVpcmVkIVxuICAgIHZhciBjaGlsZHJlbk9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgY2hpbGRyZW5PcHRpb25zLmFwcGVuZFRvID0gcGFyZW50O1xuICAgIH1cbiAgICAvLyByZW5kZXIgb3RoZXIgY29tcG9uZW50c1xuICAgIGZvciAodmFyIHJlbmRlcmVyIG9mIHRoaXMucmVuZGVyZXJzKSB7XG4gICAgICByZW5kZXJlci51cGRhdGUoY2hpbGRyZW5PcHRpb25zKS5yZW5kZXIoanNvbik7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgQ29udGV4dE1lbnUgZnJvbSAnLi9tZW51LWNvbnRleHQnO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi90b29sdGlwJztcbmltcG9ydCBDYWxsYmFjayBmcm9tICcuL2NhbGxiYWNrJztcblxuLyogZ2xvYmFsIGQzICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyYXBoIGV4dGVuZHMgUmVuZGVyZXIge1xuXG5cbiAgc3RhdGljIGdldCBjb2xvcnMoKSB7XG4gICAgcmV0dXJuIGQzLnNjYWxlU2VxdWVudGlhbCgpLmRvbWFpbihbMCwgMTAwXSkuaW50ZXJwb2xhdG9yKGQzLmludGVycG9sYXRlUmFpbmJvdyk7XG4gIH1cblxuICBzdGF0aWMgZ2V0U3ltYm9sKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PT0gJ2NpcmNsZScpIHtcbiAgICAgIHJldHVybiBkMy5zeW1ib2xDaXJjbGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdjcm9zcycpIHtcbiAgICAgIHJldHVybiBkMy5zeW1ib2xDcm9zcztcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ2RpYW1vbmQnKSB7XG4gICAgICByZXR1cm4gZDMuc3ltYm9sRGlhbW9uZDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3NxdWFyZScpIHtcbiAgICAgIHJldHVybiBkMy5zeW1ib2xTcXVhcmU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICd0cmlhbmdsZScpIHtcbiAgICAgIHJldHVybiBkMy5zeW1ib2xUcmlhbmdsZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3N0YXInKSB7XG4gICAgICByZXR1cm4gZDMuc3ltYm9sU3RhcjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3d5ZScpIHtcbiAgICAgIHJldHVybiBkMy5zeW1ib2xXeWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGQzLnN5bWJvbENpcmNsZTtcbiAgICB9XG4gIH1cblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICB9XG5cbiAgcmVuZGVyKGpzb24pIHtcblxuICAgIC8vIGp1c3QgaWdub3JlIHJlbmRlcmluZyBpZiBubyBncmFwaCBpcyBwcmVzZW50XG4gICAgaWYgKCFqc29uLmNhbnZhcy5ncmFwaCkge1xuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ05vIEdyYXBoIHRvIHJlbmRlciBoZXJlLi4uIGNvbnRpbnVpbmcuLi4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdG9vbHRpcCA9IG5ldyBUb29sdGlwKHRoaXMub3B0aW9ucyk7XG4gICAgdmFyIGNvbnRleHRNZW51ID0gbmV3IENvbnRleHRNZW51KHRoaXMub3B0aW9ucyk7XG4gICAgdmFyIGNhbGxiYWNrID0gbmV3IENhbGxiYWNrKHRoaXMub3B0aW9ucyk7XG5cbiAgICB2YXIgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvO1xuXG4gICAgdmFyIGNhbnZhc05vZGVzID0ganNvbi5jYW52YXMuZ3JhcGgubm9kZXMgPyBPYmplY3QudmFsdWVzKGpzb24uY2FudmFzLmdyYXBoLm5vZGVzKSA6IFtdLFxuICAgICAgY2FudmFzTGlua3MgPSBqc29uLmNhbnZhcy5ncmFwaC5saW5rcyA/IE9iamVjdC52YWx1ZXMoanNvbi5jYW52YXMuZ3JhcGgubGlua3MpIDogW107XG5cbiAgICB2YXIgc3ZnID0gcGFyZW50LnNlbGVjdCgnZy5mcmFuY3ktY29udGVudCcpLFxuICAgICAgd2lkdGggPSArcGFyZW50LmF0dHIoJ3dpZHRoJykgfHwgZDMuc2VsZWN0KCdib2R5Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gK3BhcmVudC5hdHRyKCdoZWlnaHQnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXG4gICAgdmFyIGxpbmtHcm91cCA9IHN2Zy5zZWxlY3RBbGwoJ2cuZnJhbmN5LWxpbmtzJyk7XG5cbiAgICBpZiAoIWxpbmtHcm91cC5ub2RlKCkpIHtcbiAgICAgIGxpbmtHcm91cCA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbGlua3MnKTtcbiAgICB9XG5cbiAgICB2YXIgbGluayA9IGxpbmtHcm91cC5zZWxlY3RBbGwoJ2xpbmUuZnJhbmN5LWxpbmsnKS5kYXRhKGNhbnZhc0xpbmtzKTtcblxuICAgIGxpbmsuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgbGluayA9IGxpbmsuZW50ZXIoKS5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1saW5rJylcbiAgICAgIC5hdHRyKCdpZCcsIGQgPT4gYCR7ZC5zb3VyY2V9LCR7ZC50YXJnZXR9YClcbiAgICAgIC5tZXJnZShsaW5rKTtcblxuICAgIGlmIChqc29uLmNhbnZhcy5ncmFwaC50eXBlID09PSAnZGlyZWN0ZWQnKSB7XG4gICAgICAvLyB0aGlzIG1lYW5zIHdlIG5lZWQgYXJyb3dzLCBzbyB3ZSBhcHBlbmQgdGhlIG1hcmtlclxuICAgICAgcGFyZW50LmFwcGVuZCgnZGVmcycpLnNlbGVjdEFsbCgnbWFya2VyJylcbiAgICAgICAgLmRhdGEoWydhcnJvdyddKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ21hcmtlcicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktYXJyb3dzJylcbiAgICAgICAgLmF0dHIoJ2lkJywgZCA9PiBkKVxuICAgICAgICAuYXR0cigndmlld0JveCcsICcwIC01IDEwIDEwJylcbiAgICAgICAgLmF0dHIoJ3JlZlgnLCAyNSlcbiAgICAgICAgLmF0dHIoJ3JlZlknLCAwKVxuICAgICAgICAuYXR0cignbWFya2VyV2lkdGgnLCAxMClcbiAgICAgICAgLmF0dHIoJ21hcmtlckhlaWdodCcsIDEwKVxuICAgICAgICAuYXR0cignb3JpZW50JywgJ2F1dG8nKVxuICAgICAgICAuYXBwZW5kKCdwYXRoJylcbiAgICAgICAgLmF0dHIoJ2QnLCAnTTAsLTVMMTAsMEwwLDUgTDEwLDAgTDAsIC01Jyk7XG4gICAgICAvLyB1cGRhdGUgdGhlIHN0eWxlIG9mIHRoZSBsaW5rXG4gICAgICBsaW5rLnN0eWxlKCdtYXJrZXItZW5kJywgJ3VybCgjYXJyb3cpJyk7XG4gICAgfVxuXG4gICAgdmFyIG5vZGVHcm91cCA9IHN2Zy5zZWxlY3RBbGwoJ2cuZnJhbmN5LW5vZGVzJyk7XG5cbiAgICBpZiAoIW5vZGVHcm91cC5ub2RlKCkpIHtcbiAgICAgIG5vZGVHcm91cCA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbm9kZXMnKTtcbiAgICB9XG5cbiAgICB2YXIgbm9kZSA9IG5vZGVHcm91cC5zZWxlY3RBbGwoJ3BhdGguZnJhbmN5LW5vZGUnKS5kYXRhKGNhbnZhc05vZGVzKTtcblxuICAgIG5vZGUuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgbm9kZSA9IG5vZGUuZW50ZXIoKS5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2QnLCBkMy5zeW1ib2woKS50eXBlKGQgPT4gR3JhcGguZ2V0U3ltYm9sKGQudHlwZSkpLnNpemUoZCA9PiBkLnNpemUgKiAxMDApKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwwKScpXG4gICAgICAuYXR0cignY2xhc3MnLCBkID0+ICdmcmFuY3ktbm9kZScgKyAoZC5oaWdobGlnaHQgPyAnIGZyYW5jeS1oaWdobGlnaHQnIDogJycpICsgKE9iamVjdC52YWx1ZXMoZC5tZW51cykubGVuZ3RoID8gJyBmcmFuY3ktY29udGV4dCcgOiAnJykpXG4gICAgICAuYXR0cignaWQnLCBkID0+IGQuaWQpXG4gICAgICAubWVyZ2Uobm9kZSk7XG5cbiAgICBub2RlLmNhbGwoZDMuZHJhZygpXG4gICAgICAgIC5vbignc3RhcnQnLCBkcmFnc3RhcnRlZClcbiAgICAgICAgLm9uKCdkcmFnJywgZHJhZ2dlZClcbiAgICAgICAgLm9uKCdlbmQnLCBkcmFnZW5kZWQpKVxuICAgICAgLm9uKCdjb250ZXh0bWVudScsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgLy8gZGVmYXVsdCwgYnVpbGQgY29udGV4dCBtZW51XG4gICAgICAgIGNvbnRleHRNZW51LnJlbmRlcihkKTtcbiAgICAgICAgLy8gYW55IGNhbGxiYWNrcyB3aWxsIGJlIGhhbmRsZWQgaGVyZVxuICAgICAgICBleGVjdXRlQ2FsbGJhY2suY2FsbCh0aGlzLCBkLCAnY29udGV4dG1lbnUnKTtcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAvLyBkZWZhdWx0LCBoaWdobGlnaHQgY29ubmVjdGVkIG5vZGVzXG4gICAgICAgIGNvbm5lY3RlZE5vZGVzLmNhbGwodGhpcyk7XG4gICAgICAgIC8vIGFueSBjYWxsYmFja3Mgd2lsbCBiZSBoYW5kbGVkIGhlcmVcbiAgICAgICAgZXhlY3V0ZUNhbGxiYWNrLmNhbGwodGhpcywgZCwgJ2NsaWNrJyk7XG4gICAgICB9KVxuICAgICAgLm9uKCdkYmxjbGljaycsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgLy8gYW55IGNhbGxiYWNrcyB3aWxsIGJlIGhhbmRsZWQgaGVyZVxuICAgICAgICBleGVjdXRlQ2FsbGJhY2suY2FsbCh0aGlzLCBkLCAnZGJsY2xpY2snKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgZCA9PiB7XG4gICAgICAgIC8vIGRlZmF1bHQsIHNob3cgdG9vbHRpcFxuICAgICAgICB0b29sdGlwLnJlbmRlcihkLm1lc3NhZ2VzKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW91dFwiLCAoKSA9PiB7XG4gICAgICAgIC8vIGRlZmF1bHQsIGhpZGUgdG9vbHRpcFxuICAgICAgICB0b29sdGlwLnVucmVuZGVyKCk7XG4gICAgICB9KTtcblxuICAgIHZhciBsYWJlbEdyb3VwID0gc3ZnLnNlbGVjdEFsbCgnLmZyYW5jeS1sYWJlbHMnKTtcblxuICAgIGlmICghbGFiZWxHcm91cC5ub2RlKCkpIHtcbiAgICAgIGxhYmVsR3JvdXAgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LWxhYmVscycpO1xuICAgIH1cblxuICAgIHZhciBsYWJlbCA9IGxhYmVsR3JvdXAuc2VsZWN0QWxsKCd0ZXh0JykuZGF0YShjYW52YXNOb2Rlcyk7XG5cbiAgICBsYWJlbC5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICBsYWJlbCA9IGxhYmVsLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktbGFiZWwnKVxuICAgICAgLnRleHQoZCA9PiBkLnRpdGxlKVxuICAgICAgLm1lcmdlKGxhYmVsKTtcblxuICAgIGxhYmVsXG4gICAgICAub24oJ2NvbnRleHRtZW51JywgZnVuY3Rpb24oZCkge1xuICAgICAgICAvLyBkZWZhdWx0LCBidWlsZCBjb250ZXh0IG1lbnVcbiAgICAgICAgY29udGV4dE1lbnUucmVuZGVyKGQpO1xuICAgICAgICAvLyBhbnkgY2FsbGJhY2tzIHdpbGwgYmUgaGFuZGxlZCBoZXJlXG4gICAgICAgIGV4ZWN1dGVDYWxsYmFjay5jYWxsKHRoaXMsIGQsICdjb250ZXh0bWVudScpO1xuICAgICAgfSlcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihkKSB7XG4gICAgICAgIC8vIGRlZmF1bHQsIGhpZ2hsaWdodCBjb25uZWN0ZWQgbm9kZXNcbiAgICAgICAgY29ubmVjdGVkTm9kZXMuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gYW55IGNhbGxiYWNrcyB3aWxsIGJlIGhhbmRsZWQgaGVyZVxuICAgICAgICBleGVjdXRlQ2FsbGJhY2suY2FsbCh0aGlzLCBkLCAnY2xpY2snKTtcbiAgICAgIH0pXG4gICAgICAub24oJ2RibGNsaWNrJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAvLyBhbnkgY2FsbGJhY2tzIHdpbGwgYmUgaGFuZGxlZCBoZXJlXG4gICAgICAgIGV4ZWN1dGVDYWxsYmFjay5jYWxsKHRoaXMsIGQsICdkYmxjbGljaycpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCBkID0+IHtcbiAgICAgICAgLy8gZGVmYXVsdCwgc2hvdyB0b29sdGlwXG4gICAgICAgIHRvb2x0aXAucmVuZGVyKGQubWVzc2FnZXMpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3V0XCIsICgpID0+IHtcbiAgICAgICAgLy8gZGVmYXVsdCwgaGlkZSB0b29sdGlwXG4gICAgICAgIHRvb2x0aXAudW5yZW5kZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgdmFyIGxlZ2VuZEdyb3VwID0gcGFyZW50LnNlbGVjdEFsbCgnLmZyYW5jeS1sZWdlbmQnKTtcblxuICAgIGlmICghbGVnZW5kR3JvdXAubm9kZSgpKSB7XG4gICAgICBsZWdlbmRHcm91cCA9IHBhcmVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbGVnZW5kJyk7XG4gICAgfVxuXG4gICAgLy8gZm9yY2UgcmVidWlsZCBsZWdlbmQgYWdhaW5cbiAgICBsZWdlbmRHcm91cC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcblxuICAgIHZhciBsZWdlbmQgPSBsZWdlbmRHcm91cC5zZWxlY3RBbGwoJ2cnKVxuICAgICAgLmRhdGEoZDMubWFwKGNhbnZhc05vZGVzLCBkID0+IGQubGF5ZXIpLnZhbHVlcygpLnNvcnQoKGEsIGIpID0+IGEubGF5ZXIgPiBiLmxheWVyKSwgZCA9PiBkLmlkKTtcblxuICAgIGxlZ2VuZC5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICBsZWdlbmQgPSBsZWdlbmQuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignaWQnLCBkID0+IGBsZWdlbmRMYXllciR7ZC5pZH1gKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiBgdHJhbnNsYXRlKCR7MTB9LCR7KGkgKyA1KSAqIDEyfSlgKVxuICAgICAgLm1lcmdlKGxlZ2VuZCk7XG5cbiAgICBsZWdlbmQuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCd3aWR0aCcsIDEwKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDgpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBkID0+IEdyYXBoLmNvbG9ycyhkLmxheWVyICogNikpXG4gICAgICAuc3R5bGUoJ3N0cm9rZScsIGQgPT4gR3JhcGguY29sb3JzKGQubGF5ZXIgKiA2KSk7XG5cbiAgICBsZWdlbmQuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdzdHlsZScsICdmb250LXNpemU6IDEwcHg7JylcbiAgICAgIC5hdHRyKCd4JywgMTAgKyA1KVxuICAgICAgLmF0dHIoJ3knLCAxMCAtIDIpXG4gICAgICAudGV4dChkID0+IGBJbmRleCAke2QubGF5ZXJ9YCk7XG5cbiAgICAvLyBDYW52YXMgRm9yY2VzXG4gICAgdmFyIGNlbnRlckZvcmNlID0gZDMuZm9yY2VDZW50ZXIoKS54KHdpZHRoIC8gMikueShoZWlnaHQgLyAyKTtcbiAgICB2YXIgbWFueUZvcmNlID0gZDMuZm9yY2VNYW55Qm9keSgpLnN0cmVuZ3RoKC1jYW52YXNOb2Rlcy5sZW5ndGggKiAzMCk7XG4gICAgdmFyIGxpbmtGb3JjZSA9IGQzLmZvcmNlTGluayhjYW52YXNMaW5rcykuaWQoZCA9PiBkLmlkKS5kaXN0YW5jZSg1MCk7XG4gICAgdmFyIGNvbGxpZGVGb3JjZSA9IGQzLmZvcmNlQ29sbGlkZShkID0+IGQuc2l6ZSAqIDIpO1xuXG4gICAgLy9HZW5lcmljIGdyYXZpdHkgZm9yIHRoZSBYIHBvc2l0aW9uXG4gICAgdmFyIGZvcmNlWCA9IGQzLmZvcmNlWCh3aWR0aCAvIDIpLnN0cmVuZ3RoKDAuMDUpO1xuXG4gICAgLy9HZW5lcmljIGdyYXZpdHkgZm9yIHRoZSBZIHBvc2l0aW9uIC0gdW5kaXJlY3RlZC9kaXJlY3RlZCBncmFwaHMgZmFsbCBoZXJlXG4gICAgdmFyIGZvcmNlWSA9IGQzLmZvcmNlWShoZWlnaHQgLyAyKS5zdHJlbmd0aCgwLjI1KTtcblxuICAgIGlmIChqc29uLmNhbnZhcy5ncmFwaC50eXBlID09PSAnaGFzc2UnKSB7XG4gICAgICAvL0dlbmVyaWMgZ3Jhdml0eSBmb3IgdGhlIFggcG9zaXRpb25cbiAgICAgIGZvcmNlWCA9IGQzLmZvcmNlWCh3aWR0aCAvIDIpLnN0cmVuZ3RoKDAuNSk7XG4gICAgICAvL1N0cm9uZyB5IHBvc2l0aW9uaW5nIGJhc2VkIG9uIGxheWVyIHRvIHNpbXVsYXRlIHRoZSBoYXNzZSBkaWFncmFtXG4gICAgICBmb3JjZVkgPSBkMy5mb3JjZVkoZCA9PiBkLmxheWVyICogNTApLnN0cmVuZ3RoKDUpO1xuICAgIH1cblxuICAgIHZhciBzaW11bGF0aW9uID0gZDMuZm9yY2VTaW11bGF0aW9uKGNhbnZhc05vZGVzKVxuICAgICAgLmZvcmNlKFwiY2hhcmdlXCIsIG1hbnlGb3JjZSlcbiAgICAgIC5mb3JjZShcImxpbmtcIiwgbGlua0ZvcmNlKVxuICAgICAgLmZvcmNlKFwiY2VudGVyXCIsIGNlbnRlckZvcmNlKVxuICAgICAgLmZvcmNlKFwieFwiLCBmb3JjZVgpXG4gICAgICAuZm9yY2UoXCJ5XCIsIGZvcmNlWSlcbiAgICAgIC5mb3JjZShcImNvbGxpZGVcIiwgY29sbGlkZUZvcmNlKVxuICAgICAgLm9uKCd0aWNrJywgdGlja2VkKVxuICAgICAgLm9uKFwiZW5kXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyB6b29tIHRvIGZpdCB3aGVuIHNpbXVsYXRpb24gaXMgb3ZlclxuICAgICAgICBwYXJlbnQuem9vbVRvRml0KCk7XG4gICAgICB9KTtcblxuICAgIC8vZm9yY2Ugc2ltdWxhdGlvbiByZXN0YXJ0XG4gICAgc2ltdWxhdGlvbi5yZXN0YXJ0KCk7XG5cbiAgICBmdW5jdGlvbiB0aWNrZWQoKSB7XG4gICAgICBsaW5rXG4gICAgICAgIC5hdHRyKCd4MScsIGQgPT4gZC5zb3VyY2UueClcbiAgICAgICAgLmF0dHIoJ3kxJywgZCA9PiBkLnNvdXJjZS55KVxuICAgICAgICAuYXR0cigneDInLCBkID0+IGQudGFyZ2V0LngpXG4gICAgICAgIC5hdHRyKCd5MicsIGQgPT4gZC50YXJnZXQueSk7XG5cbiAgICAgIG5vZGVcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBHcmFwaC5jb2xvcnMoZC5sYXllciAqIDUpKVxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZCA9PiBgdHJhbnNsYXRlKCR7ZC54fSwke2QueX0pYCk7XG5cbiAgICAgIGxhYmVsXG4gICAgICAgIC5hdHRyKCd4JywgZCA9PiBkLnggLSBkLnRpdGxlLmxlbmd0aCAtIE1hdGguc3FydChkLnNpemUgKiBkLnRpdGxlLmxlbmd0aCAqIDIpKVxuICAgICAgICAuYXR0cigneScsIGQgPT4gZC55IC0gTWF0aC5zcXJ0KGQuc2l6ZSAqIDIpKTtcblxuICAgICAgbm9kZS5lYWNoKGNvbGxpZGUoMSkpO1xuICAgIH1cblxuICAgIC8vIENPTExJU0lPTlxuICAgIHZhciBwYWRkaW5nID0gMTA7IC8vIHNlcGFyYXRpb24gYmV0d2VlbiBjaXJjbGVzO1xuXG4gICAgZnVuY3Rpb24gY29sbGlkZShhbHBoYSkge1xuICAgICAgbGV0IHF1YWRUcmVlID0gZDMucXVhZHRyZWUoY2FudmFzTm9kZXMpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgbGV0IHJiID0gMTAwICogZC5zaXplICsgcGFkZGluZyxcbiAgICAgICAgICBueDEgPSBkLnggLSByYixcbiAgICAgICAgICBueDIgPSBkLnggKyByYixcbiAgICAgICAgICBueTEgPSBkLnkgLSByYixcbiAgICAgICAgICBueTIgPSBkLnkgKyByYjtcbiAgICAgICAgcXVhZFRyZWUudmlzaXQoZnVuY3Rpb24ocXVhZCwgeDEsIHkxLCB4MiwgeTIpIHtcbiAgICAgICAgICBpZiAocXVhZC5wb2ludCAmJiAocXVhZC5wb2ludCAhPT0gZCkpIHtcbiAgICAgICAgICAgIGxldCB4ID0gZC54IC0gcXVhZC5wb2ludC54LFxuICAgICAgICAgICAgICB5ID0gZC55IC0gcXVhZC5wb2ludC55LFxuICAgICAgICAgICAgICBsID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xuICAgICAgICAgICAgaWYgKGwgPCByYikge1xuICAgICAgICAgICAgICBsID0gKGwgLSByYikgLyBsICogYWxwaGE7XG4gICAgICAgICAgICAgIGQueCAtPSB4ICo9IGw7XG4gICAgICAgICAgICAgIGQueSAtPSB5ICo9IGw7XG4gICAgICAgICAgICAgIHF1YWQucG9pbnQueCArPSB4O1xuICAgICAgICAgICAgICBxdWFkLnBvaW50LnkgKz0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHgxID4gbngyIHx8IHgyIDwgbngxIHx8IHkxID4gbnkyIHx8IHkyIDwgbnkxO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSElHSExJR0hUXG4gICAgLy9Ub2dnbGUgc3RvcmVzIHdoZXRoZXIgdGhlIGhpZ2hsaWdodGluZyBpcyBvblxuICAgIHZhciB0b2dnbGUgPSAwO1xuICAgIC8vQ3JlYXRlIGFuIGFycmF5IGxvZ2dpbmcgd2hhdCBpcyBjb25uZWN0ZWQgdG8gd2hhdFxuICAgIHZhciBsaW5rZWRCeUluZGV4ID0ge307XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhbnZhc05vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaW5rZWRCeUluZGV4W2Ake2l9LCR7aX1gXSA9IDE7XG4gICAgfVxuXG4gICAgY2FudmFzTGlua3MuZm9yRWFjaChmdW5jdGlvbihkKSB7XG4gICAgICBsaW5rZWRCeUluZGV4W2Ake2Quc291cmNlLmluZGV4fSwke2QudGFyZ2V0LmluZGV4fWBdID0gMTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGNvbm5lY3RlZE5vZGVzKCkge1xuICAgICAgLy9UaGlzIGZ1bmN0aW9uIGxvb2tzIHVwIHdoZXRoZXIgYSBwYWlyIGFyZSBuZWlnaGJvdXJzXG4gICAgICBmdW5jdGlvbiBuZWlnaGJvcmluZyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBsaW5rZWRCeUluZGV4W2Ake2EuaW5kZXh9LCR7Yi5pbmRleH1gXTtcbiAgICAgIH1cbiAgICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAodG9nZ2xlID09PSAwKSB7XG4gICAgICAgIC8vUmVkdWNlIHRoZSBvcGFjaXR5IG9mIGFsbCBidXQgdGhlIG5laWdoYm91cmluZyBub2Rlc1xuICAgICAgICBsZXQgZCA9IGQzLnNlbGVjdCh0aGlzKS5ub2RlKCkuX19kYXRhX187XG4gICAgICAgIG5vZGUuc3R5bGUoJ29wYWNpdHknLCBvID0+IG5laWdoYm9yaW5nKGQsIG8pIHx8IG5laWdoYm9yaW5nKG8sIGQpID8gMSA6IDAuMSk7XG4gICAgICAgIGxpbmsuc3R5bGUoJ29wYWNpdHknLCBvID0+IGQuaW5kZXggPT09IG8uc291cmNlLmluZGV4IHx8IGQuaW5kZXggPT09IG8udGFyZ2V0LmluZGV4ID8gMSA6IDAuMSk7XG4gICAgICAgIC8vUmVkdWNlIHRoZSBvcFxuICAgICAgICB0b2dnbGUgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vUHV0IHRoZW0gYmFjayB0byBvcGFjaXR5PTFcbiAgICAgICAgbm9kZS5zdHlsZSgnb3BhY2l0eScsIDEpO1xuICAgICAgICBsaW5rLnN0eWxlKCdvcGFjaXR5JywgMSk7XG4gICAgICAgIHRvZ2dsZSA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHJhZ3N0YXJ0ZWQoZCkge1xuICAgICAgaWYgKCFkMy5ldmVudC5hY3RpdmUpIHtcbiAgICAgICAgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwLjAxKS5yZXN0YXJ0KCk7XG4gICAgICB9XG4gICAgICBkLmZ4ID0gZC54O1xuICAgICAgZC5meSA9IGQueTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkcmFnZ2VkKGQpIHtcbiAgICAgIGQuZnggPSBkMy5ldmVudC54O1xuICAgICAgZC5meSA9IGQzLmV2ZW50Lnk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHJhZ2VuZGVkKGQpIHtcbiAgICAgIGlmICghZDMuZXZlbnQuYWN0aXZlKSB7XG4gICAgICAgIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMCk7XG4gICAgICB9XG4gICAgICBkLmZ4ID0gbnVsbDtcbiAgICAgIGQuZnkgPSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4ZWN1dGVDYWxsYmFjayhkYXRhLCBldmVudCkge1xuICAgICAgaWYgKGRhdGEuY2FsbGJhY2tzKSB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoZGF0YS5jYWxsYmFja3MpLmZvckVhY2goKGNiKSA9PiB7XG4gICAgICAgICAgLy8gZXhlY3V0ZSB0aGUgb25lcyB0aGF0IG1hdGNoIHRoZSBldmVudCFcbiAgICAgICAgICBjYi50cmlnZ2VyID09PSBldmVudCAmJiBjYWxsYmFjay5leGVjdXRlKHsgY2FsbGJhY2s6IGNiIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3ZnO1xuXG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG5cbn1cbiIsImltcG9ydCBNZW51IGZyb20gJy4vbWVudSc7XG5cbi8qIGdsb2JhbCBkMyAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250ZXh0TWVudSBleHRlbmRzIE1lbnUge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gICAgdGhpcy5jb250ZXh0TWVudSA9IHRoaXMuU1ZHUGFyZW50LnNlbGVjdCgnZm9yZWlnbk9iamVjdC5mcmFuY3ktY29udGV4dC1tZW51LWhvbGRlcicpO1xuICAgIC8vIGNoZWNrIGlmIHRoZSB3aW5kb3cgaXMgYWxyZWFkeSBwcmVzZW50XG4gICAgaWYgKCF0aGlzLmNvbnRleHRNZW51Lm5vZGUoKSkge1xuICAgICAgdGhpcy5jb250ZXh0TWVudSA9IHRoaXMuU1ZHUGFyZW50LmFwcGVuZCgnZm9yZWlnbk9iamVjdCcpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktY29udGV4dC1tZW51LWhvbGRlcicpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcihvYmplY3QpIHtcblxuICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBqdXN0IGlnbm9yZSByZW5kZXJpbmcgaWYgbm8gbWVudXMgYXJlIHByZXNlbnRcbiAgICBpZiAoIW9iamVjdC5tZW51cyB8fCAhT2JqZWN0LnZhbHVlcyhvYmplY3QubWVudXMpLmxlbmd0aCkge1xuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ05vIENvbnRleHRNZW51IHRvIHJlbmRlciBoZXJlLi4uIGNvbnRpbnVpbmcuLi4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRleHRNZW51XG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMTAwMClcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7ZDMuZXZlbnQub2Zmc2V0WCArIDV9LCR7ZDMuZXZlbnQub2Zmc2V0WSArIDV9KWApO1xuXG4gICAgLy8gc2hvdyB0aGUgY29udGV4dCBtZW51XG4gICAgdGhpcy5jb250ZXh0TWVudS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xuXG4gICAgLy8gY2hlY2sgaWYgaXQgZXhpc3RzIGFscmVhZHlcbiAgICBpZiAodGhpcy5jb250ZXh0TWVudS5zZWxlY3RBbGwoJyonKS5ub2RlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBkZXN0cm95IG1lbnVcbiAgICBkMy5zZWxlY3QoJ2JvZHknKS5vbignY2xpY2suZnJhbmN5LWNvbnRleHQtbWVudScsICgpID0+IHRoaXMudW5yZW5kZXIoKSk7XG5cbiAgICAvLyB0aGlzIGdldHMgZXhlY3V0ZWQgd2hlbiBhIGNvbnRleHRtZW51IGV2ZW50IG9jY3Vyc1xuICAgIHZhciBtZW51ID0gdGhpcy5jb250ZXh0TWVudS5hcHBlbmQoJ3hodG1sOmRpdicpLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LWNvbnRleHQtbWVudScpLmFwcGVuZCgndWwnKTtcbiAgICB2YXIgbWVudXNJdGVyYXRvciA9IHRoaXMuaXRlcmF0b3IoT2JqZWN0LnZhbHVlcyhvYmplY3QubWVudXMpKTtcbiAgICB0aGlzLnRyYXZlcnNlKG1lbnUsIG1lbnVzSXRlcmF0b3IpO1xuXG4gICAgcmV0dXJuIHRoaXMuY29udGV4dE1lbnU7XG4gIH1cblxuICB1bnJlbmRlcigpIHtcbiAgICB0aGlzLmNvbnRleHRNZW51LnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xuICAgIHRoaXMuY29udGV4dE1lbnUuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgfVxufVxuIiwiaW1wb3J0IE1lbnUgZnJvbSAnLi9tZW51JztcbmltcG9ydCBBYm91dE1vZGFsIGZyb20gJy4vbW9kYWwtYWJvdXQnO1xuXG4vKiBnbG9iYWwgZDMgd2luZG93ICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW5NZW51IGV4dGVuZHMgTWVudSB7XG5cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcbiAgfVxuXG4gIHJlbmRlcihqc29uKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMub3B0aW9ucy5hcHBlbmRUbztcblxuICAgIHZhciBhYm91dE1vZGFsID0gbmV3IEFib3V0TW9kYWwodGhpcy5vcHRpb25zKTtcblxuICAgIC8vIG90aGVyd2lzZSBjbGFzaGVzIHdpdGggdGhlIGNhbnZhcyBpdHNlbGYhXG4gICAgdmFyIG1lbnVJZCA9IGBNJHtqc29uLmNhbnZhcy5pZH1gO1xuICAgIHZhciBtZW51ID0gZDMuc2VsZWN0KGAjJHttZW51SWR9YCk7XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgbWVudSBpcyBhbHJlYWR5IHByZXNlbnRcbiAgICBpZiAoIW1lbnUubm9kZSgpKSB7XG4gICAgICAvLyBjcmVhdGUgYSBkaXYgZWxlbWVudCBkZXRhY2hlZCBmcm9tIHRoZSBET00hXG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgQ3JlYXRpbmcgTWFpbiBNZW51IFske21lbnVJZH1dLi4uYCk7XG4gICAgICBtZW51ID0gcGFyZW50LmFwcGVuZCgnZm9yZWlnbk9iamVjdCcpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwwKWApXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktbWFpbi1tZW51LWhvbGRlcicpLmF0dHIoJ2lkJywgbWVudUlkKTtcbiAgICB9XG5cbiAgICAvLyBGb3JjZSByZWJ1aWxkIG1lbnUgYWdhaW5cbiAgICBtZW51LnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xuXG4gICAgbWVudSA9IG1lbnUuYXBwZW5kKCd4aHRtbDp1bCcpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tYWluLW1lbnUnKTtcblxuICAgIGlmIChqc29uLmNhbnZhcy50aXRsZSkge1xuICAgICAgbWVudS5hcHBlbmQoJ2xpJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRpdGxlJykuYXBwZW5kKCdhJykuaHRtbChqc29uLmNhbnZhcy50aXRsZSk7XG4gICAgfVxuXG4gICAgdmFyIGVudHJ5ID0gbWVudS5hcHBlbmQoJ2xpJyk7XG4gICAgZW50cnkuYXBwZW5kKCdhJykuaHRtbCgnRnJhbmN5Jyk7XG4gICAgdmFyIGNvbnRlbnQgPSBlbnRyeS5hcHBlbmQoJ3VsJyk7XG4gICAgY29udGVudC5hcHBlbmQoJ2xpJykuYXBwZW5kKCdhJykub24oJ2NsaWNrJywgKCkgPT4gcGFyZW50Lnpvb21Ub0ZpdCgpKS5hdHRyKCd0aXRsZScsICdab29tIHRvIEZpdCcpLmh0bWwoJ1pvb20gdG8gRml0Jyk7XG4gICAgY29udGVudC5hcHBlbmQoJ2xpJykuYXBwZW5kKCdhJykub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5sb2dnZXIuaW5mbygnU2F2ZSB0byBQTkcgcHJlc3NlZC4uLiBOb3QgSW1wbGVtZW50ZWQhJykpLmF0dHIoJ3RpdGxlJywgJ1NhdmUgdG8gUE5HJykuaHRtbCgnU2F2ZSB0byBQTkcnKTtcbiAgICBjb250ZW50LmFwcGVuZCgnbGknKS5hcHBlbmQoJ2EnKS5vbignY2xpY2snLCAoKSA9PiBhYm91dE1vZGFsLnJlbmRlcihqc29uKSkuYXR0cigndGl0bGUnLCAnQWJvdXQnKS5odG1sKCdBYm91dCcpO1xuXG4gICAgLy8gVHJhdmVyc2UgYWxsIG1lbnVzIGFuZCBmbGF0dGVuIHRoZW0hXG4gICAgdmFyIG1lbnVzSXRlcmF0b3IgPSB0aGlzLml0ZXJhdG9yKE9iamVjdC52YWx1ZXMoanNvbi5jYW52YXMubWVudXMpKTtcbiAgICB0aGlzLnRyYXZlcnNlKG1lbnUsIG1lbnVzSXRlcmF0b3IpO1xuXG4gICAgdGhpcy5sb2dnZXIuZGVidWcoYE1haW4gTWVudSB1cGRhdGVkIFske21lbnVJZH1dLi4uYCk7XG5cbiAgICByZXR1cm4gbWVudTtcbiAgfVxuXG4gIHVucmVuZGVyKCkge31cblxufVxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xuaW1wb3J0IENhbGxiYWNrIGZyb20gJy4vY2FsbGJhY2snO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZW51IGV4dGVuZHMgUmVuZGVyZXIge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gIH1cblxuICB0cmF2ZXJzZShhcHBlbmRUbywgbWVudXNJdGVyYXRvcikge1xuICAgIHdoaWxlIChtZW51c0l0ZXJhdG9yLmhhc05leHQoKSkge1xuICAgICAgdmFyIG1lbnVJdGVtID0gbWVudXNJdGVyYXRvci5uZXh0KCk7XG4gICAgICB2YXIgZW50cnkgPSBhcHBlbmRUby5hcHBlbmQoJ2xpJyk7XG4gICAgICB2YXIgYWN0aW9uID0gZW50cnkuc2VsZWN0QWxsKCdhJykuZGF0YShbbWVudUl0ZW1dKS5lbnRlcigpLmFwcGVuZCgnYScpLmF0dHIoJ3RpdGxlJywgbWVudUl0ZW0udGl0bGUpLmh0bWwobWVudUl0ZW0udGl0bGUpO1xuICAgICAgaWYgKG1lbnVJdGVtLmNhbGxiYWNrICYmIE9iamVjdC52YWx1ZXMobWVudUl0ZW0uY2FsbGJhY2spLmxlbmd0aCkge1xuICAgICAgICBhY3Rpb24ub24oJ2NsaWNrJywgKGQpID0+IG5ldyBDYWxsYmFjayh0aGlzLm9wdGlvbnMpLmV4ZWN1dGUoZCkpO1xuICAgICAgfVxuICAgICAgaWYgKG1lbnVJdGVtLm1lbnVzICYmIE9iamVjdC52YWx1ZXMobWVudUl0ZW0ubWVudXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSBlbnRyeS5hcHBlbmQoJ3VsJyk7XG4gICAgICAgIHZhciBzdWJNZW51c0l0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcihPYmplY3QudmFsdWVzKG1lbnVJdGVtLm1lbnVzKSk7XG4gICAgICAgIHRoaXMudHJhdmVyc2UoY29udGVudCwgc3ViTWVudXNJdGVyYXRvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaXRlcmF0b3IoYXJyYXkpIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gMDtcbiAgICByZXR1cm4ge1xuICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc05leHQoKSA/IGFycmF5W25leHRJbmRleCsrXSA6IHVuZGVmaW5lZDtcbiAgICAgIH0sXG4gICAgICBoYXNOZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5leHRJbmRleCA8IGFycmF5Lmxlbmd0aDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxufVxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xuXG4vKiBnbG9iYWwgZDMgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzc2FnZSBleHRlbmRzIFJlbmRlcmVyIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICAgIHRoaXMuYWxlcnRzID0gdGhpcy5TVkdQYXJlbnQuc2VsZWN0KCdmb3JlaWduT2JqZWN0LmZyYW5jeS1hbGVydHMtaG9sZGVyJyk7XG4gICAgLy8gY2hlY2sgaWYgdGhlIHdpbmRvdyBpcyBhbHJlYWR5IHByZXNlbnRcbiAgICBpZiAoIXRoaXMuYWxlcnRzLm5vZGUoKSkge1xuICAgICAgdGhpcy5hbGVydHMgPSB0aGlzLlNWR1BhcmVudC5hcHBlbmQoJ2ZvcmVpZ25PYmplY3QnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktYWxlcnRzLWhvbGRlcicpXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDEwMCw1NSknKS5hcHBlbmQoJ3hodG1sOmRpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1hbGVydHMnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmFsZXJ0cyA9IHRoaXMuYWxlcnRzLnNlbGVjdCgnZGl2LmZyYW5jeS1hbGVydHMnKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIobWVzc2FnZXMpIHtcblxuICAgIC8vIGp1c3QgaWdub3JlIHJlbmRlcmluZyBpZiBubyBtZXNzYWdlcyBhcmUgcHJlc2VudFxuICAgIGlmICghbWVzc2FnZXMgfHwgIU9iamVjdC52YWx1ZXMobWVzc2FnZXMpLmxlbmd0aCkge1xuICAgICAgLy90aGlzLmxvZ2dlci5kZWJ1ZygnTm90aGluZyB0byByZW5kZXIgaGVyZS4uLiBjb250aW51aW5nLi4uJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgT2JqZWN0LmtleXMobWVzc2FnZXMpLm1hcChmdW5jdGlvbihpZCkge1xuICAgICAgLy8gb25seSByZW5kZXIgbmV3IG9uZXNcbiAgICAgIGlmICghc2VsZi5hbGVydHMuc2VsZWN0KGBkaXYjJHtpZH1gKS5ub2RlKCkpIHtcbiAgICAgICAgdmFyIHJvdyA9IHNlbGYuYWxlcnRzLmFwcGVuZCgnZGl2JykuYXR0cignaWQnLCBpZClcbiAgICAgICAgICAuYXR0cignY2xhc3MnLCBgZnJhbmN5LWFsZXJ0ICR7bWVzc2FnZXNbaWRdLnR5cGV9YCkub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICByb3cuYXBwZW5kKCdzcGFuJykuYXR0cignY2xhc3MnLCAnc3Ryb25nJykudGV4dChtZXNzYWdlc1tpZF0udGl0bGUpO1xuICAgICAgICByb3cuYXBwZW5kKCdzcGFuJykudGV4dChtZXNzYWdlc1tpZF0udGV4dCk7XG4gICAgICAgIHJvdy5hcHBlbmQoJ3NwYW4nKS5hdHRyKCdjbGFzcycsICdzdHJvbmcnKS5zdHlsZSgnZGlzcGxheScsICdub25lJykudGV4dChcInhcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFsZXJ0cy5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxufVxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xuXG4vKiBnbG9iYWwgZDMgSnVweXRlciAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBYm91dE1vZGFsIGV4dGVuZHMgUmVuZGVyZXIge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gIH1cblxuICByZW5kZXIoanNvbikge1xuICAgIHZhciBtb2RhbElkID0gJ0Fib3V0TW9kYWxXaW5kb3cnO1xuXG4gICAgdGhpcy5sb2dnZXIuZGVidWcoYENyZWF0aW5nIEFib3V0IE1vZGFsIFske21vZGFsSWR9XS4uLmApO1xuXG4gICAgLy8gd2Ugd2FudCB0byBvdmVybGF5IGV2ZXJ5dGhpbmcsIGhlbmNlICdib2R5JyBtdXN0IGJlIHVzZWRcbiAgICB2YXIgb3ZlcmxheSA9IGQzLnNlbGVjdCgnYm9keScpLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktb3ZlcmxheScpO1xuICAgIHZhciBob2xkZXIgPSBkMy5zZWxlY3QoJ2JvZHknKS5hcHBlbmQoJ2RpdicpXG4gICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5Jyk7XG4gICAgdmFyIG1vZGFsID0gaG9sZGVyLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdpZCcsIG1vZGFsSWQpXG4gICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1vZGFsJyk7XG5cbiAgICB2YXIgZm9ybSA9IG1vZGFsLmFwcGVuZCgnZm9ybScpO1xuXG4gICAgdmFyIGhlYWRlciA9IGZvcm0uYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbW9kYWwtaGVhZGVyJyk7XG5cbiAgICBoZWFkZXIuYXBwZW5kKCdzcGFuJykuaHRtbChgQWJvdXQgRnJhbmN5IHYke2pzb24udmVyc2lvbn1gKTtcblxuICAgIHZhciBjb250ZW50ID0gZm9ybS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tb2RhbC1jb250ZW50JykuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktdGFibGUnKS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1ib2R5Jyk7XG5cbiAgICBjb250ZW50LmFwcGVuZCgnc3BhbicpLnRleHQoJ0xvYWRlZCBPYmplY3Q6Jyk7XG4gICAgY29udGVudC5hcHBlbmQoJ3ByZScpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeScpLmh0bWwodGhpcy5zeW50YXhIaWdobGlnaHQoSlNPTi5zdHJpbmdpZnkoanNvbi5jYW52YXMsIG51bGwsIDIpKSk7XG4gICAgY29udGVudC5hcHBlbmQoJ3NwYW4nKS5hcHBlbmQoJ2EnKS5hdHRyKCdocmVmJywgJ2h0dHBzOi8vZ2l0aHViLmNvbS9tY21hcnRpbnMvZnJhbmN5JykudGV4dCgnRnJhbmN5IG9uIEdpdGh1YicpO1xuXG4gICAgdmFyIGZvb3RlciA9IGZvcm0uYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbW9kYWwtZm9vdGVyJyk7XG5cbiAgICBmb290ZXIuYXBwZW5kKCdidXR0b24nKS50ZXh0KCdPaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICBob2xkZXIucmVtb3ZlKCk7XG4gICAgICBvdmVybGF5LnJlbW92ZSgpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIC8vIGRpc2FibGUga2V5Ym9hcmQgc2hvcnRjdXRzIHdoZW4gdXNpbmcgdGhpcyBtb2RhbCBpbiBKdXB5dGVyXG4gICAgdHJ5IHtcbiAgICAgIEp1cHl0ZXIua2V5Ym9hcmRfbWFuYWdlci5yZWdpc3Rlcl9ldmVudHMoJy5mcmFuY3knKTtcbiAgICAgIEp1cHl0ZXIua2V5Ym9hcmRfbWFuYWdlci5yZWdpc3Rlcl9ldmVudHMoJy5mcmFuY3ktYXJnJyk7XG4gICAgICBKdXB5dGVyLmtleWJvYXJkX21hbmFnZXIucmVnaXN0ZXJfZXZlbnRzKCcuZnJhbmN5LW92ZXJsYXknKTtcbiAgICAgIEp1cHl0ZXIua2V5Ym9hcmRfbWFuYWdlci5yZWdpc3Rlcl9ldmVudHMoJy5mcmFuY3ktbW9kYWwnKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlLm5hbWUgPT0gJ1JlZmVyZW5jZUVycm9yJykge1xuICAgICAgICBzZWxmLmxvZ2dlci5kZWJ1ZygnSXQgc2VlbXMgd2VcXCdyZSBub3QgcnVubmluZyBvbiBKdXB5dGVyLi4uJywgZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIuZGVidWcoYENhbGxiYWNrIEFib3V0IHVwZGF0ZWQgWyR7bW9kYWxJZH1dLi4uYCk7XG5cbiAgICByZXR1cm4gbW9kYWw7XG4gIH1cblxuICB1bnJlbmRlcigpIHt9XG5cbiAgLy8gY3JlZGl0cyBoZXJlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80ODEwODQxL2hvdy1jYW4taS1wcmV0dHktcHJpbnQtanNvbi11c2luZy1qYXZhc2NyaXB0I2Fuc3dlci03MjIwNTEwXG4gIHN5bnRheEhpZ2hsaWdodChqc29uKSB7XG4gICAganNvbiA9IGpzb24ucmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvPi9nLCAnJmd0OycpO1xuICAgIHJldHVybiBqc29uLnJlcGxhY2UoLyhcIihcXFxcdVthLXpBLVowLTldezR9fFxcXFxbXnVdfFteXCJdKSpcIihcXHMqOik/fFxcYih0cnVlfGZhbHNlfG51bGwpXFxifC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bKy1dP1xcZCspPykvZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHZhciBjbHMgPSAnbnVtYmVyJztcbiAgICAgIGlmICgvXlwiLy50ZXN0KG1hdGNoKSkge1xuICAgICAgICBpZiAoLzokLy50ZXN0KG1hdGNoKSkge1xuICAgICAgICAgIGNscyA9ICdrZXknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNscyA9ICdzdHJpbmcnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmICgvdHJ1ZXxmYWxzZS8udGVzdChtYXRjaCkpIHtcbiAgICAgICAgY2xzID0gJ2Jvb2xlYW4nO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoL251bGwvLnRlc3QobWF0Y2gpKSB7XG4gICAgICAgIGNscyA9ICdudWxsJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCInICsgY2xzICsgJ1wiPicgKyBtYXRjaCArICc8L3NwYW4+JztcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xuXG4vKiBnbG9iYWwgZDMgSnVweXRlciAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXF1aXJlZEFyZ3NNb2RhbCBleHRlbmRzIFJlbmRlcmVyIHtcblxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xuICB9XG5cbiAgcmVuZGVyKGpzb24pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgbW9kYWxJZCA9IGpzb24uY2FsbGJhY2suaWQ7XG5cbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgQ3JlYXRpbmcgQ2FsbGJhY2sgTW9kYWwgWyR7bW9kYWxJZH1dLi4uYCk7XG5cbiAgICAvLyB3ZSB3YW50IHRvIG92ZXJsYXkgZXZlcnl0aGluZywgaGVuY2UgJ2JvZHknIG11c3QgYmUgdXNlZFxuICAgIHZhciBvdmVybGF5ID0gZDMuc2VsZWN0KCdib2R5JykuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1vdmVybGF5Jyk7XG4gICAgdmFyIGhvbGRlciA9IGQzLnNlbGVjdCgnYm9keScpLmFwcGVuZCgnZGl2JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3knKTtcbiAgICB2YXIgbW9kYWwgPSBob2xkZXIuYXBwZW5kKCdkaXYnKVxuICAgICAgLmF0dHIoJ2lkJywgbW9kYWxJZClcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktbW9kYWwnKTtcblxuICAgIHZhciBmb3JtID0gbW9kYWwuYXBwZW5kKCdmb3JtJyk7XG5cbiAgICB2YXIgaGVhZGVyID0gZm9ybS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tb2RhbC1oZWFkZXInKTtcblxuICAgIHZhciBoZWFkZXJUaXRsZSA9IGhlYWRlci5hcHBlbmQoJ3NwYW4nKS5odG1sKCdSZXF1aXJlZCBhcmd1bWVudHMmbmJzcDsnKTtcbiAgICBpZiAoanNvbi50aXRsZSkge1xuICAgICAgaGVhZGVyVGl0bGUuYXBwZW5kKCdzcGFuJykuYXR0cignc3R5bGUnLCAnZm9udC13ZWlnaHQ6IGJvbGQ7JykudGV4dChgZm9yICR7anNvbi50aXRsZX1gKTtcbiAgICB9XG5cbiAgICB2YXIgY29udGVudCA9IGZvcm0uYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbW9kYWwtY29udGVudCcpLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlJykuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktdGFibGUtYm9keScpO1xuXG4gICAgZm9yICh2YXIgYXJnIG9mIE9iamVjdC52YWx1ZXMoanNvbi5jYWxsYmFjay5yZXF1aXJlZEFyZ3MpKSB7XG4gICAgICB2YXIgcm93ID0gY29udGVudC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1yb3cnKTtcbiAgICAgIHJvdy5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1jZWxsJykuYXBwZW5kKCdsYWJlbCcpLmF0dHIoJ2ZvcicsIGFyZy5pZCkudGV4dChhcmcudGl0bGUpO1xuICAgICAgdmFyIGlucHV0ID0gcm93LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLWNlbGwnKS5hcHBlbmQoJ2lucHV0JykuYXR0cignaWQnLCBhcmcuaWQpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1hcmcnKVxuICAgICAgICAuYXR0cigncmVxdWlyZWQnLCAnJylcbiAgICAgICAgLmF0dHIoJ25hbWUnLCBhcmcuaWQpXG4gICAgICAgIC5hdHRyKCd0eXBlJywgYXJnLnR5cGUpXG4gICAgICAgIC5hdHRyKCd2YWx1ZScsIGFyZy52YWx1ZSlcbiAgICAgICAgLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsganNvbi5jYWxsYmFjay5yZXF1aXJlZEFyZ3NbdGhpcy5pZF0udmFsdWUgPSB0aGlzLnZhbHVlOyB9KVxuICAgICAgICAub24oJ2lucHV0JywgdGhpcy5vbmNoYW5nZSlcbiAgICAgICAgLm9uKCdrZXl1cCcsIHRoaXMub25jaGFuZ2UpXG4gICAgICAgIC5vbigncGFzdGUnLCB0aGlzLm9uY2hhbmdlKTtcbiAgICAgIC8vIHdhaXQsIGlmIGl0IGlzIGJvb2xlYW4gd2UgY3JlYXRlIGEgY2hlY2tib3hcbiAgICAgIGlmIChhcmcudHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIC8vIHdlbGwsIGEgY2hlY2tib3ggd29ya3MgdGhpcyB3YXkgc28gd2UgbmVlZCB0byBpbml0aWFsaXplIFxuICAgICAgICAvLyB0aGUgdmFsdWUgdG8gZmFsc2UgYW5kIHVwZGF0ZSB0aGUgdmFsdWUgYmFzZWQgb24gdGhlIGNoZWNrZWQgXG4gICAgICAgIC8vIHByb3BlcnR5IHRoYXQgdHJpZ2dlcnMgdGhlIG9uY2hhbmdlIGV2ZW50XG4gICAgICAgIGFyZy52YWx1ZSA9IGFyZy52YWx1ZSB8fCBmYWxzZTtcbiAgICAgICAgaW5wdXQuYXR0cigndHlwZScsICdjaGVja2JveCcpLmF0dHIoJ3JlcXVpcmVkJywgbnVsbClcbiAgICAgICAgICAuYXR0cigndmFsdWUnLCBhcmcudmFsdWUpXG4gICAgICAgICAgLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsganNvbi5jYWxsYmFjay5yZXF1aXJlZEFyZ3NbdGhpcy5pZF0udmFsdWUgPSB0aGlzLnZhbHVlID0gdGhpcy5jaGVja2VkOyB9KTtcbiAgICAgIH1cbiAgICAgIHJvdy5hcHBlbmQoJ3NwYW4nKS5hdHRyKCdjbGFzcycsICd2YWxpZGl0eScpO1xuICAgIH1cblxuICAgIHZhciBmb290ZXIgPSBmb3JtLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1vZGFsLWZvb3RlcicpO1xuXG4gICAgZm9vdGVyLmFwcGVuZCgnYnV0dG9uJykudGV4dCgnT2snKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChmb3JtLm5vZGUoKS5jaGVja1ZhbGlkaXR5KCkpIHtcbiAgICAgICAgc2VsZi5vcHRpb25zLmNhbGxiYWNrSGFuZGxlcihqc29uLmNhbGxiYWNrKTtcbiAgICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIGhvbGRlci5yZW1vdmUoKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICBmb290ZXIuYXBwZW5kKCdidXR0b24nKS50ZXh0KCdDYW5jZWwnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgIG1vZGFsLnJlbW92ZSgpO1xuICAgICAgaG9sZGVyLnJlbW92ZSgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gZGlzYWJsZSBrZXlib2FyZCBzaG9ydGN1dHMgd2hlbiB1c2luZyB0aGlzIG1vZGFsIGluIEp1cHl0ZXJcbiAgICB0cnkge1xuICAgICAgSnVweXRlci5rZXlib2FyZF9tYW5hZ2VyLnJlZ2lzdGVyX2V2ZW50cygnLmZyYW5jeScpO1xuICAgICAgSnVweXRlci5rZXlib2FyZF9tYW5hZ2VyLnJlZ2lzdGVyX2V2ZW50cygnLmZyYW5jeS1hcmcnKTtcbiAgICAgIEp1cHl0ZXIua2V5Ym9hcmRfbWFuYWdlci5yZWdpc3Rlcl9ldmVudHMoJy5mcmFuY3ktb3ZlcmxheScpO1xuICAgICAgSnVweXRlci5rZXlib2FyZF9tYW5hZ2VyLnJlZ2lzdGVyX2V2ZW50cygnLmZyYW5jeS1tb2RhbCcpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgaWYgKGUubmFtZSA9PSAnUmVmZXJlbmNlRXJyb3InKSB7XG4gICAgICAgIHNlbGYubG9nZ2VyLmRlYnVnKCdJdCBzZWVtcyB3ZVxcJ3JlIG5vdCBydW5uaW5nIG9uIEp1cHl0ZXIuLi4nLCBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb250ZW50LnNlbGVjdEFsbCgnLmZyYW5jeS1hcmcnKS5ub2RlKCkuZm9jdXMoKTtcblxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBDYWxsYmFjayBNb2RhbCB1cGRhdGVkIFske21vZGFsSWR9XS4uLmApO1xuXG4gICAgcmV0dXJuIG1vZGFsO1xuICB9XG5cbiAgdW5yZW5kZXIoKSB7fVxufVxuIiwiaW1wb3J0IEJhc2UgZnJvbSAnLi9iYXNlJztcblxuLyogZ2xvYmFsIGQzICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmVyIGV4dGVuZHMgQmFzZSB7XG5cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcbiAgICBpZiAobmV3LnRhcmdldCA9PT0gUmVuZGVyZXIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgW1JlbmRlcmVyXSBpbnN0YW5jZXMgZGlyZWN0bHkhJyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlbmRlciA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0aGlzLnJlbmRlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTXVzdCBvdmVycmlkZSBbcmVuZGVyKGpzb24pXSBtZXRob2QhJyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnVucmVuZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdObyBbdW5yZW5kZXIoKV0gbWV0aG9kIHNwZWNpZmllZC4uLicpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBIVE1MUGFyZW50KCkge1xuICAgIHJldHVybiBkMy5zZWxlY3QodGhpcy5vcHRpb25zLmFwcGVuZFRvLm5vZGUoKS5wYXJlbnROb2RlKTtcbiAgfVxuXG4gIGdldCBTVkdQYXJlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5hcHBlbmRUbztcbiAgfVxuXG59XG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5cbi8qIGdsb2JhbCBkMyAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb29sdGlwIGV4dGVuZHMgUmVuZGVyZXIge1xuXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XG4gICAgdGhpcy50b29sdGlwID0gdGhpcy5TVkdQYXJlbnQuc2VsZWN0KCdmb3JlaWduT2JqZWN0LmZyYW5jeS10b29sdGlwLWhvbGRlcicpO1xuICAgIC8vIGNoZWNrIGlmIHRoZSB3aW5kb3cgaXMgYWxyZWFkeSBwcmVzZW50XG4gICAgaWYgKCF0aGlzLnRvb2x0aXAubm9kZSgpKSB7XG4gICAgICB0aGlzLnRvb2x0aXAgPSB0aGlzLlNWR1BhcmVudC5hcHBlbmQoJ2ZvcmVpZ25PYmplY3QnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRvb2x0aXAtaG9sZGVyJyk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKG9iamVjdCkge1xuXG4gICAgLy8ganVzdCBpZ25vcmUgcmVuZGVyaW5nIGlmIG5vIG1lc3NhZ2VzIGFyZSBwcmVzZW50XG4gICAgaWYgKCFvYmplY3QgfHwgIU9iamVjdC52YWx1ZXMob2JqZWN0KS5sZW5ndGgpIHtcbiAgICAgIC8vdGhpcy5sb2dnZXIuZGVidWcoJ05vdGhpbmcgdG8gcmVuZGVyIGhlcmUuLi4gY29udGludWluZy4uLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRPRE8gZml4IGFsd2F5cyB2aXNpYmxlIHRvb2x0aXAsIGZpbmUgdW50aWwgc29tZW9uZSBjb21wbGFpbnMgYWJvdXQgOlBcbiAgICB0aGlzLnRvb2x0aXAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke2QzLmV2ZW50Lm9mZnNldFggKyA1fSwke2QzLmV2ZW50Lm9mZnNldFkgKyA1fSlgKTtcblxuICAgIC8vIGNoZWNrIGlmIGl0IGV4aXN0cyBhbHJlYWR5XG4gICAgaWYgKHRoaXMudG9vbHRpcC5zZWxlY3RBbGwoJyonKS5ub2RlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGFibGUgPSB0aGlzLnRvb2x0aXAuYXBwZW5kKCd4aHRtbDpkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktdG9vbHRpcCcpXG4gICAgICAuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktdGFibGUnKVxuICAgICAgLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLWJvZHknKTtcbiAgICBPYmplY3Qua2V5cyhvYmplY3QpLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciByb3cgPSB0YWJsZS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1yb3cnKTtcbiAgICAgIHJvdy5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1jZWxsJykudGV4dChvYmplY3Rba2V5XS50aXRsZSk7XG4gICAgICByb3cuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktdGFibGUtY2VsbCcpLnRleHQob2JqZWN0W2tleV0udGV4dCk7XG4gICAgfSk7XG5cbiAgICAvLyBzaG93IHRvb2x0aXBcbiAgICB0aGlzLnRvb2x0aXAuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgfVxuXG4gIHVucmVuZGVyKCkge1xuICAgIHRoaXMudG9vbHRpcC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcbiAgICB0aGlzLnRvb2x0aXAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdG8gZGVhbCB3aXRoIEpTT04uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEpzb25VdGlscyB7XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBhbiBpbnB1dCBuZCBjaGVja3Mgd2hldGhlciB0aGlzIGlucHV0IGlzIHZhbGlkIGFuZCByZXR1cm5zIGEgSlNPTiBvYmplY3QuXG4gICAqIEBwYXJhbSBpbnB1dCAtIHRoZSBpbnB1dCB0byBwYXJzZVxuICAgKiBAcmV0dXJucyB7anNvbn0gLSBpZiB0aGUgaW5wdXQgaXMgYSB2YWxpZCBKU09OIG9iamVjdCwgb3RoZXJ3aXNlIHJldHVybnMge3VuZGVmaW5lZH1cbiAgICovXG4gIHN0YXRpYyBwYXJzZShpbnB1dCkge1xuICAgIGlucHV0ID0gdHlwZW9mIGlucHV0ICE9PSBcInN0cmluZ1wiID8gSlNPTi5zdHJpbmdpZnkoaW5wdXQpIDogaW5wdXQ7XG4gICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC9bXFxuXFxyXFxiXFxcXF0rfChnYXA+KS9nLCAnJyk7XG4gICAgbGV0IGpzb25SZWdleCA9IC97KD86W15dKSp9L2c7XG4gICAgbGV0IG1hdGNoID0ganNvblJlZ2V4LmV4ZWMoaW5wdXQpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgaW5wdXQgPSBtYXRjaFswXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShpbnB1dCk7XG4gICAgICAgIHJldHVybiBqc29uLm1pbWUgPT09ICdhcHBsaWNhdGlvbi92bmQuZnJhbmN5K2pzb24nID8ganNvbiA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cbiIsImxldCBzaW5nbGV0b24gPSBudWxsO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgYSBzaW5nbGV0b24gdGhhdCBwcm92aWRlcyBhIGxvZ2dlciBmb3IgdGhlIEZyYW5jeSBhcHBsaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9nZ2VyIHtcblxuICAvKipcbiAgICogU2luZ2xldG9uOiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSBsb2dnZXIgYW5kIHdpbGwgcmV0dXJuZWQgdGhhdCBpbnN0YW5jZSxcbiAgICogZXZlcnl0aW1lIGEgbmV3IGluc3RhbmNlIGlzIHJlcXVlc3RlZC5cbiAgICogQHBhcmFtIHZlcmJvc2UgcHJpbnRzIGV4dHJhIGxvZyBpbmZvcm1hdGlvbiB0byBjb25zb2xlLmxvZywgZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgaWYgKCFzaW5nbGV0b24pIHtcbiAgICAgIHRoaXMudmVyYm9zZSA9IHZlcmJvc2U7XG4gICAgICB0aGlzLmNvbnNvbGUgPSBjb25zb2xlO1xuICAgICAgc2luZ2xldG9uID0gdGhpcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gc2luZ2xldG9uO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgW0RFQlVHXSBlbnRyeSBpbiB0aGUgY29uc29sZSBsb2dcbiAgICogQHBhcmFtIG1lc3NhZ2UgdGhlIG1lc3NhZ2UgdG8gcHJpbnRcbiAgICovXG4gIGRlYnVnKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy52ZXJib3NlKSB7XG4gICAgICB0aGlzLmNvbnNvbGUuZGVidWcodGhpcy5fZm9ybWF0KCdERUJVRycsIG1lc3NhZ2UpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIFtJTkZPXSBlbnRyeSBpbiB0aGUgY29uc29sZSBsb2dcbiAgICogQHBhcmFtIG1lc3NhZ2UgdGhlIG1lc3NhZ2UgdG8gcHJpbnRcbiAgICovXG4gIGluZm8obWVzc2FnZSkge1xuICAgIHRoaXMuY29uc29sZS5pbmZvKHRoaXMuX2Zvcm1hdCgnSU5GTycsIG1lc3NhZ2UpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgW0VSUk9SXSBlbnRyeSBpbiB0aGUgY29uc29sZSBsb2dcbiAgICogQHBhcmFtIG1lc3NhZ2UgdGhlIG1lc3NhZ2UgdG8gcHJpbnRcbiAgICogQHBhcmFtIGVycm9yIHRoZSBlcnJvciBPYmplY3QgdG8gYXR0YWNoIHRvIHRoZSBtZXNzYWdlXG4gICAqL1xuICBlcnJvcihtZXNzYWdlLCBlcnJvcikge1xuICAgIHRoaXMuY29uc29sZS5lcnJvcih0aGlzLl9mb3JtYXQoJ0VSUk9SJywgbWVzc2FnZSksIGVycm9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgW1dBUk5dIGVudHJ5IGluIHRoZSBjb25zb2xlIGxvZ1xuICAgKiBAcGFyYW0gbWVzc2FnZSB0aGUgbWVzc2FnZSB0byBwcmludFxuICAgKiBAcGFyYW0gZXJyb3IgdGhlIGVycm9yIE9iamVjdCB0byBhdHRhY2ggdG8gdGhlIG1lc3NhZ2VcbiAgICovXG4gIHdhcm4obWVzc2FnZSwgZXJyb3IpIHtcbiAgICBlcnJvciA9IGVycm9yIHx8IHt9O1xuICAgIHRoaXMuY29uc29sZS5lcnJvcih0aGlzLl9mb3JtYXQoJ1dBUk4nLCBtZXNzYWdlKSwgZXJyb3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYSBwcml2YXRlIG1ldGhvZCB0aGF0IGZvcm1hdHMgYWxsIGxvZyBtZXNzYWdlc1xuICAgKiBAcGFyYW0gbWVzc2FnZSB0aGUgbWVzc2FnZSB0byBwcmludFxuICAgKi9cbiAgX2Zvcm1hdChsZXZlbCwgbWVzc2FnZSkge1xuICAgIHJldHVybiBgWyR7bGV2ZWx9XSAtICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSAtICR7bWVzc2FnZX1gO1xuICB9XG59XG4iXX0=\n"]}