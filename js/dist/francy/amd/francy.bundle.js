define(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(7),i=(r=o)&&r.__esModule?r:{default:r};var l=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}));if(new.target===t)throw new TypeError("Cannot construct [Renderer] instances directly!");if(void 0===i.render||"function"!=typeof i.render)throw new TypeError("Must override [render()] method!");return void 0===i.unrender&&i.logger.debug("No [unrender()] method specified..."),i.element=void 0,i.transitionDuration=750,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"HTMLParent",get:function(){return"SVG"===this.options.appendTo.element.node().tagName.toUpperCase()?d3.select(this.options.appendTo.element.node().parentNode):this.options.appendTo.element}},{key:"SVGParent",get:function(){return"DIV"===this.options.appendTo.element.node().tagName.toUpperCase()?this.options.appendTo.element.select("svg"):this.options.appendTo.element}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requires=function(e){return function(t,n,r){var a=r.value;return r.value=function(){if(function(e){if(e&&(e instanceof Array&&e.length||e instanceof Object&&Object.values(e).length))return!0;return!1}(function(e,t){var n=e;if(n&&t){var r=t.split("."),a=!0,o=!1,i=void 0;try{for(var l,c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;if(!n.hasOwnProperty(u)){n=void 0;break}n=n[u]}}catch(e){o=!0,i=e}finally{try{!a&&c.return&&c.return()}finally{if(o)throw i}}}return n}(this.data,e)))return a.apply(this,arguments);this.logger.debug("No data here ["+e+"], nothing to render... continuing...")},r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterMathJax=function(e){if(!e)return;setTimeout(function(){try{MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],processEscapes:!0}}),MathJax.Hub.Register.StartupHook("End",function(){setTimeout(function(){e.selectAll(".francy-label").each(function(){var e=d3.select(this),t=e.select("text>span>svg");t.node()&&setTimeout(function(){t.attr("x",e.attr("x")),t.attr("y",-15),d3.select(e.node().parentNode).append(function(){return t.node()}),e.selectAll("*").remove()},10)})},250)}),MathJax.Hub.Queue(["Typeset",MathJax.Hub,e.node()])}catch(e){"ReferenceError"==e.name&&(new o.default).info("It seems MathJax is not loaded...",e)}},10)},t.RegisterJupyterKeyboardEvents=function(e){if(!e)return;try{e.map(function(e){Jupyter.keyboard_manager.register_events(e)})}catch(e){"ReferenceError"==e.name&&(new o.default).info("It seems we're not running on Jupyter...",e)}};var r,a=n(8),o=(r=a)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=(o=l)&&o.__esModule?o:{default:o};var u,s,d,f,p,y,h=(r=(0,n(1).requires)(),a=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),i(t,[{key:"render",value:function(){this.element=this.HTMLParent.select("div.francy-tooltip-holder"),this.element.node()||(this.element=this.HTMLParent.append("div").attr("class","francy-tooltip-holder"));var e=d3.mouse(this.SVGParent.node());if(this.element.style("left",e[0]+"px").style("top",e[1]+"px"),!this.element.selectAll("*").node()){var t=this.element.append("div").attr("class","francy-tooltip").append("div").attr("class","francy-table").append("div").attr("class","francy-table-body"),n=this;Object.keys(this.data).map(function(e){var r=t.append("div").attr("class","francy-table-row");r.append("div").attr("class","francy-table-cell").text(n.data[e].title),r.append("div").attr("class","francy-table-cell").text(n.data[e].text)}),this.element.style("display","block")}}},{key:"unrender",value:function(){this.element&&(this.element.selectAll("*").remove(),this.element.style("display",null))}}]),t}(),u=a.prototype,s="render",d=[r],f=Object.getOwnPropertyDescriptor(a.prototype,"render"),p=a.prototype,y={},Object.keys(f).forEach(function(e){y[e]=f[e]}),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),y=d.slice().reverse().reduce(function(e,t){return t(u,s,e)||e},y),p&&void 0!==y.initializer&&(y.value=y.initializer?y.initializer.call(p):void 0,y.initializer=void 0),void 0===y.initializer&&(Object.defineProperty(u,s,y),y=null),a);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),l=s(n(19)),c=s(n(20)),u=s(n(21));function s(e){return e&&e.__esModule?e:{default:e}}var d,f,p,y,h,v,b=(r=(0,n(1).requires)("canvas.chart"),a=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"render",value:function(){var e=void 0;switch(this.data.canvas.chart.type){case"bar":e=new l.default(this.options).load(this.data).render();break;case"line":e=new c.default(this.options).load(this.data).render();break;case"scatter":e=new u.default(this.options).load(this.data).render()}return e}},{key:"unrender",value:function(){}}],[{key:"tooltip",value:function(e,t){return{A:{title:"Dataset",text:e},B:{title:"Value",text:t}}}},{key:"domainRange",value:function(e){return Array.from(new Array(e),function(e,t){return t}).map(function(e){return e})}},{key:"colors",get:function(){return d3.scaleSequential().domain([0,100]).interpolator(d3.interpolateRainbow)}}]),t}(),d=a.prototype,f="render",p=[r],y=Object.getOwnPropertyDescriptor(a.prototype,"render"),h=a.prototype,v={},Object.keys(y).forEach(function(e){v[e]=y[e]}),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=p.slice().reverse().reduce(function(e,t){return t(d,f,e)||e},v),h&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(h):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,f,v),v=null),a);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(0)),l=f(n(15)),c=f(n(16)),u=f(n(17)),s=f(n(3)),d=f(n(10));function f(e){return e&&e.__esModule?e:{default:e}}var p,y,h,v,b,m,g=(r=(0,n(1).requires)("canvas.graph"),a=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"render",value:function(){var e=void 0;switch(this.data.canvas.graph.type){case"tree":e=new l.default(this.options).load(this.data).render();break;default:e=new c.default(this.options).load(this.data).render()}return e}},{key:"unrender",value:function(){}}],[{key:"applyEvents",value:function(e,t){if(e){var n=new s.default(t),r=new u.default(t),a=new d.default(t);e.on("contextmenu",function(e){e=e.data||e,r.load(e,!0).render(),o.call(this,e,"contextmenu")}).on("click",function(e){e=e.data||e,o.call(this,e,"click")}).on("dblclick",function(e){e=e.data||e,o.call(this,e,"dblclick")}).on("mouseenter",function(e){e=e.data||e,n.load(e.messages,!0).render()}).on("mouseout",function(){n.unrender()})}function o(e,t){e.callbacks&&Object.values(e.callbacks).forEach(function(e){e.trigger===t&&a.load({callback:e},!0).execute()})}}},{key:"getSymbol",value:function(e){return"circle"===e?d3.symbolCircle:"cross"===e?d3.symbolCross:"diamond"===e?d3.symbolDiamond:"square"===e?d3.symbolSquare:"triangle"===e?d3.symbolTriangle:"star"===e?d3.symbolStar:"wye"===e?d3.symbolWye:d3.symbolCircle}},{key:"colors",get:function(){return d3.scaleSequential().domain([0,100]).interpolator(d3.interpolateRainbow)}}]),t}(),p=a.prototype,y="render",h=[r],v=Object.getOwnPropertyDescriptor(a.prototype,"render"),b=a.prototype,m={},Object.keys(v).forEach(function(e){m[e]=v[e]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=h.slice().reverse().reduce(function(e,t){return t(p,y,e)||e},m),b&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(b):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(p,y,m),m=null),a);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=(r=o)&&r.__esModule?r:{default:r};var l=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}));if(new.target===t)throw new TypeError("Cannot construct [Composite] instances directly!");return i.renderers=[],i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"add",value:function(e){return this.renderers.push(e),this}},{key:"renderChildren",value:function(){var e=this.options;e.appendTo=this;var t=!0,n=!1,r=void 0;try{for(var a,o=this.renderers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){a.value.settings(e).load(this.data).render()}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(8)),o=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){var n=t.verbose,r=void 0!==n&&n,o=t.appendTo,i=t.callbackHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings({verbose:r,appendTo:o,callbackHandler:i}),this.log=new a.default(this.options)}return r(e,[{key:"settings",value:function(e){var t=e.verbose,n=e.appendTo,r=e.callbackHandler;if(!r)throw new Error("A Callback Handler must be provided! This will be used to trigger events from the graphics produced...");if(!n)throw new Error("Missing an element or id to append the graphics to...!");return this.options={},this.options.verbose=t||this.options.verbose,this.options.appendTo=n||this.options.verbose,this.options.callbackHandler=r||this.options.callbackHandler,this}},{key:"load",value:function(e,t){var n=o.default.parse(e,t);return n&&(this.data=n),this}},{key:"logger",get:function(){return this.log}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).verbose,n=void 0!==t&&t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.verbose=n,this.console=console}return r(e,[{key:"debug",value:function(e){this.verbose&&this.console.debug(this._format("DEBUG",e))}},{key:"info",value:function(e){this.console.info(this._format("INFO",e))}},{key:"error",value:function(e,t){this.console.error(this._format("ERROR",e),t)}},{key:"warn",value:function(e,t){t=t||{},this.console.error(this._format("WARN",e),t)}},{key:"_format",value:function(e,t){return"["+e+"] - "+(new Date).toISOString()+" - "+t}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(0)),o=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"traverse",value:function(e,t){for(var n=this;t.hasNext();){var r=t.next(),a=e.append("li"),i=a.selectAll("a").data([r]).enter().append("a").attr("title",r.title).html(r.title);if(r.callback&&Object.values(r.callback).length&&i.on("click",function(e){return new o.default(n.options).load(e,!0).execute()}),r.menus&&Object.values(r.menus).length>0){var l=a.append("ul"),c=this.iterator(Object.values(r.menus));this.traverse(l,c)}}}},{key:"iterator",value:function(e){var t=0;return{next:function(){return this.hasNext()?e[t++]:void 0},hasNext:function(){return t<e.length}}}},{key:"unrender",value:function(){}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(7)),l=c(n(18));function c(e){return e&&e.__esModule?e:{default:e}}var u,s,d,f,p,y,h=(r=(0,n(1).requires)("callback"),a=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}));return i.callback=o,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"execute",value:function(){var e=this;if(Object.keys(this.data.callback.requiredArgs).length){var t=this.options;return t.callbackHandler=function(t){return e._execute.call(e,t)},new l.default(t).load(this.data,!0).render()}this._execute(this.data.callback)}},{key:"_execute",value:function(e){this.callback("Trigger("+JSON.stringify(JSON.stringify(e))+");")}}]),t}(),u=a.prototype,s="execute",d=[r],f=Object.getOwnPropertyDescriptor(a.prototype,"execute"),p=a.prototype,y={},Object.keys(f).forEach(function(e){y[e]=f[e]}),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),y=d.slice().reverse().reduce(function(e,t){return t(u,s,e)||e},y),p&&void 0!==y.initializer&&(y.value=y.initializer?y.initializer.call(p):void 0,y.initializer=void 0),void 0===y.initializer&&(Object.defineProperty(u,s,y),y=null),a);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(12)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l={},c=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}));if(!d3)throw new Error("D3 is not imported! Francy won't work without it... please import D3 v4+.");return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"render",value:function(){var e=new a.default(this.options).load(this.data).render();return l[this.data.canvas.id]=e,e.element.node()}},{key:"unrender",value:function(e){delete l[e]}}]),t}();t.default=c;try{t.Francy=window.Francy=c;var u=window.onresize;window.onresize=function(){Object.values(l).forEach(function(e){e.canvas.zoomToFit()}),"function"==typeof u&&u()}}catch(e){t.Francy=c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(6)),l=s(n(14)),c=s(n(22)),u=s(n(24));function s(e){return e&&e.__esModule?e:{default:e}}var d,f,p,y,h,v,b=(r=(0,n(1).requires)("canvas"),a=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}));return i.canvas=new l.default(i.options),i.menu=new c.default(i.options),i.messages=new u.default(i.options),i.add(i.messages).add(i.menu).add(i.canvas),i.element=void 0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"render",value:function(){var e=d3.select(this.options.appendTo),t="Frame-"+this.data.canvas.id;if(this.element=d3.select("div#"+t),this.element.node()||(this.logger.debug("Creating Frame ["+t+"]..."),this.element=e.append("div").attr("class","francy").attr("id",t)),!this.element.node())throw new Error("Oops, could not create frame with id ["+t+"]... Cannot proceed.");return this.logger.debug("Frame updated ["+t+"]..."),this.renderChildren(),this}},{key:"unrender",value:function(){}}]),t}(),d=a.prototype,f="render",p=[r],y=Object.getOwnPropertyDescriptor(a.prototype,"render"),h=a.prototype,v={},Object.keys(y).forEach(function(e){v[e]=y[e]}),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=p.slice().reverse().reduce(function(e,t){return t(d,f,e)||e},v),h&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(h):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,f,v),v=null),a);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"parse",value:function(t,n){if(t){t=(t="string"!=typeof t?JSON.stringify(t):t).replace(/[\n\r\b\\]+|(gap>)/g,"");var r=/{(?:[^])*}/g.exec(t);if(r){t=r[0];try{var a=JSON.parse(t);return a.mime===e.MIME||n?a:void 0}catch(e){console.error(e)}}}}},{key:"MIME",get:function(){return"application/vnd.francy+json"}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(6)),l=u(n(5)),c=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var s,d,f,p,y,h,v=(r=(0,n(1).requires)("canvas"),a=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}));return i.graph=new l.default(i.options),i.chart=new c.default(i.options),i.add(i.graph).add(i.chart),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"render",value:function(){var e=this.options.appendTo.element,t=this;function n(){if(t.data.canvas.zoomToFit){var e=o.node().getBBox(),n=t.element.node().getBoundingClientRect(),r=n.right-n.left,i=n.bottom-n.top,l=e.width,c=e.height;if(0==l||0==c)return;var u=e.x+l/2,s=e.y+c/2,d=.9/Math.max(l/r,c/i),f=r/2-d*u,p=i/2-d*s;o.transition().duration(t.transitionDuration).attr("transform","translate("+f+","+p+")scale("+d+","+d+")").on("end",function(){return e=f,n=p,r=d,void t.element.call(a.transform,d3.zoomIdentity.translate(e,n).scale(r,r));var e,n,r})}}var r="Canvas-"+this.data.canvas.id;if(this.element=d3.select("svg#"+r),this.element.node()||(this.logger.debug("Creating Canvas ["+r+"]..."),this.element=e.append("svg").attr("class","francy-canvas").attr("id",r)),!this.element.node())throw new Error("Oops, could not create canvas with id ["+r+"]... Cannot proceed.");this.element.attr("width",this.data.canvas.width).attr("height",this.data.canvas.height);var a=d3.zoom(),o=this.element.select("g.francy-content");return o.node()||(o=this.element.append("g").attr("class","francy-content"),a.on("zoom",function(){o.attr("transform",d3.event.transform)}),this.element.call(a).on("dblclick.zoom",null)),this.element.on("click",function(){d3.event.defaultPrevented&&d3.event.stopPropagation()},!0),this.element.zoomToFit=this.zoomToFit=n,this.logger.debug("Canvas updated ["+r+"]..."),this.renderChildren(),setTimeout(function(){n()},this.transitionDuration),this}},{key:"unrender",value:function(){}}]),t}(),s=a.prototype,d="render",f=[r],p=Object.getOwnPropertyDescriptor(a.prototype,"render"),y=a.prototype,h={},Object.keys(p).forEach(function(e){h[e]=p[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=f.slice().reverse().reduce(function(e,t){return t(s,d,e)||e},h),y&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(y):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(s,d,h),h=null),a);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=l(n(5)),i=n(2);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"render",value:function(){var e=this.options.appendTo.element;this.element=e.select("g.francy-content");var t,n=+e.attr("width")||d3.select("body").node().getBoundingClientRect().width,r=+e.attr("height")||d3.select("body").node().getBoundingClientRect().height,a=0,l=d3.tree().size([r,n]);return(t=d3.hierarchy(this.treeData,function(e){return e.children})).x0=r/2,t.y0=0,this.data.canvas.graph.collapse&&t.children.forEach(function e(t){t.children&&(t._children=t.children,t._children.forEach(e),t.children=null)}),function e(n){var r=this;var c=l(t);var u=c.descendants(),s=c.descendants().slice(1);u.forEach(function(e){return e.y=150*e.depth});var d=this.element.selectAll("g.francy-links");d.node()||(d=this.element.append("g").attr("class","francy-links"));var f=d.selectAll("path.francy-edge").data(s,function(e){return e.id||(e.id=++a)});var p=f.enter().append("g").attr("class","francy-link").append("path").attr("class","francy-edge").attr("d",function(){var e={x:n.x0,y:n.y0};return h(e,e)});var y=p.merge(f);y.transition().duration(this.transitionDuration).attr("d",function(e){return h(e,e.parent)});f.exit().transition().duration(this.transitionDuration).attr("d",function(){var e={x:n.x,y:n.y};return h(e,e)}).each(function(){d3.select(this.parentNode).remove()});d.selectAll(".francy-edge").style("fill","none").style("stroke","#ccc").style("stroke-width","1px");u.forEach(function(e){e.x0=e.x,e.y0=e.y});function h(e,t){return"M "+e.y+" "+e.x+"\n            C "+(e.y+t.y)/2+" "+e.x+",\n              "+(e.y+t.y)/2+" "+t.x+",\n              "+t.y+" "+t.x}var v=this.element.selectAll("g.francy-nodes");v.node()||(v=this.element.append("g").attr("class","francy-nodes"));var b=v.selectAll("g.francy-node").data(u,function(e){return e.id||(e.id=++a)});var m=b.enter().append("g").attr("class","francy-node").attr("transform",function(){return"translate("+n.y0+","+n.x0+")"});m.append("path").attr("d",d3.symbol().type(function(e){return o.default.getSymbol(e.data.type)}).size(function(e){return 100*e.data.size})).attr("class","francy-symbol");m.append("text").attr("class","francy-label").attr("x",function(e){return-2.5*e.data.title.length}).text(function(e){return e.data.title});var g=m.merge(b);g.transition().duration(this.transitionDuration).attr("transform",function(e){return"translate("+e.y+","+e.x+")"});g.select(".francy-node").attr("cursor","pointer");b.exit().transition().duration(this.transitionDuration).attr("transform",function(){return"translate("+n.y+","+n.x+")"}).remove();v.selectAll(".francy-symbol").style("fill",function(e){return e.children||e._children?"lightsteelblue":o.default.colors(5*e.data.layer)});b=v.selectAll("g.francy-node");o.default.applyEvents(b,this.options);var w=b.on("click");b.on("click",function(e){w.call(r,e.data),O.call(r,e)});var _=this;function O(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),e.call(_,t)}(0,i.RegisterMathJax)(this.SVGParent)}.call(this,t),this}},{key:"unrender",value:function(){}},{key:"treeData",get:function(){var e=this.data.canvas.graph.nodes?Object.values(this.data.canvas.graph.nodes):[],t=e.reduce(function(e,t){return e[t.id]=t,e},{}),n=[];return e.forEach(function(e){var r=t[e.parent];r?(r.children||(r.children=[])).push(e):n.push(e)}),n[0]}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=l(n(5)),i=n(2);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"render",value:function(){var e=this.options.appendTo.element,t=this.data.canvas.graph.simulation,n=this.data.canvas.graph.nodes?Object.values(this.data.canvas.graph.nodes):[],r=this.data.canvas.graph.links?Object.values(this.data.canvas.graph.links):[];this.element=e.select("g.francy-content");var a=+e.attr("width")||d3.select("body").node().getBoundingClientRect().width,l=+e.attr("height")||d3.select("body").node().getBoundingClientRect().height,c=this.element.selectAll("g.francy-links");c.node()||(c=this.element.append("g").attr("class","francy-links"));var u=c.selectAll("g.francy-link").data(),s=[];r.forEach(function(e){var t=u.find(function(t){return t.id===e.id});t?s.push(t):s.push(e)});var d=c.selectAll("g.francy-link").data(s),f=this.element.selectAll("g.francy-nodes");f.node()||(f=this.element.append("g").attr("class","francy-nodes"));var p=f.selectAll("g.francy-node").data(),y=[];n.forEach(function(e){var t=p.find(function(t){return t.id===e.id});t?y.push(t):y.push(e)});var h=f.selectAll("g.francy-node").data(y);if(0!=h.exit().data().length||0!=h.enter().data().length||0!=d.enter().data().length||0!=d.exit().data().length){d.enter().append("g").attr("class","francy-link").append("line").attr("class","francy-edge"),d.exit().remove(),d=c.selectAll("g.francy-link line.francy-edge"),"directed"===this.data.canvas.graph.type&&(e.append("defs").selectAll("marker").data(["arrow"]).enter().append("marker").attr("class","francy-arrows").attr("id",function(e){return e}).attr("viewBox","0 -5 10 10").attr("refX",25).attr("refY",0).attr("markerWidth",10).attr("markerHeight",10).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5 L10,0 L0, -5"),d.style("marker-end","url(#arrow)"));var v=h.enter().append("g").attr("class","francy-node").attr("id",function(e){return e.id});if(v.append("path").attr("d",d3.symbol().type(function(e){return o.default.getSymbol(e.type)}).size(function(e){return 100*e.size})).style("fill",function(e){return o.default.colors(5*e.layer)}).attr("class",function(e){return"francy-symbol"+(e.highlight?" francy-highlight":"")+(Object.values(e.menus).length?" francy-context":"")}),v.append("text").attr("class","francy-label").attr("x",function(e){return-2.5*e.title.length}).text(function(e){return e.title}),h.exit().remove(),h=f.selectAll("g.francy-node"),this.data.canvas.graph.drag&&h.call(d3.drag().on("start",function(e){!d3.event.active&&t&&k.alphaTarget(.01).restart();e.fx=e.x,e.fy=e.y}).on("drag",function(e){e.fx=d3.event.x,e.fy=d3.event.y}).on("end",function(e){!d3.event.active&&t&&k.alphaTarget(0);e.fx=null,e.fy=null})),h&&!h.empty()){o.default.applyEvents(h,this.options);var b=h.on("click");h.on("click",function(e){(function(){function e(e,t){return P[e.index+","+t.index]}if(d3.event.preventDefault(),0===j){var t=d3.select(this).node().__data__;h.style("opacity",function(n){return e(t,n)||e(n,t)?1:.1}),d.style("opacity",function(e){return t.index===e.source.index||t.index===e.target.index?1:.1}),j=1}else h.style("opacity",1),d.style("opacity",1),j=0}).call(this),b.call(this,e)})}if(t){var m=d3.forceCenter().x(a/2).y(l/2),g=d3.forceManyBody().strength(30*-n.length),w=d3.forceLink(r).id(function(e){return e.id}).distance(50),_=d3.forceCollide(function(e){return 2*e.size}),O=d3.forceX(a/2).strength(.05),x=d3.forceY(l/2).strength(.25);"hasse"===this.data.canvas.graph.type&&(O=d3.forceX(a/2).strength(.5),x=d3.forceY(function(e){return 50*e.layer}).strength(.9));var k=d3.forceSimulation().nodes(y).force("charge",g).force("link",w).force("center",m).force("x",O).force("y",x).force("collide",_).on("tick",function(){d.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}),h.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})}).on("end",function(){e.zoomToFit()});k.alpha(.3).restart()}else e.zoomToFit();for(var j=0,P={},T=0;T<n.length;T++)P[T+","+T]=1;return r.forEach(function(e){P[e.source.index+","+e.target.index]=1}),(0,i.RegisterMathJax)(this.SVGParent),this}}},{key:"unrender",value:function(){}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(9),c=(o=l)&&o.__esModule?o:{default:o};var u,s,d,f,p,y,h=(r=(0,n(1).requires)("menus"),a=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),i(t,[{key:"render",value:function(){var e=this;d3.event.preventDefault(),this.element=this.HTMLParent.select("div.francy-context-menu-holder"),this.element.node()||(this.element=this.HTMLParent.append("div").attr("class","francy-context-menu-holder"));var t=d3.mouse(this.SVGParent.node());if(this.element.style("left",t[0]+5+"px").style("top",t[1]+5+"px"),this.element.style("display","block"),!this.element.selectAll("*").node()){d3.select("body").on("click.francy-context-menu",function(){return e.unrender()});var n=this.element.append("div").attr("class","francy-context-menu").append("ul"),r=this.iterator(Object.values(this.data.menus));return this.traverse(n,r),this}}},{key:"unrender",value:function(){this.element&&(this.element.selectAll("*").remove(),this.element.style("display",null))}}]),t}(),u=a.prototype,s="render",d=[r],f=Object.getOwnPropertyDescriptor(a.prototype,"render"),p=a.prototype,y={},Object.keys(f).forEach(function(e){y[e]=f[e]}),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),y=d.slice().reverse().reduce(function(e,t){return t(u,s,e)||e},y),p&&void 0!==y.initializer&&(y.value=y.initializer?y.initializer.call(p):void 0,y.initializer=void 0),void 0===y.initializer&&(Object.defineProperty(u,s,y),y=null),a);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=(r=o)&&r.__esModule?r:{default:r},l=n(2);var c=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"render",value:function(){var e=this,t=this.data.callback.id;this.logger.debug("Creating Callback Modal ["+t+"]...");var n=d3.select("body").append("div").attr("class","francy-overlay"),r=d3.select("body").append("div").attr("class","francy");this.element=r.append("div").attr("id",t).attr("class","francy-modal");var a=this.element.append("form"),o=a.append("div").attr("class","francy-modal-header").append("span").html("Required arguments&nbsp;");this.data.title&&o.append("span").attr("style","font-weight: bold;").text("for "+this.data.title);var i=a.append("div").attr("class","francy-modal-content").append("div").attr("class","francy-table").append("div").attr("class","francy-table-body"),c=!0,u=!1,s=void 0;try{for(var d,f=Object.values(this.data.callback.requiredArgs)[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value,y=i.append("div").attr("class","francy-table-row");y.append("div").attr("class","francy-table-cell").append("label").attr("for",p.id).text(p.title);var h=y.append("div").attr("class","francy-table-cell").append("input").attr("id",p.id).attr("class","francy-arg").attr("required","").attr("name",p.id).attr("type",p.type).attr("value",p.value).on("change",function(){e.data.callback.requiredArgs[this.id].value=this.value}).on("input",this.onchange).on("keyup",this.onchange).on("paste",this.onchange);"boolean"===p.type&&(p.value=p.value||!1,h.attr("type","checkbox").attr("required",null).attr("value",p.value).on("change",function(){e.data.callback.requiredArgs[this.id].value=this.value=this.checked})),y.append("span").attr("class","validity")}}catch(e){u=!0,s=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw s}}var v=a.append("div").attr("class","francy-modal-footer");return v.append("button").text("Ok").on("click",function(){return a.node().checkValidity()&&(d3.event.preventDefault(),e.options.callbackHandler(e.data.callback),n.remove(),e.element.remove(),r.remove()),!1}),v.append("button").text("Cancel").on("click",function(){return n.remove(),e.element.remove(),r.remove(),d3.event.preventDefault(),!1}),(0,l.RegisterJupyterKeyboardEvents)([".francy",".francy-arg",".francy-overlay",".francy-modal"]),i.selectAll(".francy-arg").node().focus(),this.logger.debug("Callback Modal updated ["+t+"]..."),this}},{key:"unrender",value:function(){}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=l(n(3)),i=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"render",value:function(){var e=this.options.appendTo.element,t=new o.default(this.options),n=this.data.canvas.chart.axis,r=this.data.canvas.chart.data,a=Object.keys(r);this.element=e.select("g.francy-content");var l=50,c=50,u=50,s=50,d=+e.attr("width")||d3.select("body").node().getBoundingClientRect().width,f=+e.attr("height")||d3.select("body").node().getBoundingClientRect().height;d=d-s-c,f=f-l-u;var p=d3.scaleBand().range([0,d]).padding(.1).domain(n.x.domain),y=d3.scaleLinear().range([f,0]).domain(n.y.domain),h=[];a.forEach(function(e){return h=h.concat(r[e])}),n.y.domain.length||y.domain([0,d3.max(h,function(e){return e})]),n.x.domain.length||(n.x.domain=i.default.domainRange(h.length/a.length),p.domain(n.x.domain));var v=this.element.selectAll("g.francy-bars");v.node()||(v=this.element.append("g").attr("class","francy-bars")),a.forEach(function(e,o){var l=v.selectAll(".francy-bar-"+o).data(r[e]);l.exit().transition().duration(750).style("fill-opacity",1e-6).remove(),l.enter().append("rect").style("fill",function(){return i.default.colors(5*o)}).attr("class","francy-bar-"+o).attr("x",function(e,t){return p(n.x.domain[t])+o*(p.bandwidth()/a.length)}).attr("width",p.bandwidth()/a.length-1).attr("y",function(e){return y(e)}).attr("height",function(e){return f-y(e)}).on("mouseenter",function(n){d3.select(this).transition().duration(250).style("fill-opacity",.5),t.load(i.default.tooltip(e,n),!0).render()}).on("mouseleave",function(){d3.select(this).transition().duration(250).style("fill-opacity",1),t.unrender()}).merge(l).attr("x",function(e,t){return p(n.x.domain[t])+o*(p.bandwidth()/a.length)}).attr("width",p.bandwidth()/a.length-1).attr("y",function(e){return y(e)}).attr("height",function(e){return f-y(e)})});var b=this.element.selectAll("g.francy-x-axis");b.node()||(b=this.element.append("g").attr("class","francy-x-axis")),b.selectAll("*").remove(),b.attr("transform","translate(0,"+f+")").call(d3.axisBottom(p)).append("text").attr("dy",50).attr("dx",d/2).attr("fill","black").attr("class","francy-axis").style("text-anchor","end").text(n.x.title);var m=this.element.selectAll("g.francy-y-axis");m.node()||(m=this.element.append("g").attr("class","francy-y-axis")),m.selectAll("*").remove(),m.call(d3.axisLeft(y)).append("text").attr("dx",-50).attr("dy",f/2).attr("fill","black").attr("class","francy-axis").style("text-anchor","end").text(n.y.title);var g=this.element.selectAll(".francy-legend");g.node()||(g=this.element.append("g").attr("class","francy-legend")),g.selectAll("*").remove();var w=g.selectAll("g").data(a.slice());return w.exit().remove(),(w=w.enter().append("g").attr("transform",function(e,t){return"translate(0,"+20*t+")"}).merge(w)).append("rect").attr("x",d+20).attr("width",19).attr("height",19).style("fill",function(e,t){return i.default.colors(5*t)}),w.append("text").attr("x",d+80).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(function(e){return e}),this}},{key:"unrender",value:function(){}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=l(n(3)),i=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"render",value:function(){var e=new o.default(this.options),t=this.options.appendTo.element,n=this.data.canvas.chart.axis,r=this.data.canvas.chart.data,a=Object.keys(r);this.element=t.select("g.francy-content");var l=50,c=50,u=50,s=50,d=+t.attr("width")||d3.select("body").node().getBoundingClientRect().width,f=+t.attr("height")||d3.select("body").node().getBoundingClientRect().height;d=d-s-c,f=f-l-u;var p=d3.scaleLinear().range([0,d]).domain(n.x.domain),y=d3.scaleLinear().range([f,0]).domain(n.y.domain),h=[];a.forEach(function(e){return h=h.concat(r[e])}),n.y.domain.length||y.domain([0,d3.max(h,function(e){return e})]),n.x.domain.length||p.domain([0,h.length/a.length]);var v=this.element.selectAll("g.francy-lines");v.node()||(v=this.element.append("g").attr("class","francy-lines")),a.forEach(function(t,n){var a=d3.line().x(function(e,t){return p(t)}).y(function(e){return y(e)}),o=v.selectAll(".francy-line-"+n).data([r[t]]);o.exit().transition().duration(750).style("fill-opacity",1e-6).remove(),o.enter().append("path").style("stroke",function(){return i.default.colors(5*n)}).style("stroke-width","5px").attr("class","francy-line-"+n).attr("d",a).on("mouseenter",function(n){d3.select(this).transition().duration(250).style("stroke-opacity",.5).style("stroke-width","10px"),e.load(i.default.tooltip(t,n),!0).render()}).on("mouseleave",function(){d3.select(this).transition().duration(250).style("stroke-opacity",1).style("stroke-width","5px"),e.unrender()}).merge(o)});var b=this.element.selectAll("g.francy-x-axis");b.node()||(b=this.element.append("g").attr("class","francy-x-axis")),b.selectAll("*").remove(),b.attr("transform","translate(0,"+f+")").call(d3.axisBottom(p)).append("text").attr("dy",50).attr("dx",d/2).attr("fill","black").attr("class","francy-axis").style("text-anchor","end").text(n.x.title);var m=this.element.selectAll("g.francy-y-axis");m.node()||(m=this.element.append("g").attr("class","francy-y-axis")),m.selectAll("*").remove(),m.call(d3.axisLeft(y)).append("text").attr("dx",-50).attr("dy",f/2).attr("fill","black").attr("class","francy-axis").style("text-anchor","end").text(n.y.title);var g=this.element.selectAll(".francy-legend");g.node()||(g=this.element.append("g").attr("class","francy-legend")),g.selectAll("*").remove();var w=g.selectAll("g").data(a.slice());return w.exit().remove(),(w=w.enter().append("g").attr("transform",function(e,t){return"translate(0,"+20*t+")"}).merge(w)).append("rect").attr("x",d+20).attr("width",19).attr("height",19).style("fill",function(e,t){return i.default.colors(5*t)}),w.append("text").attr("x",d+80).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(function(e){return e}),this}},{key:"unrender",value:function(){}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=l(n(3)),i=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"render",value:function(){var e=new o.default(this.options),t=this.options.appendTo.element,n=this.data.canvas.chart.axis,r=this.data.canvas.chart.data,a=Object.keys(r);this.element=t.select("g.francy-content");var l=50,c=50,u=50,s=50,d=+t.attr("width")||d3.select("body").node().getBoundingClientRect().width,f=+t.attr("height")||d3.select("body").node().getBoundingClientRect().height;d=d-s-c,f=f-l-u;var p=d3.scaleLinear().range([0,d]).domain(n.x.domain),y=d3.scaleLinear().range([f,0]).domain(n.y.domain),h=[];a.forEach(function(e){return h=h.concat(r[e])}),n.y.domain.length||y.domain([0,d3.max(h,function(e){return e})]),n.x.domain.length||p.domain([0,h.length/a.length]);var v=this.element.selectAll("g.francy-scatters");v.node()||(v=this.element.append("g").attr("class","francy-scatters")),a.forEach(function(t,n){var a=v.selectAll(".francy-scatter-"+n).data(r[t]);a.exit().transition().duration(750).style("fill-opacity",1e-6).remove(),a.enter().append("circle").style("fill",function(){return i.default.colors(5*n)}).attr("class","francy-scatter-"+n).attr("r",5).attr("cx",function(e,t){return p(t)}).attr("cy",function(e){return y(e)}).on("mouseenter",function(n){d3.select(this).transition().duration(250).style("fill-opacity",.5).attr("r",10),e.load(i.default.tooltip(t,n),!0).render()}).on("mouseleave",function(){d3.select(this).transition().duration(250).style("fill-opacity",1).attr("r",5),e.unrender()}).merge(a)});var b=this.element.selectAll("g.francy-x-axis");b.node()||(b=this.element.append("g").attr("class","francy-x-axis")),b.selectAll("*").remove(),b.attr("transform","translate(0,"+f+")").call(d3.axisBottom(p)).append("text").attr("dy",50).attr("dx",d/2).attr("fill","black").attr("class","francy-axis").style("text-anchor","end").text(n.x.title);var m=this.element.selectAll("g.francy-y-axis");m.node()||(m=this.element.append("g").attr("class","francy-y-axis")),m.selectAll("*").remove(),m.call(d3.axisLeft(y)).append("text").attr("dx",-50).attr("dy",f/2).attr("fill","black").attr("class","francy-axis").style("text-anchor","end").text(n.y.title);var g=this.element.selectAll(".francy-legend");g.node()||(g=this.element.append("g").attr("class","francy-legend")),g.selectAll("*").remove();var w=g.selectAll("g").data(a.slice());return w.exit().remove(),(w=w.enter().append("g").attr("transform",function(e,t){return"translate(0,"+20*t+")"}).merge(w)).append("rect").attr("x",d+20).attr("width",19).attr("height",19).style("fill",function(e,t){return i.default.colors(5*t)}),w.append("text").attr("x",d+80).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(function(e){return e}),this}},{key:"unrender",value:function(){}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(9)),o=i(n(23));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"render",value:function(){var e=this,t=this.options.appendTo.element,n=new o.default(this.options),r="MainMenu-"+this.data.canvas.id;this.element=d3.select("#"+r),this.element.node()||(this.logger.debug("Creating Main Menu ["+r+"]..."),this.element=t.append("div").attr("class","francy-main-menu-holder").attr("id",r)),this.element.selectAll("*").remove(),this.element=this.element.append("ul").attr("class","francy-main-menu"),this.data.canvas.title&&this.element.append("li").attr("class","francy-title").append("a").html(this.data.canvas.title);var a=this.element.append("li");a.append("a").html("Francy");var i=a.append("ul");this.data.canvas.zoomToFit&&i.append("li").append("a").on("click",function(){return e.options.appendTo.canvas.zoomToFit()}).attr("title","Zoom to Fit").html("Zoom to Fit"),i.append("li").append("a").on("click",function(){return n.load(e.data).render()}).attr("title","About").html("About");var l=this.iterator(Object.values(this.data.canvas.menus));return this.traverse(this.element,l),this.logger.debug("Main Menu updated ["+r+"]..."),this}},{key:"unrender",value:function(){}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=(r=o)&&r.__esModule?r:{default:r},l=n(2);var c=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"render",value:function(){var e=this,t="AboutModalWindow";this.logger.debug("Creating About Modal ["+t+"]...");var n=d3.select("body").append("div").attr("class","francy-overlay"),r=d3.select("body").append("div").attr("class","francy");this.element=r.append("div").attr("id",t).attr("class","francy-modal");var a=this.element.append("form");a.append("div").attr("class","francy-modal-header").append("span").html("About Francy v"+(this.data.version||"N/A"));var o=a.append("div").attr("class","francy-modal-content").append("div").attr("class","francy-table").append("div").attr("class","francy-table-body");return o.append("span").text("Loaded Object:"),o.append("pre").attr("class","francy").html(this.syntaxHighlight(JSON.stringify(this.data.canvas,null,2))),o.append("span").append("a").attr("href","https://github.com/mcmartins/francy").text("Francy on Github"),a.append("div").attr("class","francy-modal-footer").append("button").text("Ok").on("click",function(){return n.remove(),e.element.remove(),r.remove(),d3.event.preventDefault(),!1}),(0,l.RegisterJupyterKeyboardEvents)([".francy",".francy-arg",".francy-overlay",".francy-modal"]),this.logger.debug("Callback About updated ["+t+"]..."),this}},{key:"unrender",value:function(){}},{key:"syntaxHighlight",value:function(e){return(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=(o=l)&&o.__esModule?o:{default:o};var u,s,d,f,p,y,h=(r=(0,n(1).requires)("canvas.messages"),a=function(e){function t(e){var n=e.verbose,r=void 0!==n&&n,a=e.appendTo,o=e.callbackHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{verbose:r,appendTo:a,callbackHandler:o}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),i(t,[{key:"render",value:function(){var e=this,t=this.options.appendTo.element,n=this,r=Object.keys(this.data.canvas.messages).map(function(t){return{id:t,type:e.data.canvas.messages[t].type,title:e.data.canvas.messages[t].title,text:e.data.canvas.messages[t].text}}),a="Messages-"+this.data.canvas.id;return this.element=d3.select("#"+a),this.element.node()||(this.element=t.append("div").attr("class","francy-message-holder").attr("id",a)),r.map(function(e){if(!n.element.select("div#"+e.id).node()){var t=n.element.append("div").attr("id",e.id).attr("class","francy-alert alert-"+e.type).on("click",function(){d3.select(this).style("display","none")});t.append("span").attr("class","strong").text(e.title),t.append("span").text(e.text),t.append("span").attr("class","strong").style("display","none").text("x")}}),this.element.style("display","block"),this}},{key:"unrender",value:function(){}}]),t}(),u=a.prototype,s="render",d=[r],f=Object.getOwnPropertyDescriptor(a.prototype,"render"),p=a.prototype,y={},Object.keys(f).forEach(function(e){y[e]=f[e]}),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),y=d.slice().reverse().reduce(function(e,t){return t(u,s,e)||e},y),p&&void 0!==y.initializer&&(y.value=y.initializer?y.initializer.call(p):void 0,y.initializer=void 0),void 0===y.initializer&&(Object.defineProperty(u,s,y),y=null),a);t.default=h}])});