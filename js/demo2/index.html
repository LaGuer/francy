<!doctype html>
<html>
<head>
    <title>SSH Client</title>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/2.3.6/svg.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/svg.draggy.js/1.1.1/svg.draggy.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/svg.connectable.js/2.0.0/svg.connectable.js"></script>
    <script src="../builder.js"></script>
    <script src="../reader.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        .terminal {
            font-family: monospace;
            color: white;
            background: black;
        }
    </style>
</head>

<body>
<h1>SSH</h1>

<textarea id="text" rows="4" cols="50"></textarea>
<div id="window-1"></div>
<div id="window-2"></div>
<div id="window-3"></div>
<div id="window-4"></div>
<div id="window-5"></div>
<div id="window-6"></div>
</div>
<script>
  // Connect to the socket.io server
  var socket = io.connect('http://localhost:8080');
  // Wait for data from the server
  socket.on('data', function (data) {
    console.log(data);
    data = data.split('gap>').join('').split('\\').join('').split(' ').join('').replace(/[\n\r\b]+/g, '');
    if (JsonReader.isValid(data)) {
      Francy.draw(JsonReader.get());
    }
  });

  // Listen for user input and pass it to the server
  $("#text").on("keypress", function (e) {
    if(e.keyCode == 13) {
      socket.emit("input", $("#text").val());
    }
  });
</script>
</body>
</html>